{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vShow as _vShow, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"movie-details-wrapper bg-[#121212] text-white min-h-screen\"\n};\nconst _hoisted_2 = {\n  class: \"hide-on-mobile header-with-gradient\"\n};\nconst _hoisted_3 = {\n  class: \"movie-detail-container\"\n};\nconst _hoisted_4 = {\n  class: \"movie-backdrop\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"video-container\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"video-loading\"\n};\nconst _hoisted_8 = [\"poster\"];\nconst _hoisted_9 = {\n  class: \"movie-info-container\"\n};\nconst _hoisted_10 = {\n  class: \"movie-badges\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"badge premium\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"badge quality\"\n};\nconst _hoisted_13 = {\n  class: \"movie-title\"\n};\nconst _hoisted_14 = {\n  class: \"movie-meta\"\n};\nconst _hoisted_15 = {\n  class: \"badge premium\"\n};\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = {\n  key: 1,\n  class: \"premium-price ml-2\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"movie-tags\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"tag\"\n};\nconst _hoisted_20 = {\n  key: 1,\n  class: \"tag\"\n};\nconst _hoisted_21 = {\n  class: \"movie-description\"\n};\nconst _hoisted_22 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_23 = {\n  class: \"pl-4 sm:pl-6 md:pl-10 py-4 space-y-8 relative overflow-hidden\"\n};\nconst _hoisted_24 = {\n  class: \"flex justify-between items-center mb-3 pr-4\"\n};\nconst _hoisted_25 = {\n  class: \"gradient-text font-semibold text-base md:text-lg\"\n};\nconst _hoisted_26 = {\n  class: \"relative carousel-container\"\n};\nconst _hoisted_27 = {\n  class: \"flex gap-4 pr-4 carousel-inner-container\"\n};\nconst _hoisted_28 = [\"onClick\"];\nconst _hoisted_29 = {\n  class: \"relative rounded-md overflow-hidden card-container\"\n};\nconst _hoisted_30 = [\"src\", \"alt\"];\nconst _hoisted_31 = {\n  key: 0,\n  class: \"absolute top-2 right-2\"\n};\nconst _hoisted_32 = {\n  key: 1,\n  class: \"absolute top-2 left-2\"\n};\nconst _hoisted_33 = {\n  class: \"related-movie-title mt-1 text-xs font-semibold truncate card-text\"\n};\nconst _hoisted_34 = {\n  class: \"relative carousel-container\"\n};\nconst _hoisted_35 = {\n  class: \"flex gap-4 pr-4 carousel-inner-container\"\n};\nconst _hoisted_36 = [\"onClick\"];\nconst _hoisted_37 = {\n  class: \"relative rounded-md overflow-hidden card-container\"\n};\nconst _hoisted_38 = [\"src\", \"alt\"];\nconst _hoisted_39 = {\n  key: 0,\n  class: \"absolute top-2 right-2 flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-r from-[#c30059] to-[#ff0062] shadow\"\n};\nconst _hoisted_40 = {\n  key: 1,\n  class: \"absolute bottom-2 left-2\"\n};\nconst _hoisted_41 = {\n  class: \"related-movie-title mt-1 text-xs font-semibold truncate card-text\"\n};\nconst _hoisted_42 = {\n  key: 1,\n  class: \"payment-popup-overlay\"\n};\nconst _hoisted_43 = {\n  class: \"payment-popup\"\n};\nconst _hoisted_44 = {\n  class: \"popup-header\"\n};\nconst _hoisted_45 = {\n  class: \"popup-content\"\n};\nconst _hoisted_46 = {\n  class: \"movie-preview\"\n};\nconst _hoisted_47 = [\"src\"];\nconst _hoisted_48 = {\n  class: \"movie-info\"\n};\nconst _hoisted_49 = {\n  class: \"movie-title\"\n};\nconst _hoisted_50 = {\n  class: \"flex items-center gap-2 text-sm text-white/60\"\n};\nconst _hoisted_51 = {\n  key: 0\n};\nconst _hoisted_52 = {\n  key: 1,\n  class: \"dot-divider\"\n};\nconst _hoisted_53 = {\n  key: 2,\n  class: \"payment-popup-overlay\"\n};\nconst _hoisted_54 = {\n  class: \"payment-popup\"\n};\nconst _hoisted_55 = {\n  class: \"popup-header\"\n};\nconst _hoisted_56 = {\n  class: \"flex items-center gap-3\"\n};\nconst _hoisted_57 = {\n  class: \"text-xl font-bold\"\n};\nconst _hoisted_58 = {\n  class: \"text-sm text-white/60\"\n};\nconst _hoisted_59 = {\n  class: \"popup-content\"\n};\nconst _hoisted_60 = {\n  class: \"movie-preview\"\n};\nconst _hoisted_61 = [\"src\"];\nconst _hoisted_62 = {\n  class: \"movie-info\"\n};\nconst _hoisted_63 = {\n  class: \"movie-title\"\n};\nconst _hoisted_64 = {\n  class: \"flex items-center gap-2 text-sm text-white/60\"\n};\nconst _hoisted_65 = {\n  key: 0\n};\nconst _hoisted_66 = {\n  key: 1,\n  class: \"dot-divider\"\n};\nconst _hoisted_67 = {\n  class: \"rental-details bg-white/5 rounded-lg p-4 my-4\"\n};\nconst _hoisted_68 = {\n  class: \"flex justify-between items-center mb-2\"\n};\nconst _hoisted_69 = {\n  class: \"text-xl font-bold\"\n};\nconst _hoisted_70 = {\n  class: \"flex justify-between items-center\"\n};\nconst _hoisted_71 = {\n  class: \"text-center text-sm text-white/60 mt-4\"\n};\nconst _hoisted_72 = {\n  key: 3,\n  class: \"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-sm\"\n};\nconst _hoisted_73 = {\n  class: \"bg-[#1d1d1d] rounded-xl w-full max-w-md p-6\"\n};\nconst _hoisted_74 = {\n  class: \"flex justify-between items-center mb-6\"\n};\nconst _hoisted_75 = {\n  class: \"text-xl font-bold\"\n};\nconst _hoisted_76 = {\n  class: \"flex items-center gap-4 mb-6 p-4 bg-[#121212] rounded-lg\"\n};\nconst _hoisted_77 = [\"src\", \"alt\"];\nconst _hoisted_78 = {\n  class: \"flex-1\"\n};\nconst _hoisted_79 = {\n  class: \"font-semibold text-white mb-1\"\n};\nconst _hoisted_80 = {\n  class: \"text-sm text-gray-400 line-clamp-2\"\n};\nconst _hoisted_81 = {\n  class: \"grid grid-cols-2 gap-4 mb-6\"\n};\nconst _hoisted_82 = {\n  class: \"mb-6\"\n};\nconst _hoisted_83 = {\n  class: \"relative\"\n};\nconst _hoisted_84 = [\"value\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AdvancedVideoPlayer = _resolveComponent(\"AdvancedVideoPlayer\");\n  const _component_AppHeader = _resolveComponent(\"AppHeader\");\n  const _component_AppFooter = _resolveComponent(\"AppFooter\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.isVideoPlaying ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"advanced-video-player-modal\",\n    onMousemove: _cache[0] || (_cache[0] = (...args) => $options.showControlsOnInteraction && $options.showControlsOnInteraction(...args)),\n    onTouchstart: _cache[1] || (_cache[1] = (...args) => $options.showControlsOnInteraction && $options.showControlsOnInteraction(...args)),\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleControlsVisibility && $options.toggleControlsVisibility(...args))\n  }, [_createVNode(_component_AdvancedVideoPlayer, {\n    ref: \"videoPlayer\",\n    src: $data.videoUrl,\n    title: $data.movie.title,\n    \"video-id\": $data.movie.id,\n    \"user-id\": $options.currentUserId,\n    streamType: $data.streamType,\n    autoplay: true,\n    isLive: false,\n    drmConfig: $data.drmConfig,\n    controlsVisible: $data.controlsVisible,\n    onClose: $options.closeVideo,\n    onPlay: $options.onVideoPlay,\n    onPause: $options.onVideoPause,\n    onInteraction: $options.showControlsOnInteraction,\n    onError: $options.handleVideoError\n  }, null, 8, [\"src\", \"title\", \"video-id\", \"user-id\", \"streamType\", \"drmConfig\", \"controlsVisible\", \"onClose\", \"onPlay\", \"onPause\", \"onInteraction\", \"onError\"])], 32)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_AppHeader, {\n    onToggleSearch: $options.toggleSearch,\n    hideBackButton: true\n  }, null, 8, [\"onToggleSearch\"])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"img\", {\n    src: $data.isMobileDevice && $data.movie.portrait_thumbnail_url ? $data.movie.portrait_thumbnail_url : $data.movie.thumbnail_url,\n    alt: \"Movie Thumbnail\",\n    class: _normalizeClass(['backdrop-image', {\n      'portrait-mobile': $data.isMobileDevice && $data.movie.portrait_thumbnail_url\n    }])\n  }, null, 10, _hoisted_5), [[_vShow, !$data.isPromoPlaying && !$data.isPromoLoading]]), $data.movie.promo_hls_url ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [$data.isPromoLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7)) : _createCommentVNode(\"\", true), _withDirectives(_createElementVNode(\"video\", {\n    ref: \"heroVideo\",\n    class: \"backdrop-video\",\n    poster: $data.movie.thumbnail_url,\n    autoplay: \"\",\n    muted: \"\",\n    loop: \"\",\n    playsinline: \"\",\n    preload: \"auto\",\n    onLoadeddata: _cache[3] || (_cache[3] = (...args) => $options.onPromoVideoLoaded && $options.onPromoVideoLoaded(...args)),\n    onEnded: _cache[4] || (_cache[4] = (...args) => $options.handlePromoVideoEnd && $options.handlePromoVideoEnd(...args)),\n    onError: _cache[5] || (_cache[5] = (...args) => $options.handlePromoVideoError && $options.handlePromoVideoError(...args)),\n    onWaiting: _cache[6] || (_cache[6] = (...args) => $options.onPromoVideoWaiting && $options.onPromoVideoWaiting(...args)),\n    onPlaying: _cache[7] || (_cache[7] = (...args) => $options.onPromoVideoPlaying && $options.onPromoVideoPlaying(...args)),\n    onCanplay: _cache[8] || (_cache[8] = (...args) => $options.onPromoVideoCanPlay && $options.onPromoVideoCanPlay(...args)),\n    style: {\n      \"width\": \"100vw\",\n      \"max-width\": \"100vw\",\n      \"aspect-ratio\": \"16/9\",\n      \"object-fit\": \"contain\",\n      \"background\": \"#000\",\n      \"display\": \"block\",\n      \"margin\": \"0 auto\",\n      \"max-height\": \"70vh\"\n    }\n  }, null, 40, _hoisted_8), [[_vShow, $data.isPromoPlaying && !$data.isPromoLoading]])])) : _createCommentVNode(\"\", true), _cache[33] || (_cache[33] = _createElementVNode(\"div\", {\n    class: \"backdrop-gradient\"\n  }, null, -1))]), _createElementVNode(\"button\", {\n    class: \"back-btn mobile-only-element\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.goBack && $options.goBack(...args))\n  }, _cache[34] || (_cache[34] = [_createElementVNode(\"i\", {\n    class: \"fas fa-arrow-left\"\n  }, null, -1)])), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [$data.movie.video_type === 'paid' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, _cache[35] || (_cache[35] = [_createElementVNode(\"i\", {\n    class: \"fas fa-crown mr-1\"\n  }, null, -1), _createTextVNode(\" Premium \")]))) : _createCommentVNode(\"\", true), $data.movie.is4K ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"4K\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"h1\", _hoisted_13, _toDisplayString($data.movie.title), 1), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"span\", null, _toDisplayString($options.movieYear), 1), _cache[39] || (_cache[39] = _createElementVNode(\"span\", {\n    class: \"dot-divider\"\n  }, null, -1)), _createElementVNode(\"span\", null, _toDisplayString($options.formattedDuration), 1), _cache[40] || (_cache[40] = _createElementVNode(\"span\", {\n    class: \"dot-divider\"\n  }, null, -1)), _createElementVNode(\"span\", null, _toDisplayString($options.categoryName), 1), $data.movie.video_type === 'rental' && $data.movie.prices && $data.movie.prices.length && !$data.isUserSubscribed ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_cache[38] || (_cache[38] = _createElementVNode(\"span\", {\n    class: \"dot-divider\"\n  }, null, -1)), _createElementVNode(\"span\", _hoisted_15, [_cache[36] || (_cache[36] = _createElementVNode(\"i\", {\n    class: \"fas fa-ticket-alt mr-1\"\n  }, null, -1)), _cache[37] || (_cache[37] = _createTextVNode(\" Rental: \")), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.movie.prices, (price, idx) => {\n    return _openBlock(), _createElementBlock(_Fragment, {\n      key: price.id\n    }, [_createTextVNode(\" ₹\" + _toDisplayString(price.rental_price) + \" for \" + _toDisplayString($options.formatWatchPeriod(price.rental_duration)), 1), idx < $data.movie.prices.length - 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16, \", \")) : _createCommentVNode(\"\", true)], 64);\n  }), 128))])], 64)) : _createCommentVNode(\"\", true), $data.movie.video_type === 'paid' && $data.movie.rental_price ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, \" ₹\" + _toDisplayString($data.movie.rental_price), 1)) : _createCommentVNode(\"\", true)]), $data.movie.mood1 || $data.movie.mood2 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [$data.movie.mood1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_19, _toDisplayString($data.movie.mood1), 1)) : _createCommentVNode(\"\", true), $data.movie.mood2 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_20, _toDisplayString($data.movie.mood2), 1)) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true), _createElementVNode(\"p\", _hoisted_21, _toDisplayString($data.movie.description), 1), _createElementVNode(\"div\", _hoisted_22, [$options.shouldShowPromoButton ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"play-button\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.playPromo && $options.playPromo(...args))\n  }, _cache[41] || (_cache[41] = [_createElementVNode(\"i\", {\n    class: \"fas fa-film\"\n  }, null, -1), _createElementVNode(\"span\", null, \"Promo\", -1)]))) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n    class: \"play-button\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.playMovie && $options.playMovie(...args))\n  }, _cache[42] || (_cache[42] = [_createElementVNode(\"i\", {\n    class: \"fas fa-play\"\n  }, null, -1), _createElementVNode(\"span\", null, \"Full Video\", -1)])), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"secondary-button\", {\n      'in-watchlist': $data.isInWatchlist\n    }]),\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.toggleWatchlist && $options.toggleWatchlist(...args))\n  }, [_createElementVNode(\"i\", {\n    class: _normalizeClass(['fas', $data.isInWatchlist ? 'fa-bookmark' : 'fa-bookmark-o'])\n  }, null, 2), _createTextVNode(\" \" + _toDisplayString($data.isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'), 1)], 2), _createElementVNode(\"button\", {\n    class: \"action-button\",\n    onClick: _cache[13] || (_cache[13] = (...args) => $options.shareMovie && $options.shareMovie(...args))\n  }, _cache[43] || (_cache[43] = [_createElementVNode(\"i\", {\n    class: \"fas fa-share-alt\"\n  }, null, -1), _createElementVNode(\"span\", {\n    class: \"action-label\"\n  }, \"Share\", -1)]))])])]), _createElementVNode(\"main\", _hoisted_23, [_createElementVNode(\"section\", null, [_createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"h2\", _hoisted_25, _toDisplayString($options.categoryName), 1), _createElementVNode(\"a\", {\n    class: \"text-white font-semibold text-sm hover:underline whitespace-nowrap cursor-pointer\",\n    onClick: _cache[14] || (_cache[14] = (...args) => $options.navigateToCategory && $options.navigateToCategory(...args))\n  }, \" View All \")]), _createElementVNode(\"div\", _hoisted_26, [$data.canScrollLeft.category ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    \"aria-label\": \"Previous Category Videos\",\n    class: \"scroll-button left-scroll-button\",\n    onClick: _cache[15] || (_cache[15] = $event => $options.scrollLeft('categoryContainer'))\n  }, _cache[44] || (_cache[44] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-left\"\n  }, null, -1)]))) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", {\n    class: \"flex gap-4 overflow-x-auto scrollbar-hide scroll-container snap-x snap-mandatory\",\n    ref: \"categoryContainer\",\n    onScroll: _cache[16] || (_cache[16] = $event => $options.checkScrollButtons('categoryContainer', 'category'))\n  }, [_createElementVNode(\"div\", _hoisted_27, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categoryVideos, (video, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"related-movie-card snap-start\",\n      onClick: $event => $options.navigateToMovie(video.id)\n    }, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"img\", {\n      src: video.portrait_thumbnail_url || video.thumbnail_url || video.poster_url,\n      alt: video.title,\n      class: \"related-movie-image\"\n    }, null, 8, _hoisted_30), video.video_type === 'paid' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, _cache[45] || (_cache[45] = [_createElementVNode(\"span\", {\n      class: \"bg-gradient-to-r from-[#c30059] to-[#ff0062] text-white text-xs px-2 py-1 rounded-full font-semibold\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-crown mr-1\"\n    }), _createTextVNode(\"Premium \")], -1)]))) : _createCommentVNode(\"\", true), video.is4K ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, _cache[46] || (_cache[46] = [_createElementVNode(\"span\", {\n      class: \"bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-semibold\"\n    }, \" 4K \", -1)]))) : _createCommentVNode(\"\", true)]), _createElementVNode(\"p\", _hoisted_33, _toDisplayString($options.capitalizeText(video.title)), 1)], 8, _hoisted_28);\n  }), 128))])], 544), $data.canScrollRight.category ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    \"aria-label\": \"Next Category Videos\",\n    class: \"scroll-button right-scroll-button\",\n    onClick: _cache[17] || (_cache[17] = $event => $options.scrollRight('categoryContainer'))\n  }, _cache[47] || (_cache[47] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-right\"\n  }, null, -1)]))) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"section\", null, [_cache[52] || (_cache[52] = _createElementVNode(\"div\", {\n    class: \"flex justify-between items-center mb-3 pr-4\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"gradient-text font-semibold text-base md:text-lg\"\n  }, \" Recently Added \")], -1)), _createElementVNode(\"div\", _hoisted_34, [$data.canScrollLeft.recentlyAdded ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    \"aria-label\": \"Previous Recently Added\",\n    class: \"scroll-button left-scroll-button\",\n    onClick: _cache[18] || (_cache[18] = $event => $options.scrollLeft('recentlyAddedContainer'))\n  }, _cache[48] || (_cache[48] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-left\"\n  }, null, -1)]))) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", {\n    class: \"flex gap-4 overflow-x-auto scrollbar-hide scroll-container snap-x snap-mandatory\",\n    ref: \"recentlyAddedContainer\",\n    onScroll: _cache[19] || (_cache[19] = $event => $options.checkScrollButtons('recentlyAddedContainer', 'recentlyAdded'))\n  }, [_createElementVNode(\"div\", _hoisted_35, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.recentlyAddedVideos, (video, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"related-movie-card snap-start\",\n      onClick: $event => $options.navigateToMovie(video.id)\n    }, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"img\", {\n      src: video.portrait_thumbnail_url || video.thumbnail_url || video.poster_url,\n      alt: video.title,\n      class: \"related-movie-image\"\n    }, null, 8, _hoisted_38), video.video_type === 'paid' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_39, _cache[49] || (_cache[49] = [_createElementVNode(\"i\", {\n      class: \"fas fa-crown text-white text-base\"\n    }, null, -1)]))) : _createCommentVNode(\"\", true), video.is4K ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, _cache[50] || (_cache[50] = [_createElementVNode(\"span\", {\n      class: \"bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-semibold\"\n    }, \" 4K \", -1)]))) : _createCommentVNode(\"\", true)]), _createElementVNode(\"p\", _hoisted_41, _toDisplayString($options.capitalizeText(video.title)), 1)], 8, _hoisted_36);\n  }), 128))])], 544), $data.canScrollRight.recentlyAdded ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    \"aria-label\": \"Next Recently Added\",\n    class: \"scroll-button right-scroll-button\",\n    onClick: _cache[20] || (_cache[20] = $event => $options.scrollRight('recentlyAddedContainer'))\n  }, _cache[51] || (_cache[51] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-right\"\n  }, null, -1)]))) : _createCommentVNode(\"\", true)])])]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"mobile-search-bar\", {\n      active: $data.isSearchActive\n    }])\n  }, [_cache[54] || (_cache[54] = _createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search movies, shows and more...\"\n  }, null, -1)), _createElementVNode(\"button\", {\n    class: \"text-white\",\n    onClick: _cache[21] || (_cache[21] = (...args) => $options.toggleSearch && $options.toggleSearch(...args))\n  }, _cache[53] || (_cache[53] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times\"\n  }, null, -1)]))], 2), $data.showPaymentPopup ? (_openBlock(), _createElementBlock(\"div\", _hoisted_42, [_createElementVNode(\"div\", _hoisted_43, [_createElementVNode(\"div\", _hoisted_44, [_cache[56] || (_cache[56] = _createStaticVNode(\"<div class=\\\"flex items-center gap-3\\\" data-v-20b114a7><div class=\\\"premium-badge\\\" data-v-20b114a7><i class=\\\"fas fa-crown\\\" data-v-20b114a7></i></div><div data-v-20b114a7><h2 class=\\\"text-xl font-bold\\\" data-v-20b114a7>Premium Content</h2><p class=\\\"text-sm text-white/60\\\" data-v-20b114a7>Subscribe to Continue Watching</p></div></div>\", 1)), _createElementVNode(\"button\", {\n    onClick: _cache[22] || (_cache[22] = (...args) => $options.closePaymentPopup && $options.closePaymentPopup(...args)),\n    class: \"close-button\"\n  }, _cache[55] || (_cache[55] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times\"\n  }, null, -1)]))]), _createElementVNode(\"div\", _hoisted_45, [_createElementVNode(\"div\", _hoisted_46, [_createElementVNode(\"img\", {\n    src: $data.movie.thumbnail_url || $data.movie.poster_url,\n    alt: \"Movie Thumbnail\",\n    class: \"popup-thumbnail\"\n  }, null, 8, _hoisted_47), _createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"h3\", _hoisted_49, _toDisplayString($data.movie.title), 1), _createElementVNode(\"div\", _hoisted_50, [$options.formattedDuration ? (_openBlock(), _createElementBlock(\"span\", _hoisted_51, _toDisplayString($options.formattedDuration), 1)) : _createCommentVNode(\"\", true), $options.formattedDuration && $options.categoryName ? (_openBlock(), _createElementBlock(\"span\", _hoisted_52)) : _createCommentVNode(\"\", true), _createElementVNode(\"span\", null, _toDisplayString($options.categoryName), 1)])])]), _cache[58] || (_cache[58] = _createStaticVNode(\"<div class=\\\"premium-features\\\" data-v-20b114a7><h4 class=\\\"text-lg font-semibold mb-4\\\" data-v-20b114a7>Premium Benefits</h4><div class=\\\"features-grid\\\" data-v-20b114a7><div class=\\\"feature-item\\\" data-v-20b114a7><i class=\\\"fas fa-film text-[#c30059]\\\" data-v-20b114a7></i><div data-v-20b114a7><p class=\\\"font-medium\\\" data-v-20b114a7>All Premium Content</p><p class=\\\"text-sm text-white/60\\\" data-v-20b114a7>Unlimited access to premium movies &amp; shows</p></div></div><div class=\\\"feature-item\\\" data-v-20b114a7><i class=\\\"fas fa-tv text-[#c30059]\\\" data-v-20b114a7></i><div data-v-20b114a7><p class=\\\"font-medium\\\" data-v-20b114a7>Watch on Any Device</p><p class=\\\"text-sm text-white/60\\\" data-v-20b114a7>TV, laptop, phone, or tablet</p></div></div><div class=\\\"feature-item\\\" data-v-20b114a7><i class=\\\"fas fa-ban text-[#c30059]\\\" data-v-20b114a7></i><div data-v-20b114a7><p class=\\\"font-medium\\\" data-v-20b114a7>Ad-Free Experience</p><p class=\\\"text-sm text-white/60\\\" data-v-20b114a7>Uninterrupted entertainment</p></div></div></div></div>\", 1)), _createElementVNode(\"button\", {\n    onClick: _cache[23] || (_cache[23] = (...args) => $options.handleSubscribe && $options.handleSubscribe(...args)),\n    class: \"subscribe-button\"\n  }, _cache[57] || (_cache[57] = [_createElementVNode(\"span\", null, \"View Plans & Subscribe\", -1), _createElementVNode(\"i\", {\n    class: \"fas fa-arrow-right\"\n  }, null, -1)])), _cache[59] || (_cache[59] = _createElementVNode(\"p\", {\n    class: \"text-center text-sm text-white/60 mt-4\"\n  }, \" Plans start from ₹365/year (₹1/day) \", -1))])])])) : _createCommentVNode(\"\", true), $data.showRentalPopup ? (_openBlock(), _createElementBlock(\"div\", _hoisted_53, [_createElementVNode(\"div\", _hoisted_54, [_createElementVNode(\"div\", _hoisted_55, [_createElementVNode(\"div\", _hoisted_56, [_cache[60] || (_cache[60] = _createElementVNode(\"div\", {\n    class: \"premium-badge\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-ticket-alt\"\n  })], -1)), _createElementVNode(\"div\", null, [_createElementVNode(\"h2\", _hoisted_57, _toDisplayString($data.movie.title), 1), _createElementVNode(\"p\", _hoisted_58, _toDisplayString($options.formatWatchPeriod($data.movie.prices[0].rental_duration)) + \" Rental \", 1)])]), _createElementVNode(\"button\", {\n    onClick: _cache[24] || (_cache[24] = $event => $data.showRentalPopup = false),\n    class: \"close-button\"\n  }, _cache[61] || (_cache[61] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times\"\n  }, null, -1)]))]), _createElementVNode(\"div\", _hoisted_59, [_createElementVNode(\"div\", _hoisted_60, [_createElementVNode(\"img\", {\n    src: $data.movie.thumbnail_url || $data.movie.poster_url,\n    alt: \"Movie Thumbnail\",\n    class: \"popup-thumbnail\"\n  }, null, 8, _hoisted_61), _createElementVNode(\"div\", _hoisted_62, [_createElementVNode(\"h3\", _hoisted_63, _toDisplayString($data.movie.title), 1), _createElementVNode(\"div\", _hoisted_64, [$options.formattedDuration ? (_openBlock(), _createElementBlock(\"span\", _hoisted_65, _toDisplayString($options.formattedDuration), 1)) : _createCommentVNode(\"\", true), $options.formattedDuration && $options.categoryName ? (_openBlock(), _createElementBlock(\"span\", _hoisted_66)) : _createCommentVNode(\"\", true), _createElementVNode(\"span\", null, _toDisplayString($options.categoryName), 1)])])]), _createElementVNode(\"div\", _hoisted_67, [_createElementVNode(\"div\", _hoisted_68, [_cache[62] || (_cache[62] = _createElementVNode(\"span\", {\n    class: \"text-white/60\"\n  }, \"Rental Price\", -1)), _createElementVNode(\"span\", _hoisted_69, \"₹\" + _toDisplayString($data.movie.prices[0].rental_price), 1)]), _createElementVNode(\"div\", _hoisted_70, [_cache[63] || (_cache[63] = _createElementVNode(\"span\", {\n    class: \"text-white/60\"\n  }, \"Watch Period\", -1)), _createElementVNode(\"span\", null, _toDisplayString($options.formatWatchPeriod($data.movie.prices[0].rental_duration)), 1)])]), _createElementVNode(\"button\", {\n    onClick: _cache[25] || (_cache[25] = (...args) => $options.goToRentalPayment && $options.goToRentalPayment(...args)),\n    class: \"subscribe-button\"\n  }, [_createElementVNode(\"span\", null, \"Rent for \" + _toDisplayString($options.formatWatchPeriod($data.movie.prices[0].rental_duration)) + \" at ₹\" + _toDisplayString($data.movie.prices[0].rental_price), 1), _cache[64] || (_cache[64] = _createElementVNode(\"i\", {\n    class: \"fas fa-arrow-right\"\n  }, null, -1))]), _createElementVNode(\"p\", _hoisted_71, \" Available to watch for \" + _toDisplayString($options.formatWatchPeriod($data.movie.prices[0].rental_duration)) + \" after payment \", 1)])])])) : _createCommentVNode(\"\", true), _createVNode(_component_AppFooter), $data.showShareDialog ? (_openBlock(), _createElementBlock(\"div\", _hoisted_72, [_createElementVNode(\"div\", _hoisted_73, [_createElementVNode(\"div\", _hoisted_74, [_createElementVNode(\"h3\", _hoisted_75, \"Share \\\"\" + _toDisplayString($data.movie.title) + \"\\\"\", 1), _createElementVNode(\"button\", {\n    onClick: _cache[26] || (_cache[26] = $event => $data.showShareDialog = false),\n    class: \"text-white/60 hover:text-white\"\n  }, _cache[65] || (_cache[65] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times\"\n  }, null, -1)]))]), _createElementVNode(\"div\", _hoisted_76, [_createElementVNode(\"img\", {\n    src: $data.movie.thumbnail_url || $data.movie.portrait_thumbnail_url || $data.movie.poster_url,\n    alt: $data.movie.title,\n    class: \"w-16 h-24 object-cover rounded-lg\"\n  }, null, 8, _hoisted_77), _createElementVNode(\"div\", _hoisted_78, [_createElementVNode(\"h4\", _hoisted_79, _toDisplayString($data.movie.title), 1), _createElementVNode(\"p\", _hoisted_80, _toDisplayString($data.movie.description), 1)])]), _createElementVNode(\"div\", _hoisted_81, [_createElementVNode(\"button\", {\n    onClick: _cache[27] || (_cache[27] = (...args) => $options.shareToWhatsAppWithImage && $options.shareToWhatsAppWithImage(...args)),\n    class: \"flex items-center gap-3 bg-[#25D366]/10 p-4 rounded-lg hover:bg-[#25D366]/20 transition-all\"\n  }, _cache[66] || (_cache[66] = [_createElementVNode(\"i\", {\n    class: \"fab fa-whatsapp text-[#25D366] text-2xl\"\n  }, null, -1), _createElementVNode(\"span\", null, \"WhatsApp\", -1)])), _createElementVNode(\"button\", {\n    onClick: _cache[28] || (_cache[28] = (...args) => $options.shareToFacebook && $options.shareToFacebook(...args)),\n    class: \"flex items-center gap-3 bg-[#1877F2]/10 p-4 rounded-lg hover:bg-[#1877F2]/20 transition-all\"\n  }, _cache[67] || (_cache[67] = [_createElementVNode(\"i\", {\n    class: \"fab fa-facebook text-[#1877F2] text-2xl\"\n  }, null, -1), _createElementVNode(\"span\", null, \"Facebook\", -1)])), _createElementVNode(\"button\", {\n    onClick: _cache[29] || (_cache[29] = (...args) => $options.shareToTwitter && $options.shareToTwitter(...args)),\n    class: \"flex items-center gap-3 bg-[#1DA1F2]/10 p-4 rounded-lg hover:bg-[#1DA1F2]/20 transition-all\"\n  }, _cache[68] || (_cache[68] = [_createElementVNode(\"i\", {\n    class: \"fab fa-twitter text-[#1DA1F2] text-2xl\"\n  }, null, -1), _createElementVNode(\"span\", null, \"Twitter\", -1)])), _createElementVNode(\"button\", {\n    onClick: _cache[30] || (_cache[30] = (...args) => $options.copyShareLink && $options.copyShareLink(...args)),\n    class: \"flex items-center gap-3 bg-white/10 p-4 rounded-lg hover:bg-white/20 transition-all\"\n  }, _cache[69] || (_cache[69] = [_createElementVNode(\"i\", {\n    class: \"fas fa-link text-white text-2xl\"\n  }, null, -1), _createElementVNode(\"span\", null, \"Copy Link\", -1)]))]), _createElementVNode(\"div\", _hoisted_82, [_createElementVNode(\"button\", {\n    onClick: _cache[31] || (_cache[31] = (...args) => $options.testSocialPreview && $options.testSocialPreview(...args)),\n    class: \"w-full flex items-center justify-center gap-3 bg-[#c30059]/10 p-4 rounded-lg hover:bg-[#c30059]/20 transition-all border border-[#c30059]/20\"\n  }, _cache[70] || (_cache[70] = [_createElementVNode(\"i\", {\n    class: \"fas fa-eye text-[#c30059] text-xl\"\n  }, null, -1), _createElementVNode(\"span\", {\n    class: \"text-[#c30059] font-medium\"\n  }, \"Test Social Media Preview\", -1)]))]), _createElementVNode(\"div\", _hoisted_83, [_createElementVNode(\"input\", {\n    ref: \"shareLink\",\n    type: \"text\",\n    value: $options.shareUrl,\n    class: \"w-full bg-[#121212] border border-white/10 rounded-lg h-12 px-4 pr-24 text-white focus:border-[#c30059] focus:outline-none transition-colors\",\n    readonly: \"\"\n  }, null, 8, _hoisted_84), _createElementVNode(\"button\", {\n    onClick: _cache[32] || (_cache[32] = (...args) => $options.copyShareLink && $options.copyShareLink(...args)),\n    class: \"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-[#c30059] hover:text-[#a80048] transition-colors\"\n  }, _toDisplayString($data.copyStatus), 1)])])])) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$data","isVideoPlaying","onMousemove","_cache","args","$options","showControlsOnInteraction","onTouchstart","onClick","toggleControlsVisibility","_createVNode","_component_AdvancedVideoPlayer","ref","src","videoUrl","title","movie","id","currentUserId","streamType","autoplay","isLive","drmConfig","controlsVisible","onClose","closeVideo","onPlay","onVideoPlay","onPause","onVideoPause","onInteraction","onError","handleVideoError","_createElementVNode","_hoisted_2","_component_AppHeader","onToggleSearch","toggleSearch","hideBackButton","_hoisted_3","_hoisted_4","isMobileDevice","portrait_thumbnail_url","thumbnail_url","alt","_normalizeClass","isPromoPlaying","isPromoLoading","promo_hls_url","_hoisted_6","_hoisted_7","poster","muted","loop","playsinline","preload","onLoadeddata","onPromoVideoLoaded","onEnded","handlePromoVideoEnd","handlePromoVideoError","onWaiting","onPromoVideoWaiting","onPlaying","onPromoVideoPlaying","onCanplay","onPromoVideoCanPlay","style","goBack","_hoisted_9","_hoisted_10","video_type","_hoisted_11","is4K","_hoisted_12","_hoisted_13","_toDisplayString","_hoisted_14","movieYear","formattedDuration","categoryName","prices","length","isUserSubscribed","_Fragment","key","_hoisted_15","_renderList","price","idx","rental_price","formatWatchPeriod","rental_duration","_hoisted_16","_hoisted_17","mood1","mood2","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","description","_hoisted_22","shouldShowPromoButton","playPromo","playMovie","isInWatchlist","toggleWatchlist","shareMovie","_hoisted_23","_hoisted_24","_hoisted_25","navigateToCategory","_hoisted_26","canScrollLeft","category","$event","scrollLeft","onScroll","checkScrollButtons","_hoisted_27","categoryVideos","video","index","navigateToMovie","_hoisted_29","poster_url","_hoisted_31","_hoisted_32","_hoisted_33","capitalizeText","canScrollRight","scrollRight","_hoisted_34","recentlyAdded","_hoisted_35","recentlyAddedVideos","_hoisted_37","_hoisted_39","_hoisted_40","_hoisted_41","active","isSearchActive","type","placeholder","showPaymentPopup","_hoisted_42","_hoisted_43","_hoisted_44","closePaymentPopup","_hoisted_45","_hoisted_46","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","handleSubscribe","showRentalPopup","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","goToRentalPayment","_hoisted_71","_component_AppFooter","showShareDialog","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","shareToWhatsAppWithImage","shareToFacebook","shareToTwitter","copyShareLink","_hoisted_82","testSocialPreview","_hoisted_83","value","shareUrl","readonly","copyStatus"],"sources":["/Users/saisudhakarmanchala/Documents/No1OTT/ott_frontend_mpd/src/views/MovieDetails.vue"],"sourcesContent":["<template>\n  <div class=\"movie-details-wrapper bg-[#121212] text-white min-h-screen\">\n    <!-- Advanced Video Player modal - Full screen when active -->\n    <div v-if=\"isVideoPlaying\" class=\"advanced-video-player-modal\" @mousemove=\"showControlsOnInteraction\" @touchstart=\"showControlsOnInteraction\" @click=\"toggleControlsVisibility\">\n      <AdvancedVideoPlayer \n        ref=\"videoPlayer\"\n        :src=\"videoUrl\"\n        :title=\"movie.title\"\n        :video-id=\"movie.id\"\n        :user-id=\"currentUserId\"\n        :streamType=\"streamType\"\n        :autoplay=\"true\"\n        :isLive=\"false\"\n        :drmConfig=\"drmConfig\"\n        :controlsVisible=\"controlsVisible\"\n        @close=\"closeVideo\"\n        @play=\"onVideoPlay\"\n        @pause=\"onVideoPause\"\n        @interaction=\"showControlsOnInteraction\"\n        @error=\"handleVideoError\"\n      />\n    </div>\n\n    <!-- Desktop header with gradient overlay -->\n    <div class=\"hide-on-mobile header-with-gradient\">\n      <AppHeader @toggle-search=\"toggleSearch\" :hideBackButton=\"true\" />\n    </div>\n    \n    <div class=\"movie-detail-container\">\n      <!-- Hero Banner Section with Backdrop Image -->\n      <div class=\"movie-backdrop\">\n        <!-- Thumbnail background -->\n        <img \n          :src=\"isMobileDevice && movie.portrait_thumbnail_url ? movie.portrait_thumbnail_url : movie.thumbnail_url\" \n          alt=\"Movie Thumbnail\"\n          :class=\"['backdrop-image', {'portrait-mobile': isMobileDevice && movie.portrait_thumbnail_url}]\"\n          v-show=\"!isPromoPlaying && !isPromoLoading\"\n        />\n        <!-- Video overlay -->\n        <div v-if=\"movie.promo_hls_url\" class=\"video-container\">\n          <!-- Loading spinner -->\n          <div v-if=\"isPromoLoading\" class=\"video-loading\"></div>\n          <video \n            ref=\"heroVideo\"\n            class=\"backdrop-video\"\n            :poster=\"movie.thumbnail_url\"\n            autoplay\n            muted\n            loop\n            playsinline\n            preload=\"auto\"\n            @loadeddata=\"onPromoVideoLoaded\"\n            @ended=\"handlePromoVideoEnd\"\n            @error=\"handlePromoVideoError\"\n            @waiting=\"onPromoVideoWaiting\"\n            @playing=\"onPromoVideoPlaying\"\n            @canplay=\"onPromoVideoCanPlay\"\n            v-show=\"isPromoPlaying && !isPromoLoading\"\n            style=\"width: 100vw; max-width: 100vw; aspect-ratio: 16/9; object-fit: contain; background: #000; display: block; margin: 0 auto; max-height: 70vh;\"\n          >\n          </video>\n        </div>\n        <div class=\"backdrop-gradient\"></div>\n      </div>\n\n      <!-- Mobile-only back button -->\n      <button \n        class=\"back-btn mobile-only-element\"\n        @click=\"goBack\"\n      >\n        <i class=\"fas fa-arrow-left\"></i>\n      </button>\n\n      <!-- Movie Info Section -->\n      <div class=\"movie-info-container\">\n        <!-- Movie Badges -->\n        <div class=\"movie-badges\">\n          <span v-if=\"movie.video_type === 'paid'\" class=\"badge premium\">\n            <i class=\"fas fa-crown mr-1\"></i>\n            Premium\n          </span>\n          <span v-if=\"movie.is4K\" class=\"badge quality\">4K</span>\n        </div>\n\n        <!-- Movie Title -->\n        <h1 class=\"movie-title\">{{ movie.title }}</h1>\n        \n        <!-- Movie Meta Info -->\n        <div class=\"movie-meta\">\n          <span>{{ movieYear }}</span>\n          <span class=\"dot-divider\"></span>\n          <span>{{ formattedDuration }}</span>\n          <span class=\"dot-divider\"></span>\n          <span>{{ categoryName }}</span>\n          <!-- Rental price display for rental videos (only for free users) -->\n          <template v-if=\"movie.video_type === 'rental' && movie.prices && movie.prices.length && !isUserSubscribed\">\n            <span class=\"dot-divider\"></span>\n            <span class=\"badge premium\">\n              <i class=\"fas fa-ticket-alt mr-1\"></i>\n              Rental:\n              <template v-for=\"(price, idx) in movie.prices\" :key=\"price.id\">\n                ₹{{ price.rental_price }} for {{ formatWatchPeriod(price.rental_duration) }}<span v-if=\"idx < movie.prices.length - 1\">, </span>\n              </template>\n            </span>\n          </template>\n          <span v-if=\"movie.video_type === 'paid' && movie.rental_price\" class=\"premium-price ml-2\">\n            ₹{{ movie.rental_price }}\n          </span>\n        </div>\n        \n        <!-- Movie Tags -->\n        <div v-if=\"movie.mood1 || movie.mood2\" class=\"movie-tags\">\n          <span v-if=\"movie.mood1\" class=\"tag\">{{ movie.mood1 }}</span>\n          <span v-if=\"movie.mood2\" class=\"tag\">{{ movie.mood2 }}</span>\n        </div>\n        \n        <!-- Movie Description -->\n        <p class=\"movie-description\">\n          {{ movie.description }}\n        </p>\n        \n        <!-- Action Buttons - Unified design for both desktop and mobile -->\n        <div class=\"action-buttons\">\n          <button v-if=\"shouldShowPromoButton\" class=\"play-button\" @click=\"playPromo\">\n            <i class=\"fas fa-film\"></i>\n            <span>Promo</span>\n          </button>\n\n          <button class=\"play-button\" @click=\"playMovie\">\n            <i class=\"fas fa-play\"></i>\n            <span>Full Video</span>\n          </button>\n          \n          <button \n            class=\"secondary-button\" \n            @click=\"toggleWatchlist\"\n            :class=\"{ 'in-watchlist': isInWatchlist }\"\n          >\n            <i :class=\"['fas', isInWatchlist ? 'fa-bookmark' : 'fa-bookmark-o']\"></i>\n            {{ isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist' }}\n          </button>\n          <button class=\"action-button\" @click=\"shareMovie\">\n            <i class=\"fas fa-share-alt\"></i>\n            <span class=\"action-label\">Share</span>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Main content sections with carousel style like Home page -->\n    <main class=\"pl-4 sm:pl-6 md:pl-10 py-4 space-y-8 relative overflow-hidden\">\n      <!-- Related Videos by Category Section -->\n      <section>\n        <div class=\"flex justify-between items-center mb-3 pr-4\">\n          <h2 class=\"gradient-text font-semibold text-base md:text-lg\">\n            {{ categoryName }} \n          </h2>\n          <a \n            class=\"text-white font-semibold text-sm hover:underline whitespace-nowrap cursor-pointer\" \n            @click=\"navigateToCategory\"\n          >\n            View All\n          </a>\n        </div>\n        <div class=\"relative carousel-container\">\n          <button\n            v-if=\"canScrollLeft.category\"\n            aria-label=\"Previous Category Videos\"\n            class=\"scroll-button left-scroll-button\"\n            @click=\"scrollLeft('categoryContainer')\"\n          >\n            <i class=\"fas fa-chevron-left\"></i>\n          </button>\n          <div\n            class=\"flex gap-4 overflow-x-auto scrollbar-hide scroll-container snap-x snap-mandatory\"\n            ref=\"categoryContainer\"\n            @scroll=\"checkScrollButtons('categoryContainer', 'category')\"\n          >\n            <div class=\"flex gap-4 pr-4 carousel-inner-container\">\n              <div \n                v-for=\"(video, index) in categoryVideos\" \n                :key=\"index\" \n                class=\"related-movie-card snap-start\"\n                @click=\"navigateToMovie(video.id)\"\n              >\n                <div class=\"relative rounded-md overflow-hidden card-container\">\n                  <img :src=\"video.portrait_thumbnail_url || video.thumbnail_url || video.poster_url\" :alt=\"video.title\" class=\"related-movie-image\">\n                  <!-- Premium badge for paid videos -->\n                  <div v-if=\"video.video_type === 'paid'\" class=\"absolute top-2 right-2\">\n                    <span class=\"bg-gradient-to-r from-[#c30059] to-[#ff0062] text-white text-xs px-2 py-1 rounded-full font-semibold\">\n                      <i class=\"fas fa-crown mr-1\"></i>Premium\n                    </span>\n                </div>\n                  <!-- 4K badge -->\n                  <div v-if=\"video.is4K\" class=\"absolute top-2 left-2\">\n                    <span class=\"bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-semibold\">\n                      4K\n                    </span>\n                </div>\n                </div>\n                <p class=\"related-movie-title mt-1 text-xs font-semibold truncate card-text\">\n                  {{ capitalizeText(video.title) }}\n                </p>\n              </div>\n            </div>\n          </div>\n          <button\n            v-if=\"canScrollRight.category\"\n            aria-label=\"Next Category Videos\"\n            class=\"scroll-button right-scroll-button\"\n            @click=\"scrollRight('categoryContainer')\"\n          >\n            <i class=\"fas fa-chevron-right\"></i>\n          </button>\n        </div>\n      </section>\n      \n\n      <!-- Recently Added Section -->\n      <section>\n        <div class=\"flex justify-between items-center mb-3 pr-4\">\n          <h2 class=\"gradient-text font-semibold text-base md:text-lg\">\n            Recently Added\n          </h2>\n        </div>\n        <div class=\"relative carousel-container\">\n          <button\n            v-if=\"canScrollLeft.recentlyAdded\"\n            aria-label=\"Previous Recently Added\"\n            class=\"scroll-button left-scroll-button\"\n            @click=\"scrollLeft('recentlyAddedContainer')\"\n          >\n            <i class=\"fas fa-chevron-left\"></i>\n          </button>\n          <div\n            class=\"flex gap-4 overflow-x-auto scrollbar-hide scroll-container snap-x snap-mandatory\"\n            ref=\"recentlyAddedContainer\"\n            @scroll=\"checkScrollButtons('recentlyAddedContainer', 'recentlyAdded')\"\n          >\n            <div class=\"flex gap-4 pr-4 carousel-inner-container\">\n              <div \n                v-for=\"(video, index) in recentlyAddedVideos\" \n                :key=\"index\" \n                class=\"related-movie-card snap-start\"\n                @click=\"navigateToMovie(video.id)\"\n              >\n                <div class=\"relative rounded-md overflow-hidden card-container\">\n                  <img :src=\"video.portrait_thumbnail_url || video.thumbnail_url || video.poster_url\" :alt=\"video.title\" class=\"related-movie-image\">\n                  <!-- Premium badge for paid videos -->\n                  <div v-if=\"video.video_type === 'paid'\" class=\"absolute top-2 right-2 flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-r from-[#c30059] to-[#ff0062] shadow\">\n                    <i class=\"fas fa-crown text-white text-base\"></i>\n                  </div>\n                  <!-- 4K badge -->\n                  <div v-if=\"video.is4K\" class=\"absolute bottom-2 left-2\">\n                    <span class=\"bg-blue-600 text-white text-xs px-2 py-1 rounded-full font-semibold\">\n                      4K\n                    </span>\n                  </div>\n                </div>\n                <p class=\"related-movie-title mt-1 text-xs font-semibold truncate card-text\">\n                  {{ capitalizeText(video.title) }}\n                </p>\n              </div>\n            </div>\n          </div>\n          <button\n            v-if=\"canScrollRight.recentlyAdded\"\n            aria-label=\"Next Recently Added\"\n            class=\"scroll-button right-scroll-button\"\n            @click=\"scrollRight('recentlyAddedContainer')\"\n          >\n            <i class=\"fas fa-chevron-right\"></i>\n          </button>\n        </div>\n      </section>\n    </main>\n\n    <!-- Mobile Search Bar -->\n    <div class=\"mobile-search-bar\" :class=\"{ active: isSearchActive }\">\n      <input type=\"text\" placeholder=\"Search movies, shows and more...\">\n      <button class=\"text-white\" @click=\"toggleSearch\">\n        <i class=\"fas fa-times\"></i>\n      </button>\n    </div>\n\n    <!-- Payment Popup -->\n    <div v-if=\"showPaymentPopup\" class=\"payment-popup-overlay\">\n      <div class=\"payment-popup\">\n        <div class=\"popup-header\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"premium-badge\">\n              <i class=\"fas fa-crown\"></i>\n            </div>\n            <div>\n              <h2 class=\"text-xl font-bold\">Premium Content</h2>\n              <p class=\"text-sm text-white/60\">Subscribe to Continue Watching</p>\n            </div>\n          </div>\n          <button @click=\"closePaymentPopup\" class=\"close-button\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        \n        <div class=\"popup-content\">\n          <!-- Movie Preview -->\n          <div class=\"movie-preview\">\n            <img :src=\"movie.thumbnail_url || movie.poster_url\" alt=\"Movie Thumbnail\" class=\"popup-thumbnail\">\n            <div class=\"movie-info\">\n              <h3 class=\"movie-title\">{{ movie.title }}</h3>\n              <div class=\"flex items-center gap-2 text-sm text-white/60\">\n                <span v-if=\"formattedDuration\">{{ formattedDuration }}</span>\n                <span v-if=\"formattedDuration && categoryName\" class=\"dot-divider\"></span>\n                <span>{{ categoryName }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Premium Features -->\n          <div class=\"premium-features\">\n            <h4 class=\"text-lg font-semibold mb-4\">Premium Benefits</h4>\n            <div class=\"features-grid\">\n              <div class=\"feature-item\">\n                <i class=\"fas fa-film text-[#c30059]\"></i>\n                <div>\n                  <p class=\"font-medium\">All Premium Content</p>\n                  <p class=\"text-sm text-white/60\">Unlimited access to premium movies & shows</p>\n                </div>\n              </div>\n              <div class=\"feature-item\">\n                <i class=\"fas fa-tv text-[#c30059]\"></i>\n                <div>\n                  <p class=\"font-medium\">Watch on Any Device</p>\n                  <p class=\"text-sm text-white/60\">TV, laptop, phone, or tablet</p>\n                </div>\n              </div>\n              <div class=\"feature-item\">\n                <i class=\"fas fa-ban text-[#c30059]\"></i>\n                <div>\n                  <p class=\"font-medium\">Ad-Free Experience</p>\n                  <p class=\"text-sm text-white/60\">Uninterrupted entertainment</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Action Button -->\n          <button @click=\"handleSubscribe\" class=\"subscribe-button\">\n            <span>View Plans & Subscribe</span>\n            <i class=\"fas fa-arrow-right\"></i>\n          </button>\n\n          <!-- Price Note -->\n          <p class=\"text-center text-sm text-white/60 mt-4\">\n            Plans start from ₹365/year (₹1/day)\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add Rental Popup -->\n    <div v-if=\"showRentalPopup\" class=\"payment-popup-overlay\">\n      <div class=\"payment-popup\">\n        <div class=\"popup-header\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"premium-badge\">\n              <i class=\"fas fa-ticket-alt\"></i>\n            </div>\n            <div>\n              <h2 class=\"text-xl font-bold\">{{ movie.title }}</h2>\n              <p class=\"text-sm text-white/60\">\n                {{ formatWatchPeriod(movie.prices[0].rental_duration) }} Rental\n              </p>\n            </div>\n          </div>\n          <button @click=\"showRentalPopup = false\" class=\"close-button\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        \n        <div class=\"popup-content\">\n          <!-- Movie Preview -->\n          <div class=\"movie-preview\">\n            <img :src=\"movie.thumbnail_url || movie.poster_url\" alt=\"Movie Thumbnail\" class=\"popup-thumbnail\">\n            <div class=\"movie-info\">\n              <h3 class=\"movie-title\">{{ movie.title }}</h3>\n              <div class=\"flex items-center gap-2 text-sm text-white/60\">\n                <span v-if=\"formattedDuration\">{{ formattedDuration }}</span>\n                <span v-if=\"formattedDuration && categoryName\" class=\"dot-divider\"></span>\n                <span>{{ categoryName }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Rental Details -->\n          <div class=\"rental-details bg-white/5 rounded-lg p-4 my-4\">\n            <div class=\"flex justify-between items-center mb-2\">\n              <span class=\"text-white/60\">Rental Price</span>\n              <span class=\"text-xl font-bold\">₹{{ movie.prices[0].rental_price }}</span>\n            </div>\n            <div class=\"flex justify-between items-center\">\n              <span class=\"text-white/60\">Watch Period</span>\n              <span>{{ formatWatchPeriod(movie.prices[0].rental_duration) }}</span>\n            </div>\n          </div>\n\n          <!-- Action Button -->\n          <button @click=\"goToRentalPayment\" class=\"subscribe-button\">\n            <span>Rent for {{ formatWatchPeriod(movie.prices[0].rental_duration) }} at ₹{{ movie.prices[0].rental_price }}</span>\n            <i class=\"fas fa-arrow-right\"></i>\n          </button>\n\n          <!-- Terms -->\n          <p class=\"text-center text-sm text-white/60 mt-4\">\n            Available to watch for {{ formatWatchPeriod(movie.prices[0].rental_duration) }} after payment\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <AppFooter />\n\n    <!-- Share Dialog -->\n    <div v-if=\"showShareDialog\" class=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\n      <div class=\"bg-[#1d1d1d] rounded-xl w-full max-w-md p-6\">\n        <div class=\"flex justify-between items-center mb-6\">\n          <h3 class=\"text-xl font-bold\">Share \"{{ movie.title }}\"</h3>\n          <button @click=\"showShareDialog = false\" class=\"text-white/60 hover:text-white\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        <!-- Movie Preview with Image -->\n        <div class=\"flex items-center gap-4 mb-6 p-4 bg-[#121212] rounded-lg\">\n          <img \n            :src=\"movie.thumbnail_url || movie.portrait_thumbnail_url || movie.poster_url\" \n            :alt=\"movie.title\"\n            class=\"w-16 h-24 object-cover rounded-lg\"\n          />\n          <div class=\"flex-1\">\n            <h4 class=\"font-semibold text-white mb-1\">{{ movie.title }}</h4>\n            <p class=\"text-sm text-gray-400 line-clamp-2\">{{ movie.description }}</p>\n          </div>\n        </div>\n\n        <!-- Share Options -->\n        <div class=\"grid grid-cols-2 gap-4 mb-6\">\n          <!-- WhatsApp -->\n          <button \n            @click=\"shareToWhatsAppWithImage\"\n            class=\"flex items-center gap-3 bg-[#25D366]/10 p-4 rounded-lg hover:bg-[#25D366]/20 transition-all\"\n          >\n            <i class=\"fab fa-whatsapp text-[#25D366] text-2xl\"></i>\n            <span>WhatsApp</span>\n          </button>\n\n          <!-- Facebook -->\n          <button \n            @click=\"shareToFacebook\"\n            class=\"flex items-center gap-3 bg-[#1877F2]/10 p-4 rounded-lg hover:bg-[#1877F2]/20 transition-all\"\n          >\n            <i class=\"fab fa-facebook text-[#1877F2] text-2xl\"></i>\n            <span>Facebook</span>\n          </button>\n\n          <!-- Twitter -->\n          <button \n            @click=\"shareToTwitter\"\n            class=\"flex items-center gap-3 bg-[#1DA1F2]/10 p-4 rounded-lg hover:bg-[#1DA1F2]/20 transition-all\"\n          >\n            <i class=\"fab fa-twitter text-[#1DA1F2] text-2xl\"></i>\n            <span>Twitter</span>\n          </button>\n\n          <!-- Copy Link -->\n          <button \n            @click=\"copyShareLink\"\n            class=\"flex items-center gap-3 bg-white/10 p-4 rounded-lg hover:bg-white/20 transition-all\"\n          >\n            <i class=\"fas fa-link text-white text-2xl\"></i>\n            <span>Copy Link</span>\n          </button>\n        </div>\n\n        <!-- Test Social Preview Button -->\n        <div class=\"mb-6\">\n          <button \n            @click=\"testSocialPreview\"\n            class=\"w-full flex items-center justify-center gap-3 bg-[#c30059]/10 p-4 rounded-lg hover:bg-[#c30059]/20 transition-all border border-[#c30059]/20\"\n          >\n            <i class=\"fas fa-eye text-[#c30059] text-xl\"></i>\n            <span class=\"text-[#c30059] font-medium\">Test Social Media Preview</span>\n          </button>\n        </div>\n\n        <!-- Share Link -->\n        <div class=\"relative\">\n          <input \n            ref=\"shareLink\"\n            type=\"text\"\n            :value=\"shareUrl\"\n            class=\"w-full bg-[#121212] border border-white/10 rounded-lg h-12 px-4 pr-24 text-white focus:border-[#c30059] focus:outline-none transition-colors\"\n            readonly\n          />\n          <button \n            @click=\"copyShareLink\"\n            class=\"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-[#c30059] hover:text-[#a80048] transition-colors\"\n          >\n            {{ copyStatus }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppHeader from '../components/Header.vue'\nimport AppFooter from '../components/Footer.vue'\nimport AdvancedVideoPlayer from '../components/AdvancedVideoPlayer.vue'\nimport axios from 'axios'\nimport { watchlistAPI } from '@/utils/api'\nimport videojs from 'video.js';\nimport 'video.js/dist/video-js.css';\nimport store from '@/store';\n\n// Define API base URL constant\nconst API_BASE_URL = 'https://ott.no1news.in'\n\n// Create axios instance with default config\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add request interceptor to add token\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = store.getters.token;\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default {\n  name: 'MovieDetails',\n  components: {\n    AppHeader,\n    AppFooter,\n    AdvancedVideoPlayer\n  },\n  props: {\n    id: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  data() {\n    return {\n      movie: {},\n      inWatchlist: false,\n      isSearchActive: false,\n      isVideoPlaying: false,\n      controlsVisible: true,\n      isVideoPaused: false,\n      controlsTimeout: null,\n      isMobileDevice: false,\n      videoInteractionDelay: 2500,\n      videoUrl: '',\n      streamType: 'hls',\n      isUserSubscribed: false,\n      promoStartDelay: 3000, // 3 seconds delay before starting promo\n      drmConfig: {\n        // DRM configuration if needed\n        // Example for Widevine:\n        servers: {\n          'com.widevine.alpha': 'https://license.url/widevine'\n        },\n        // Example for Clear Key:\n        clearKeys: {\n          // keyId: 'key' pairs\n        }\n      },\n      playerSettings: {\n        defaultQuality: 'auto',\n        preferredQualityIndex: 1,\n        skipInterval: 10, // seconds\n        keyboardShortcutsEnabled: true,\n        rememberLastPosition: true,\n        autoQualitySwitch: true\n      },\n      canScrollLeft: {\n        category: false,\n        related: false,\n        recentlyAdded: false\n      },\n      canScrollRight: {\n        category: true,\n        related: true,\n        recentlyAdded: true\n      },\n      categoryVideos: [],\n      recentlyAddedVideos: [],\n      relatedMovies: [\n        {\n          id: 101,\n          title: 'Midnight Mystery',\n          thumbnail_url: 'https://i.ibb.co/cDfWsvC/related1.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/cDfWsvC/related1.jpg',\n          video_type: 'free'\n        },\n        {\n          id: 102,\n          title: 'The Stranger',\n          thumbnail_url: 'https://i.ibb.co/DkFnm7g/related2.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/DkFnm7g/related2.jpg',\n          video_type: 'paid'\n        },\n        {\n          id: 103,\n          title: 'Dark Echo',\n          thumbnail_url: 'https://i.ibb.co/MRVvFDZ/related3.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/MRVvFDZ/related3.jpg',\n          video_type: 'free'\n        },\n        {\n          id: 104,\n          title: 'Silent Night',\n          thumbnail_url: 'https://i.ibb.co/5cG2WXF/related4.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/5cG2WXF/related4.jpg',\n          video_type: 'rental'\n        },\n        {\n          id: 105,\n          title: 'The Guilty',\n          thumbnail_url: 'https://i.ibb.co/mBVR2KM/related5.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/mBVR2KM/related5.jpg',\n          video_type: 'free'\n        },\n        {\n          id: 106,\n          title: 'Trance',\n          thumbnail_url: 'https://i.ibb.co/hWD1BXg/related6.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/hWD1BXg/related6.jpg',\n          video_type: 'paid'\n        },\n        {\n          id: 107,\n          title: 'Haunted House',\n          thumbnail_url: 'https://i.ibb.co/k8DQzTF/related7.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/k8DQzTF/related7.jpg',\n          video_type: 'free'\n        },\n        {\n          id: 108,\n          title: 'Night Watch',\n          thumbnail_url: 'https://i.ibb.co/hyCJTBL/related8.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/hyCJTBL/related8.jpg',\n          video_type: 'rental'\n        },\n        {\n          id: 109,\n          title: 'The Missing',\n          thumbnail_url: 'https://i.ibb.co/dj8rS0M/related9.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/dj8rS0M/related9.jpg',\n          video_type: 'free'\n        },\n        {\n          id: 110,\n          title: 'Fear Factor',\n          thumbnail_url: 'https://i.ibb.co/8XvX1fL/related10.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/8XvX1fL/related10.jpg',\n          video_type: 'paid'\n        },\n        {\n          id: 111,\n          title: 'Paranormal',\n          thumbnail_url: 'https://i.ibb.co/r57Kzc5/related11.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/r57Kzc5/related11.jpg',\n          video_type: 'free'\n        },\n        {\n          id: 112,\n          title: 'Last Breath',\n          thumbnail_url: 'https://i.ibb.co/B6wS7HK/related12.jpg',\n          portrait_thumbnail_url: 'https://i.ibb.co/B6wS7HK/related12.jpg',\n          video_type: 'rental'\n        }\n      ],\n      heroVideo: null,\n      hls: null,\n      showPaymentPopup: false,\n      userSubscriptionStatus: null,\n      showRentalPopup: false,\n      rentalInfo: null,\n      isSubscribed: false,\n      isPromoLoading: true,\n      promoVideoError: null,\n      isPlayingPromo: false,\n      isInWatchlist: false,\n      showShareDialog: false,\n      copyStatus: 'Copy',\n      promoHasError: false,\n      videojsPlayer: null,\n      shakaPromoPlayer: null,\n      isPromoPlaying: false\n    }\n  },\n  computed: {\n    // Get current user ID from localStorage\n    currentUserId() {\n      const user = localStorage.getItem('user');\n      if (user) {\n        try {\n          const userData = JSON.parse(user);\n          return userData.id || 1; // Default to 1 if no user ID\n        } catch (e) {\n          return 1; // Default to 1 if parsing fails\n        }\n      }\n      return 1; // Default to 1 if no user data\n    },\n    // Get the appropriate stream type based on the video URL or device capabilities\n    computedStreamType() {\n      // Check if the URL ends with specific extensions\n      if (this.videoUrl.includes('.m3u8')) {\n        return 'hls';\n      } else if (this.videoUrl.includes('.mpd')) {\n        return 'dash';\n      } else if (this.videoUrl.includes('.mp4')) {\n        // Explicitly handle MP4 files\n        return 'mp4';\n      }\n      // Default fallback\n      return 'mp4';\n    },\n    // Get the year from created_at\n    movieYear() {\n      if (this.movie && this.movie.created_at) {\n        return new Date(this.movie.created_at).getFullYear();\n      }\n      return new Date().getFullYear(); // Fallback to current year\n    },\n    // Format duration from seconds to hours and minutes\n    formattedDuration() {\n      if (!this.movie || !this.movie.duration) return '';\n      \n      const totalSeconds = parseInt(this.movie.duration);\n      if (isNaN(totalSeconds)) return '';\n      \n      const hours = Math.floor(totalSeconds / 3600);\n      const minutes = Math.floor((totalSeconds % 3600) / 60);\n      \n      if (hours === 0) {\n        return `${minutes}m`;\n      } else if (minutes === 0) {\n        return `${hours}h`;\n      } else {\n        return `${hours}h ${minutes}m`;\n      }\n    },\n    // Get category name\n    categoryName() {\n      if (!this.movie) return '';\n      return this.movie.category_name || ''; // Directly use category_name from API\n    },\n    // Get formatted categories\n    formattedCategories() {\n      if (!this.movie || !this.movie.categories) return '';\n      return this.movie.categories.map(cat => cat.name).join(', ');\n    },\n    \n    shareUrl() {\n      if (typeof window !== 'undefined') {\n        return window.location.href;\n      }\n      return '';\n    },\n    \n    // Check if promo button should be shown\n    shouldShowPromoButton() {\n      return this.movie && \n             this.movie.promo_hls_url && \n             this.movie.promo_hls_url.trim() !== '';\n      // Removed promoHasError check - button should show even if CORS error\n      // User can still try to play after fixing CORS\n    }\n  },\n  watch: {\n    // Watch for route changes to reset scroll position when navigating between movie details pages\n    '$route'() {\n      window.scrollTo(0, 0);\n      this.fetchMovieDetails().then(() => {\n        // Initialize hero video after fetching new movie details\n        this.$nextTick(() => {\n          this.initializeHeroVideo();\n        });\n      });\n    },\n    // Update stream type based on the video URL\n    videoUrl: {\n      immediate: true,\n      handler(newUrl) {\n        // Update stream type based on the new URL\n        if (newUrl) {\n          this.streamType = this.computedStreamType;\n        }\n      }\n    },\n    // Add watcher for movie data\n    movie: {\n      immediate: true,\n      handler(newMovie) {\n        if (newMovie && (newMovie.promo_hls_url || newMovie.promo_video_url)) {\n          this.$nextTick(() => {\n            this.initializeHeroVideo();\n          });\n        }\n        \n        // Update meta tags when movie data changes\n        if (newMovie) {\n          this.$nextTick(() => {\n            this.updateMetaTags();\n          });\n        }\n      }\n    },\n    // Debug watcher for isPromoPlaying\n    isPromoPlaying(val) {\n      console.log('isPromoPlaying changed:', val);\n    }\n  },\n  mounted() {\n    // Initialize hero video with HLS\n    this.initializeHeroVideo();\n    \n    this.$nextTick(() => {\n      this.checkScrollButtons('categoryContainer', 'category')\n      this.checkScrollButtons('relatedContainer', 'related')\n      this.checkScrollButtons('recentlyAddedContainer', 'recentlyAdded')\n      \n      // Check if mobile device\n      this.checkDeviceType()\n      \n      // Listen for resize events to update device type\n      window.addEventListener('resize', this.checkDeviceType)\n\n      // Add scroll event listener for header background\n      window.addEventListener('scroll', this.handleScroll)\n      \n      // Update meta tags after component is mounted\n      if (this.movie) {\n        this.updateMetaTags();\n      }\n    })\n  },\n  beforeUnmount() {\n    // Clean up HLS instance\n    if (this.hls) {\n      this.hls.destroy();\n    }\n    \n    // Clean up resize listener\n    window.removeEventListener('resize', this.checkDeviceType)\n    \n    // Clean up scroll listener\n    window.removeEventListener('scroll', this.handleScroll)\n    \n    // Clear any active control timeouts\n    if (this.controlsTimeout) {\n      clearTimeout(this.controlsTimeout)\n    }\n    if (this.videojsPlayer) {\n      this.videojsPlayer.dispose();\n      this.videojsPlayer = null;\n    }\n  },\n  created() {\n    // Get video URL from route params if available\n    if (this.$route.params.videoUrl) {\n      this.videoUrl = this.$route.params.videoUrl;\n      this.streamType = this.$route.params.videoType || 'hls';\n    }\n    \n    // Check subscription status\n    this.checkUserSubscription().then(isSubscribed => {\n      this.isUserSubscribed = isSubscribed;\n    });\n    \n    // Fetch movie details\n    this.fetchMovieDetails();\n    \n    // Load any saved player preferences from localStorage\n    this.loadPlayerPreferences();\n    this.checkWatchlistStatus();\n  },\n  methods: {\n    formatWatchPeriod(days) {\n      if (!days) return '';\n      return `${days} ${days === 1 ? 'day' : 'days'}`;\n    },\n    \n    loadPlayerPreferences() {\n      // Load user preferences from localStorage\n      const savedPreferences = localStorage.getItem('player-preferences');\n      if (savedPreferences) {\n        try {\n          const preferences = JSON.parse(savedPreferences);\n          // Apply only the properties that exist in our settings object\n          Object.keys(this.playerSettings).forEach(key => {\n            if (preferences[key] !== undefined) {\n              this.playerSettings[key] = preferences[key];\n            }\n          });\n        } catch (e) {\n          console.error('Error parsing saved player preferences', e);\n        }\n      }\n    },\n    savePlayerPreferences() {\n      // Save current player settings to localStorage\n      localStorage.setItem('player-preferences', JSON.stringify(this.playerSettings));\n    },\n    initializeHeroVideo() {\n      const video = this.$refs.heroVideo;\n      if (!video) {\n        console.error('Video element not found');\n        return;\n      }\n      const videoSrc = this.movie.promo_hls_url || this.movie.video_url;\n      if (!videoSrc) {\n        console.error('No video source available');\n        return;\n      }\n\n      // Detect format\n      const isMPD = videoSrc.toLowerCase().includes('.mpd');\n      const isHLS = videoSrc.toLowerCase().includes('.m3u8');\n\n      if (!isMPD && !isHLS) {\n        console.error('Unsupported video format. Only HLS (.m3u8) and MPD (.mpd) are supported');\n        return;\n      }\n\n      // Dispose previous players if they exist\n      if (this.videojsPlayer) {\n        this.videojsPlayer.dispose();\n        this.videojsPlayer = null;\n      }\n      if (this.shakaPromoPlayer) {\n        this.shakaPromoPlayer.destroy();\n        this.shakaPromoPlayer = null;\n      }\n\n      // Ensure video is muted for autoplay\n      video.muted = true;\n\n      if (isMPD) {\n        // Use Shaka Player for MPD\n        this.initializeShakaPromoPlayer(video, videoSrc);\n      } else {\n        // Use Video.js for HLS\n        this.initializeVideoJsPromoPlayer(video, videoSrc);\n      }\n    },\n\n    initializeShakaPromoPlayer(video, videoSrc) {\n      console.log('🎬 Initializing Shaka Player for promo MPD');\n      \n      // Import Shaka Player dynamically\n      import('shaka-player/dist/shaka-player.ui.js').then((shaka) => {\n        // Install polyfills\n        shaka.polyfill.installAll();\n        \n        // Check browser support\n        if (!shaka.Player.isBrowserSupported()) {\n          console.error('Browser not supported for Shaka Player');\n          this.promoHasError = true;\n          return;\n        }\n        \n        // Create Shaka player\n        this.shakaPromoPlayer = new shaka.Player();\n        this.shakaPromoPlayer.attach(video);\n        \n        // Configure\n        this.shakaPromoPlayer.configure({\n          streaming: {\n            bufferingGoal: 30,\n            rebufferingGoal: 2,\n            bufferBehind: 15\n          },\n          abr: {\n            enabled: true\n          }\n        });\n        \n        // Error handling\n        this.shakaPromoPlayer.addEventListener('error', (event) => {\n          const error = event.detail;\n          console.error('Shaka promo error:', error);\n          \n          // Don't hide button for CORS errors - user needs to fix S3 config\n          // Only hide for critical player errors\n          if (error.code !== shaka.util.Error.Code.BAD_HTTP_STATUS && \n              error.code !== shaka.util.Error.Code.HTTP_ERROR) {\n            this.promoHasError = true;\n          }\n          \n          this.handlePromoVideoError(error);\n        });\n        \n        // Load manifest\n        this.shakaPromoPlayer.load(videoSrc).then(() => {\n          console.log('🎬 Promo MPD loaded successfully');\n          this.isPromoLoading = false;\n          \n          // Attempt autoplay\n          video.play().catch(err => {\n            console.log('Promo autoplay prevented:', err);\n            this.isPromoLoading = false;\n          });\n        }).catch((error) => {\n          console.error('Error loading promo MPD:', error);\n          \n          // Don't hide button for CORS errors\n          if (error.code !== shaka.util.Error.Code.BAD_HTTP_STATUS && \n              error.code !== shaka.util.Error.Code.HTTP_ERROR) {\n            this.promoHasError = true;\n          }\n          \n          this.isPromoLoading = false;\n        });\n      }).catch((error) => {\n        console.error('Error importing Shaka Player:', error);\n        this.promoHasError = true;\n        this.isPromoLoading = false;\n      });\n    },\n\n    initializeVideoJsPromoPlayer(video, videoSrc) {\n      console.log('🎬 Initializing Video.js for promo HLS');\n      \n      this.videojsPlayer = videojs(video, {\n        sources: [{\n          src: videoSrc,\n          type: 'application/x-mpegURL'\n        }],\n        controls: true,\n        autoplay: true, // Enable autoplay\n        muted: true,    // Ensure muted for autoplay\n        preload: 'auto',\n        fluid: true\n      });\n      this.videojsPlayer.ready(() => {\n        this.isPromoLoading = false;\n        this.videojsPlayer.muted(true); // Ensure muted\n        this.videojsPlayer.play().catch(e => {\n          console.error('Auto-play prevented:', e);\n        });\n      });\n      this.videojsPlayer.on('error', () => {\n        this.promoVideoError = this.videojsPlayer.error();\n        console.error('Video.js error:', this.promoVideoError);\n      });\n    },\n    onPromoVideoCanPlay() {\n      console.log('Video can play');\n      const video = this.$refs.heroVideo;\n      if (video) {\n        video.play().catch(error => {\n          console.error('Play failed:', error);\n        });\n      }\n    },\n    onPromoVideoLoaded() {\n      console.log('Promo video loaded successfully');\n      this.isPromoLoading = false;\n      const video = this.$refs.heroVideo;\n      if (video) {\n        video.classList.add('playing');\n        // Ensure video is muted and playing\n        video.muted = true;\n        video.play().catch(error => {\n          console.error('Play failed:', error);\n        });\n      }\n    },\n    onPromoVideoWaiting() {\n      console.log('Promo video waiting/buffering');\n      this.isPromoLoading = true;\n    },\n    onPromoVideoPlaying() {\n      this.isPromoPlaying = true;\n      this.isPromoLoading = false;\n      const video = this.$refs.heroVideo;\n      if (video) {\n        video.classList.add('playing');\n      }\n    },\n    handlePromoVideoError(error) {\n      console.error('Promo video error:', error);\n      this.promoVideoError = error;\n      const video = this.$refs.heroVideo;\n      if (video) {\n        video.classList.remove('playing');\n      }\n    },\n    async checkUserSubscription() {\n      try {\n        const phone = localStorage.getItem('phone');\n        if (!phone) return false;\n\n        const response = await axios.get(`${API_BASE_URL}/users/profile/?phone=${phone}`);\n        console.log('Subscription API response:', response.data); // DEBUG\n        if (response.data && response.data.status === 'success') {\n          const user = response.data.user;\n          console.log('User from API:', user); // DEBUG\n          // Check if user has active subscription\n          if (user.is_subscribed && user.subscription_end_date) {\n            const endDate = new Date(user.subscription_end_date);\n            const now = new Date();\n            const isActive = endDate > now;\n            console.log('is_subscribed:', user.is_subscribed, 'endDate:', endDate, 'now:', now, 'isActive:', isActive); // DEBUG\n            return isActive;\n          }\n        }\n        return false;\n      } catch (error) {\n        console.error('Error checking subscription:', error);\n        return false;\n      }\n    },\n    async checkRentalStatus() {\n      try {\n        const phone = localStorage.getItem('phone');\n        if (!phone) return null;\n\n        const response = await axios.get(`${API_BASE_URL}/api/rentals/check/?phone=${phone}&video_id=${this.movie.id}`);\n        if (response.data && response.data.status === 'success') {\n          return response.data.rental;\n        }\n        return null;\n      } catch (error) {\n        console.error('Error checking rental status:', error);\n        return null;\n      }\n    },\n    goToRentalPayment() {\n      this.showRentalPopup = false;\n      this.$router.push(`/movie/${this.movie.id}/rent`);\n    },\n    async playMovie() {\n      try {\n        console.log('playMovie() called - checking video URL');\n        // First check if we have a valid video URL\n        if (!this.movie.hls_url) {\n          throw new Error('No video URL available');\n        }\n\n        // Check user subscription status first\n        const isSubscribed = await this.checkUserSubscription();\n        console.log('User subscription status:', isSubscribed);\n\n        // Rental video logic\n        if (this.movie.video_type === 'rental') {\n          if (isSubscribed) {\n            // Premium user: play directly without showing rental popup\n            console.log('Premium user - playing directly');\n            this.controlsVisible = true;\n            this.isVideoPaused = false;\n            this.isVideoPlaying = true;\n            this.videoUrl = this.movie.hls_url;\n            this.streamType = 'hls';\n            document.body.style.overflow = 'hidden';\n            this.$nextTick(() => {\n              if (this.$refs.videoPlayer) {\n                this.resetControlsTimer();\n              } else {\n                console.error('Video player reference not found');\n                throw new Error('Video player initialization failed');\n              }\n            });\n          } else {\n            // Free user: check rental status\n            console.log('Free user - checking rental status');\n            const rentalInfo = await this.checkRentalStatus();\n            if (rentalInfo && rentalInfo.is_active) {\n              // Rental is active, allow playback\n              console.log('Active rental found - playing video');\n              this.controlsVisible = true;\n              this.isVideoPaused = false;\n              this.isVideoPlaying = true;\n              this.videoUrl = this.movie.hls_url;\n              this.streamType = 'hls';\n              document.body.style.overflow = 'hidden';\n              this.$nextTick(() => {\n                if (this.$refs.videoPlayer) {\n                  this.resetControlsTimer();\n                } else {\n                  console.error('Video player reference not found');\n                  throw new Error('Video player initialization failed');\n                }\n              });\n            } else {\n              // No active rental, redirect to rental page\n              console.log('No active rental - redirecting to rental page');\n              this.$router.push(`/movie/${this.movie.id}/rent`);\n            }\n          }\n          return;\n        }\n\n        // Paid video logic\n        if (this.movie.video_type === 'paid') {\n          if (!isSubscribed) {\n            // If not subscribed, redirect to subscription page\n            this.$router.push({\n              name: 'SubscriptionPlans',\n              query: {\n                redirect: this.$route.fullPath,\n                video_id: this.movie.id\n              }\n            });\n            return;\n          }\n        }\n\n        // Free video or user is subscribed, proceed with playback\n        console.log('Playing free/paid video');\n        this.controlsVisible = true;\n        this.isVideoPaused = false;\n        this.isVideoPlaying = true;\n        this.videoUrl = this.movie.hls_url;\n        this.streamType = 'hls';\n        document.body.style.overflow = 'hidden';\n        this.$nextTick(() => {\n          if (this.$refs.videoPlayer) {\n            this.resetControlsTimer();\n          } else {\n            console.error('Video player reference not found');\n            throw new Error('Video player initialization failed');\n          }\n        });\n      } catch (error) {\n        console.error('Error playing video:', error);\n        this.$store.dispatch('showToast', {\n          message: 'Sorry, the video is not available at the moment. Please try again later.',\n          type: 'error'\n        });\n        this.isVideoPlaying = false;\n        document.body.style.overflow = 'auto';\n      }\n    },\n    closeVideo() {\n      this.isVideoPlaying = false;\n      this.isPlayingPromo = false;\n      \n      // Save the player preferences when closing the player\n      this.savePlayerPreferences();\n      \n      // Restore body scrolling\n      document.body.style.overflow = '';\n    },\n    async toggleWatchlist() {\n      try {\n        // Get authentication state from localStorage\n        const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\n        const token = localStorage.getItem('token');\n\n        if (!isAuthenticated || !token) {\n          // Store current path for redirect after login\n          const currentPath = this.$route.fullPath;\n          // Redirect to login with return URL\n          this.$router.push({\n            path: '/login',\n            query: { redirect: currentPath }\n          });\n          return;\n        }\n\n        // Show loading state\n        this.$store.commit('setLoading', true);\n\n        const response = await watchlistAPI.toggle(this.id);\n\n        if (response.data.status === 'success') {\n          this.isInWatchlist = response.data.in_watchlist;\n          // Show success message\n          this.$store.dispatch('showToast', {\n            message: response.data.message,\n            type: 'success'\n          });\n        }\n      } catch (error) {\n        console.error('Error toggling watchlist:', error);\n        // Show error message\n        this.$store.dispatch('showToast', {\n          message: 'Failed to update watchlist. Please try again.',\n          type: 'error'\n        });\n      } finally {\n        this.$store.commit('setLoading', false);\n      }\n    },\n    async checkWatchlistStatus() {\n      try {\n        // Check authentication from localStorage\n        const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\n        const token = localStorage.getItem('token');\n\n        if (!isAuthenticated || !token) return;\n\n        const response = await watchlistAPI.getStatus(this.id);\n        this.isInWatchlist = response.data.in_watchlist;\n      } catch (error) {\n        console.error('Error checking watchlist status:', error);\n      }\n    },\n    shareMovie() {\n      // Get the current URL for sharing \n      const shareUrl = this.shareUrl;\n      \n      // Get the best available image URL\n      const imageUrl = this.movie.thumbnail_url || this.movie.portrait_thumbnail_url || this.movie.poster_url;\n      \n      // Prepare share data with image\n      const shareData = {\n        title: this.movie.title,\n        text: this.movie.description,\n        url: shareUrl\n      };\n\n      // Add image to share data if available\n      if (imageUrl) {\n        shareData.files = [imageUrl];\n      }\n\n      // Check if Web Share API is supported\n      if (typeof navigator !== 'undefined' && navigator.share && this.isMobileDevice) {\n        // For mobile devices, try to share with image\n        if (imageUrl && navigator.canShare && navigator.canShare(shareData)) {\n          navigator.share(shareData)\n            .then(() => {\n              this.$store.dispatch('showToast', {\n                message: 'Shared successfully with image!',\n                type: 'success'\n              });\n            })\n            .catch((error) => {\n              console.error('Error sharing with image:', error);\n              // Fallback to sharing without image\n              this.shareWithoutImage(this.shareUrl);\n            });\n        } else {\n          // Fallback to sharing without image\n          this.shareWithoutImage(this.shareUrl);\n        }\n      } else {\n        // Fallback for desktop or unsupported browsers\n        this.showShareDialog = true;\n      }\n    },\n\n    shareWithoutImage(shareUrl) {\n      const shareData = {\n        title: this.movie.title,\n        text: this.movie.description,\n        url: shareUrl\n      };\n\n      navigator.share(shareData)\n        .then(() => {\n          this.$store.dispatch('showToast', {\n            message: 'Shared successfully!',\n            type: 'success'\n          });\n        })\n        .catch((error) => {\n          console.error('Error sharing:', error);\n          this.showShareDialog = true;\n        });\n    },\n    \n    updateMetaTags() {\n      if (!this.movie) return;\n      \n      const imageUrl = this.movie.thumbnail_url || this.movie.portrait_thumbnail_url || this.movie.poster_url;\n      const shareUrl = this.shareUrl;\n      const title = this.movie.title;\n      const description = this.movie.description;\n      \n      console.log('Updating meta tags for:', title);\n      console.log('Image URL:', imageUrl);\n      console.log('Share URL:', shareUrl);\n      \n      // Update or create meta tags for Open Graph\n      this.updateMetaTag('og:title', title);\n      this.updateMetaTag('og:description', description);\n      this.updateMetaTag('og:image', imageUrl);\n      this.updateMetaTag('og:url', shareUrl);\n      this.updateMetaTag('og:type', 'video.movie');\n      this.updateMetaTag('og:site_name', 'No1 OTT');\n      \n      // Update or create meta tags for Twitter Card\n      this.updateMetaTag('twitter:card', 'summary_large_image');\n      this.updateMetaTag('twitter:title', title);\n      this.updateMetaTag('twitter:description', description);\n      this.updateMetaTag('twitter:image', imageUrl);\n      this.updateMetaTag('twitter:url', shareUrl);\n      \n      // Update page title\n      document.title = `${title} - No1 OTT`;\n      \n      console.log('Meta tags updated successfully');\n    },\n    \n    updateMetaTag(name, content) {\n      if (!content) return;\n      \n      let meta = document.querySelector(`meta[name=\"${name}\"]`) || \n                 document.querySelector(`meta[property=\"${name}\"]`);\n      \n      if (!meta) {\n        meta = document.createElement('meta');\n        if (name.startsWith('og:')) {\n          meta.setAttribute('property', name);\n        } else {\n          meta.setAttribute('name', name);\n        }\n        document.head.appendChild(meta);\n      }\n      \n      meta.setAttribute('content', content);\n    },\n    toggleSearch() {\n      this.isSearchActive = !this.isSearchActive;\n    },\n    navigateToMovie(movieId) {\n      // Use full page refresh to ensure all components reinitialize\n      window.location.href = `/movie/${movieId}`;\n    },\n    navigateToCategory() {\n      // Navigate to category page with category ID\n      console.log('Navigating to category. Movie data:', this.movie);\n      console.log('Category ID:', this.movie.category_id);\n      console.log('Category:', this.movie.category);\n      \n      const categoryId = this.movie.category_id || this.movie.category;\n      \n      if (categoryId) {\n        console.log('Navigating to category ID:', categoryId);\n        // Use Vue Router for better debugging\n      this.$router.push({\n          name: 'CategoryVideos',\n          params: { id: categoryId }\n      });\n      } else {\n        console.error('No category ID found in movie data');\n        // Show error message to user\n        this.$store.dispatch('showToast', {\n          message: 'Category information not available',\n          type: 'error'\n        });\n      }\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n    capitalizeText(text) {\n      if (!text) return '';\n      // Split by spaces and special characters\n      return text.split(/[\\s-]+/).map(word => {\n        // Don't change case for special words\n        const specialWords = ['HD', 'UHD', '4K', 'TV', 'II', 'III', 'IV', 'SPY'];\n        if (specialWords.includes(word.toUpperCase())) {\n          return word.toUpperCase();\n        }\n        // Don't change case for articles and conjunctions in middle of title\n        const minorWords = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'in', 'to', 'on', 'at', 'by', 'of'];\n        if (minorWords.includes(word.toLowerCase())) {\n          return word.toLowerCase();\n        }\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n      }).join(' ');\n    },\n    async fetchMovieDetails() {\n      try {\n        // Make API call to get movie details\n        const response = await axios.get(`${API_BASE_URL}/api/videos/${this.id}/`);\n        console.log('API Response:', response.data);\n        \n        if (response.data) {\n          // Apply capitalization to title and description\n          this.movie = {\n            ...response.data,\n            title: this.capitalizeText(response.data.title),\n            description: this.capitalizeText(response.data.description)\n          };\n          \n          // Update meta tags for social sharing\n          this.updateMetaTags();\n          \n          // Set video URL based on available formats\n          if (response.data.hls_url) {\n            this.videoUrl = response.data.hls_url;\n            this.streamType = 'hls';\n          } else {\n            throw new Error('No video URL available');\n          }\n          \n          console.log('Set video URL:', this.videoUrl);\n          console.log('Stream type:', this.streamType);\n          \n          // Fetch related videos from same category\n          await this.fetchCategoryVideos();\n          \n          // Fetch recently added videos\n          await this.fetchRecentlyAddedVideos();\n        } else {\n          throw new Error('Invalid response data');\n        }\n      } catch (error) {\n        console.error('Error fetching movie details:', error);\n        this.$store.dispatch('showToast', {\n          message: 'Error loading movie details. Please try again later.',\n          type: 'error'\n        });\n      }\n    },\n    async fetchCategoryVideos() {\n      try {\n        console.log('Fetching category videos for movie:', this.movie);\n        console.log('Category ID:', this.movie.category_id);\n        console.log('Category Name:', this.movie.category_name);\n        \n        if (!this.movie.category_id && !this.movie.category_name) {\n          console.log('No category information available');\n          // Use fallback data\n          this.categoryVideos = this.relatedMovies.slice(0, 8);\n          return;\n        }\n        \n        // Use the correct API endpoint for category videos\n        const categoryId = this.movie.category_id || this.movie.category;\n        if (!categoryId) {\n          console.log('No category ID found');\n          this.categoryVideos = this.relatedMovies.slice(0, 8);\n          return;\n        }\n        \n        const response = await axios.get(`${API_BASE_URL}/api/videos/category/${categoryId}/?page=1&page_size=12`);\n        \n        if (response.data && response.data.status === 'success') {\n          console.log('Category videos API response:', response.data);\n          \n          // Filter out current video from the results\n          let videos = response.data.data || [];\n          videos = videos.filter(video => video.id !== this.movie.id);\n          \n          this.categoryVideos = videos.slice(0, 12).map(video => ({\n            ...video,\n            title: this.capitalizeText(video.title)\n          }));\n          \n          console.log('Processed category videos:', this.categoryVideos);\n        } else {\n          console.log('No API response or invalid status, using fallback data');\n          // Use fallback data\n          this.categoryVideos = this.relatedMovies.slice(0, 8);\n        }\n        \n        // Update scroll buttons after data loads\n        this.$nextTick(() => {\n          this.checkScrollButtons('categoryContainer', 'category');\n        });\n        \n      } catch (error) {\n        console.error('Error fetching category videos:', error);\n        console.log('Using fallback data due to error');\n        // Use fallback data on error\n        this.categoryVideos = this.relatedMovies.slice(0, 8);\n              }\n      },\n      async fetchRecentlyAddedVideos() {\n        try {\n          console.log('Fetching recently added videos');\n          const response = await axios.get(`${API_BASE_URL}/api/videos/`, {\n            params: {\n              ordering: '-created_at',\n              limit: 20\n            }\n          });\n\n          let videos = [];\n          if (response.data) {\n            if (Array.isArray(response.data)) {\n              videos = response.data;\n            } else if (response.data.results) {\n              videos = response.data.results;\n            } else if (response.data.data) {\n              videos = response.data.data;\n            }\n          }\n\n          // Filter out current video from the results\n          videos = videos.filter(video => video.id !== this.movie.id);\n\n          this.recentlyAddedVideos = videos.slice(0, 12).map(video => ({\n            ...video,\n            title: this.capitalizeText(video.title)\n          }));\n\n          console.log('Processed recently added videos:', this.recentlyAddedVideos);\n\n          // Update scroll buttons after data loads\n          this.$nextTick(() => {\n            this.checkScrollButtons('recentlyAddedContainer', 'recentlyAdded');\n          });\n\n        } catch (error) {\n          console.error('Error fetching recently added videos:', error);\n          // Use fallback data on error\n          this.recentlyAddedVideos = this.relatedMovies.slice(0, 8);\n      }\n    },\n    checkDeviceType() {\n      // Check if mobile based on screen width or user agent\n      this.isMobileDevice = window.innerWidth < 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n      \n      // Adjust video control timeout based on device type\n      this.videoInteractionDelay = this.isMobileDevice ? 3500 : 2500; // Mobile needs longer timeout\n    },\n    showControlsOnInteraction() {\n      // Make controls visible on interaction\n      this.controlsVisible = true;\n      \n      // Reset the timeout when there's interaction\n      this.resetControlsTimer();\n    },\n    resetControlsTimer() {\n      // Clear any existing timeout\n      if (this.controlsTimeout) {\n        clearTimeout(this.controlsTimeout);\n      }\n      \n      // If video is playing (not paused), set a timeout to hide controls\n      if (!this.isVideoPaused) {\n        this.controlsTimeout = setTimeout(() => {\n          this.controlsVisible = false;\n        }, this.videoInteractionDelay);\n      }\n    },\n    toggleControlsVisibility(event) {\n      // Prevent default behavior\n      event.preventDefault();\n      \n      // Toggle controls visibility on tap/click (common OTT pattern)\n      this.controlsVisible = !this.controlsVisible;\n      \n      if (this.controlsVisible && !this.isVideoPaused) {\n        // If showing controls and video is playing, reset the timer\n        this.resetControlsTimer();\n      }\n    },\n    onVideoPlay() {\n      this.isVideoPaused = false;\n      this.resetControlsTimer(); // Start the timer to hide controls\n    },\n    onVideoPause() {\n      this.isVideoPaused = true;\n      this.controlsVisible = true; // Always show controls when paused\n      \n      // Clear any existing timeout\n      if (this.controlsTimeout) {\n        clearTimeout(this.controlsTimeout);\n      }\n    },\n    handleVideoError(errorMessage) {\n      console.error('Video playback error:', errorMessage);\n      \n      // If DASH format fails, try falling back to MP4\n      if (this.streamType === 'dash' && this.videoUrl.includes('.mpd')) {\n        this.streamType = 'mp4';\n        this.videoUrl = 'https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8';\n        console.log('Falling back to MP4 format');\n        \n        // Retry with MP4\n        if (this.$refs.videoPlayer) {\n          this.$refs.videoPlayer.retry();\n        }\n      }\n    },\n    checkScrollButtons(containerId, section) {\n      const container = this.$refs[containerId]\n      if (!container) return\n      \n      // Check if we can scroll left\n      this.canScrollLeft[section] = container.scrollLeft > 0\n      \n      // Check if we can scroll right\n      const maxScroll = container.scrollWidth - container.clientWidth\n      this.canScrollRight[section] = container.scrollLeft < maxScroll - 1 // -1 for rounding errors\n    },\n    scrollLeft(containerId) {\n      const container = this.$refs[containerId]\n      if (!container) return\n\n      const cardWidth = containerId === 'categoryContainer' || containerId === 'recentlyAddedContainer' ? 160 : 180 // Adjust based on card width\n      const visibleWidth = container.clientWidth\n      const cardsToScroll = Math.floor(visibleWidth / cardWidth)\n      const scrollAmount = cardWidth * cardsToScroll\n\n      const targetScroll = Math.max(0, container.scrollLeft - scrollAmount)\n      \n      container.scrollTo({\n        left: targetScroll,\n        behavior: 'smooth'\n      })\n    },\n    scrollRight(containerId) {\n      const container = this.$refs[containerId]\n      if (!container) return\n\n      const cardWidth = containerId === 'categoryContainer' || containerId === 'recentlyAddedContainer' ? 160 : 180 // Adjust based on card width\n      const visibleWidth = container.clientWidth\n      const cardsToScroll = Math.floor(visibleWidth / cardWidth)\n      const scrollAmount = cardWidth * cardsToScroll\n\n      const maxScroll = container.scrollWidth - container.clientWidth\n      const targetScroll = Math.min(maxScroll, container.scrollLeft + scrollAmount)\n      \n      container.scrollTo({\n        left: targetScroll,\n        behavior: 'smooth'\n      })\n    },\n    handleScroll() {\n      const header = document.querySelector('.header-with-gradient')\n      if (header) {\n        if (window.scrollY > 50) {\n          header.classList.add('scrolled')\n        } else {\n          header.classList.remove('scrolled')\n        }\n      }\n    },\n    // Handle subscription payment\n    handleSubscribe() {\n      // Close the payment popup\n      this.showPaymentPopup = false;\n      // Redirect to subscription plans page\n      this.$router.push({\n        name: 'SubscriptionPlans',\n        query: { \n          redirect: this.$route.fullPath, // Store current movie page URL\n          video_id: this.movie.id // Pass video ID\n        }\n      });\n    },\n    // Close payment popup\n    closePaymentPopup() {\n      this.showPaymentPopup = false;\n    },\n    handlePromoVideoEnd() {\n      console.log('Promo video ended');\n      const video = this.$refs.heroVideo;\n      if (video) {\n        // Reset to beginning and play again\n        video.currentTime = 0;\n        video.play().catch(error => {\n          console.log('Error replaying promo video:', error);\n        });\n      }\n      this.isPromoPlaying = false;\n    },\n    // Helper to initialize or update video.js player for promo/main video\n    initVideoJsPlayer(videoEl, videoSrc) {\n      if (!videoEl) return;\n      // Only initialize if not already initialized\n      if (!videoEl._videojsPlayer) {\n        videoEl._videojsPlayer = videojs(videoEl, {\n          controls: true,\n          autoplay: true,\n          muted: true,\n          preload: 'auto',\n          fluid: true\n        });\n        videoEl._videojsPlayer.on('error', () => {\n          this.promoVideoError = videoEl._videojsPlayer.error();\n          console.error('Video.js error:', this.promoVideoError);\n        });\n      }\n      // Only update source if changed\n      if (videoEl._videojsPlayer.currentSrc() !== videoSrc) {\n        videoEl._videojsPlayer.src({ src: videoSrc, type: 'application/x-mpegURL' });\n      }\n      // Reset playing state before playback\n      this.isPromoPlaying = false;\n      videoEl._videojsPlayer.off('playing'); // Remove previous listeners\n      videoEl._videojsPlayer.on('playing', () => {\n        this.isPromoPlaying = true;\n        this.$forceUpdate(); // Ensure Vue reactivity\n        console.log('video.js playing event fired, isPromoPlaying set to true');\n      });\n      videoEl._videojsPlayer.ready(() => {\n        videoEl._videojsPlayer.muted(true);\n        videoEl._videojsPlayer.play().then(() => {\n          console.log('Video should be playing');\n          console.log('Player state:', videoEl._videojsPlayer.paused(), videoEl._videojsPlayer.currentSrc());\n        }).catch(e => {\n          console.error('Auto-play prevented:', e);\n        });\n      });\n      // Add native error event logging\n      videoEl.addEventListener('error', (e) => {\n        console.error('Native video error:', e);\n      });\n    },\n    async playPromo() {\n      try {\n        console.log('playPromo() called - checking promo URL');\n        \n        // Check if we have a valid promo URL\n        if (!this.movie.promo_hls_url) {\n          throw new Error('No promo video URL available');\n        }\n\n        // Set video URL and detect format\n        this.videoUrl = this.movie.promo_hls_url;\n        \n        // Auto-detect stream type based on URL\n        if (this.videoUrl.includes('.mpd')) {\n          this.streamType = 'dash';\n        } else if (this.videoUrl.includes('.m3u8')) {\n          this.streamType = 'hls';\n        } else {\n          this.streamType = 'hls'; // Default to HLS\n        }\n\n        console.log('Playing promo with URL:', this.videoUrl);\n        console.log('Stream type:', this.streamType);\n\n        // Use AdvancedVideoPlayer (same as full video)\n        this.controlsVisible = true;\n        this.isVideoPaused = false;\n        this.isVideoPlaying = true;\n        this.isPlayingPromo = true;\n        \n        // Hide body scroll\n        document.body.style.overflow = 'hidden';\n        \n        this.$nextTick(() => {\n          if (this.$refs.videoPlayer) {\n            this.resetControlsTimer();\n          } else {\n            console.error('Video player reference not found');\n            throw new Error('Video player initialization failed');\n          }\n        });\n      } catch (error) {\n        console.error('Error playing promo video:', error);\n        this.$store.dispatch('showToast', {\n          message: 'Sorry, the promo video is not available at the moment. Please try again later.',\n          type: 'error'\n        });\n        this.isVideoPlaying = false;\n        this.isPlayingPromo = false;\n        document.body.style.overflow = 'auto';\n      }\n    },\n    shareToWhatsApp() {\n      const imageUrl = this.movie.thumbnail_url || this.movie.portrait_thumbnail_url || this.movie.poster_url;\n      const text = `Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.movie.description}\\n\\n${this.shareUrl}`;\n      \n      // For WhatsApp, we need to use a different approach for image sharing\n      if (imageUrl && this.isMobileDevice) {\n        // Try to use native sharing with image for mobile devices\n        const shareData = {\n          title: this.movie.title,\n          text: text,\n          url: this.shareUrl,\n          files: [imageUrl]\n        };\n        \n        if (navigator.canShare && navigator.canShare(shareData)) {\n          navigator.share(shareData)\n            .then(() => {\n              this.$store.dispatch('showToast', {\n                message: 'Shared to WhatsApp with image!',\n                type: 'success'\n              });\n            })\n            .catch((error) => {\n              console.error('WhatsApp share error:', error);\n              // Fallback to text-only WhatsApp sharing\n              this.shareToWhatsAppTextOnly(text);\n            });\n        } else {\n          // Fallback to text-only WhatsApp sharing\n          this.shareToWhatsAppTextOnly(text);\n        }\n      } else {\n        // Desktop or no image available - use text-only sharing\n        this.shareToWhatsAppTextOnly(text);\n      }\n      \n      this.showShareDialog = false;\n    },\n\n    shareToWhatsAppTextOnly(text) {\n      // Use the share URL directly to trigger rich preview\n      const shareText = `${text}\\n\\n${this.shareUrl}`;\n      const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareText)}`;\n      if (typeof window !== 'undefined') {\n        window.open(whatsappUrl, '_blank');\n      }\n    },\n\n    // Alternative method for WhatsApp image sharing using canvas\n    async shareToWhatsAppWithImage() {\n      try {\n        const imageUrl = this.movie.thumbnail_url || this.movie.portrait_thumbnail_url || this.movie.poster_url;\n        \n        if (!imageUrl) {\n          this.shareToWhatsAppTextOnly(`Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.movie.description}\\n\\n${this.shareUrl}`);\n          return;\n        }\n\n        // Create a canvas with the image and text overlay\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        \n        // Set canvas size\n        canvas.width = 600;\n        canvas.height = 400;\n        \n        // Load the image\n        const img = new Image();\n        img.crossOrigin = 'anonymous';\n        \n        img.onload = () => {\n          // Draw the image\n          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n          \n          // Add a semi-transparent overlay for text readability\n          ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';\n          ctx.fillRect(0, canvas.height - 120, canvas.width, 120);\n          \n          // Add text\n          ctx.fillStyle = 'white';\n          ctx.font = 'bold 24px Arial';\n          ctx.textAlign = 'center';\n          ctx.fillText(this.movie.title, canvas.width / 2, canvas.height - 80);\n          \n          ctx.font = '16px Arial';\n          ctx.fillText('Watch on No1 OTT', canvas.width / 2, canvas.height - 50);\n          \n          // Convert canvas to blob\n          canvas.toBlob((blob) => {\n            if (blob) {\n              // Create a file from the blob\n              const file = new File([blob], 'movie-share.jpg', { type: 'image/jpeg' });\n              \n              // Try to share with the generated image\n              const shareData = {\n                title: this.movie.title,\n                text: `Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.shareUrl}`,\n                files: [file]\n              };\n              \n              if (navigator.canShare && navigator.canShare(shareData)) {\n                navigator.share(shareData)\n                  .then(() => {\n                    this.$store.dispatch('showToast', {\n                      message: 'Shared to WhatsApp with image!',\n                      type: 'success'\n                    });\n                  })\n                  .catch((error) => {\n                    console.error('WhatsApp share error:', error);\n                    this.shareToWhatsAppTextOnly(`Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.movie.description}\\n\\n${this.shareUrl}`);\n                  });\n              } else {\n                this.shareToWhatsAppTextOnly(`Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.movie.description}\\n\\n${this.shareUrl}`);\n              }\n            }\n          }, 'image/jpeg', 0.8);\n        };\n        \n        img.onerror = () => {\n          // If image fails to load, fallback to text-only\n          this.shareToWhatsAppTextOnly(`Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.movie.description}\\n\\n${this.shareUrl}`);\n        };\n        \n        img.src = imageUrl;\n        \n      } catch (error) {\n        console.error('Error creating WhatsApp image share:', error);\n        this.shareToWhatsAppTextOnly(`Check out \"${this.movie.title}\" on No1 OTT!\\n\\n${this.movie.description}\\n\\n${this.shareUrl}`);\n      }\n    },\n    shareToFacebook() {\n      const imageUrl = this.movie.thumbnail_url || this.movie.portrait_thumbnail_url || this.movie.poster_url;\n      let facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.shareUrl)}`;\n      \n      // Add image URL to Facebook share if available\n      if (imageUrl) {\n        facebookUrl += `&picture=${encodeURIComponent(imageUrl)}`;\n      }\n      \n      if (typeof window !== 'undefined') {\n        window.open(facebookUrl, '_blank');\n      }\n      this.showShareDialog = false;\n    },\n    shareToTwitter() {\n      const imageUrl = this.movie.thumbnail_url || this.movie.portrait_thumbnail_url || this.movie.poster_url;\n      const text = `Check out \"${this.movie.title}\" on No1 OTT!`;\n      let twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(this.shareUrl)}`;\n      \n      // Add image URL to Twitter share if available\n      if (imageUrl) {\n        twitterUrl += `&image=${encodeURIComponent(imageUrl)}`;\n      }\n      \n      if (typeof window !== 'undefined') {\n        window.open(twitterUrl, '_blank');\n      }\n      this.showShareDialog = false;\n    },\n    async copyShareLink() {\n      if (typeof navigator === 'undefined') return;\n      \n      try {\n        await navigator.clipboard.writeText(this.shareUrl);\n        this.copyStatus = 'Copied!';\n        \n        // Show success toast\n        this.$store.dispatch('showToast', {\n          message: 'Link copied to clipboard!',\n          type: 'success'\n        });\n\n        // Reset copy status after 2 seconds\n        setTimeout(() => {\n          this.copyStatus = 'Copy';\n        }, 2000);\n      } catch (err) {\n        console.error('Failed to copy:', err);\n        \n        // Fallback for older browsers\n        if (this.$refs.shareLink) {\n          this.$refs.shareLink.select();\n          document.execCommand('copy');\n          \n          this.copyStatus = 'Copied!';\n          setTimeout(() => {\n            this.copyStatus = 'Copy';\n          }, 2000);\n        }\n      }\n    },\n    \n    // Test social media preview\n    testSocialPreview() {\n      const testUrl = `${window.location.origin}/movie/${this.movie.id}?test=true`;\n      console.log('Testing social preview with URL:', testUrl);\n      \n      // Open in new tab for testing\n      window.open(testUrl, '_blank');\n      \n      this.$store.dispatch('showToast', {\n        message: 'Social preview test opened in new tab!',\n        type: 'info'\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Advanced Video Player modal - Full screen */\n.advanced-video-player-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #000;\n  z-index: 100;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* Remove overflow: hidden to allow centering */\n}\n\n:deep(.video-element) {\n  width: 100vw !important;\n  height: 100vh !important;\n  max-width: 100vw;\n  max-height: 100vh;\n  aspect-ratio: 16 / 9;\n  object-fit: contain !important;\n  background: #000;\n  display: block;\n  margin: 0 auto;\n}\n\n@media (max-width: 768px) {\n  .advanced-video-player-modal {\n    padding: 0;\n    width: 100vw;\n    height: 100vh;\n    min-width: 100vw;\n    min-height: 100vh;\n  }\n  :deep(.video-element) {\n    width: 100vw !important;\n    height: 100vh !important;\n    aspect-ratio: 16 / 9;\n    object-fit: contain !important;\n    background: #000;\n  }\n}\n\n/* Container fix for horizontal scrolling */\n.movie-details-wrapper {\n  position: relative;\n  overflow-x: hidden;\n  width: 100%;\n  max-width: 100vw;\n}\n\n/* Header gradient overlay to blend with movie backdrop */\n.header-with-gradient {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 30;\n  background: linear-gradient(to bottom, \n    rgba(0, 0, 0, 0.9) 0%,\n    rgba(0, 0, 0, 0.7) 60%,\n    rgba(0, 0, 0, 0.4) 80%,\n    rgba(0, 0, 0, 0) 100%);\n  height: 120px;\n  transition: background 0.3s ease;\n}\n\n.header-with-gradient.scrolled {\n  background: #121212;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n}\n\n/* Make the header background transparent by default */\n.header-with-gradient :deep(.header) {\n  background: transparent !important;\n  transition: background 0.3s ease;\n}\n\n.header-with-gradient.scrolled :deep(.header) {\n  background: #121212 !important;\n  backdrop-filter: blur(10px);\n}\n\n.movie-detail-container {\n  position: relative;\n  height: 100vh;\n  min-height: 600px;\n  max-height: 800px;\n  padding-top: 0;\n  overflow: hidden;\n  width: 100%;\n}\n\n/* Back button styling */\n.back-btn {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  z-index: 20;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: none; /* Hidden by default (desktop) */\n  align-items: center;\n  justify-content: center;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.back-btn:hover {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n/* Unified action buttons styling inspired by major OTT platforms */\n.action-buttons {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin: 1.5rem 0;\n  flex-wrap: wrap;\n}\n\n.play-button {\n  background: linear-gradient(45deg, #c30059, #ff0062);\n  color: white;\n  font-weight: 600;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(195, 0, 89, 0.3);\n  position: relative;\n  overflow: hidden;\n  white-space: nowrap;    \n  width: auto;             \n  min-width: unset;        \n  max-width: unset;         \n  display: inline-flex;     \n  align-items: center;\n  justify-content: center;\n  padding: 8px 16px;        \n  gap: 8px;\n}\n\n.play-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0));\n  transform: translateX(-100%) rotate(45deg);\n  transition: transform 0.6s ease;\n}\n\n.play-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(195, 0, 89, 0.4);\n}\n\n.play-button:hover::before {\n  transform: translateX(100%) rotate(45deg);\n}\n\n.play-button:active {\n  transform: translateY(0);\n  box-shadow: 0 4px 15px rgba(195, 0, 89, 0.3);\n}\n\n.play-button i {\n  font-size: 1.1rem;\n}\n\n/* Promo button with glass effect */\nbutton[class*=\"play-button\"]:first-child {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n}\n\nbutton[class*=\"play-button\"]:first-child:hover {\n  background: rgba(255, 255, 255, 0.15);\n  border-color: rgba(255, 255, 255, 0.3);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\n}\n\nbutton[class*=\"play-button\"]:first-child:active {\n  transform: translateY(0);\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n}\n\n/* Mobile responsive styles */\n@media (max-width: 768px) {\n  .action-buttons {\n    gap: 0.75rem;\n    margin: 1rem 0;\n  }\n\n  .play-button {\n    padding: 0.75rem 1.5rem;\n    min-width: 120px;\n    font-size: 0.9rem;\n  }\n\n  .play-button i {\n    font-size: 1rem;\n  }\n\n  /* Stack buttons on very small screens */\n  @media (max-width: 360px) {\n    .action-buttons {\n      flex-direction: column;\n      width: 100%;\n    }\n\n    .play-button {\n      width: 100%;\n      justify-content: center;\n    }\n  }\n}\n\n/* Add shine animation for play button */\n@keyframes shine {\n  0% {\n    background-position: 200% center;\n  }\n  100% {\n    background-position: -200% center;\n  }\n}\n\n.play-button.main-play {\n  background: linear-gradient(45deg, #c30059, #ff0062, #c30059);\n  background-size: 200% auto;\n  animation: shine 8s linear infinite;\n}\n\n.action-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  border-radius: 0.25rem;\n  width: 60px;\n  height: 60px;\n  padding: 0.75rem 0;\n  transition: all 0.2s;\n}\n\n.action-button:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.action-button i {\n  font-size: 1.25rem;\n  margin-bottom: 0.25rem;\n}\n\n.action-label {\n  font-size: 0.7rem;\n}\n\n/* Section carousel styling to match Home page */\n.scroll-container {\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n}\n\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;\n}\n\n.scrollbar-hide {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n\n/* Main content section fixes */\nmain {\n  position: relative;\n  overflow-x: hidden;\n  width: 100%;\n  box-sizing: border-box;\n  max-width: 100%;\n}\n\n/* Gradient text style for section headings */\n.gradient-text {\n  background: linear-gradient(45deg, #fff 30%, rgba(255, 255, 255, 0.8));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n/* Scroll buttons */\n.scroll-button {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 10;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background-color: #c30059;\n  color: white;\n  display: none;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n  transition: all 0.2s;\n}\n\n.scroll-button:hover {\n  transform: translateY(-50%) scale(1.1);\n  background-color: #a80048;\n}\n\n.left-scroll-button {\n  left: -18px;\n}\n\n.right-scroll-button {\n  right: 0;\n}\n\n@media (min-width: 768px) {\n  .scroll-button {\n    display: flex;\n  }\n}\n\n/* Scroll button container fix */\nsection {\n  position: relative;\n  width: 100%;\n  overflow-x: hidden;\n}\n\n/* Cast card styling */\n.cast-card {\n  min-width: 150px;\n  max-width: 150px;\n  flex-shrink: 0;\n}\n\n.cast-image {\n  width: 100%;\n  aspect-ratio: 2/3;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  margin-bottom: 0.5rem;\n}\n\n.cast-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n}\n\n.cast-card:hover img {\n  transform: scale(1.05);\n}\n\n.cast-name {\n  font-size: 0.95rem;\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n}\n\n.cast-role {\n  font-size: 0.8rem;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n/* Related movie card styling */\n.related-movie-card {\n  min-width: 160px;\n  max-width: 160px;\n  flex-shrink: 0;\n  cursor: pointer;\n}\n\n.card-container {\n  width: 100%;\n  max-width: 160px;\n  height: 240px;\n  transition: transform 0.3s ease;\n  cursor: pointer;\n  background-color: #1d1d1d;\n}\n\n.related-movie-card:hover .card-container {\n  transform: translateY(-8px) scale(1.05);\n  z-index: 10;\n}\n\n.related-movie-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.card-text {\n  transition: transform 0.3s ease;\n}\n\n.related-movie-card:hover .card-text {\n  transform: scale(1.1);\n}\n\n/* Mobile-only elements */\n.mobile-only-element {\n  display: none; /* Hidden by default */\n}\n\n/* Hide elements on mobile */\n.hide-on-mobile {\n  display: block;\n}\n\n/* Media query for mobile devices */\n@media (max-width: 768px) {\n  .mobile-only-element {\n    display: flex; /* Show on mobile */\n  }\n  \n  .hide-on-mobile {\n    display: none; /* Hide on mobile */\n  }\n  \n  .movie-detail-container {\n    padding-top: 0; /* Remove padding since header is hidden */\n  }\n  \n  /* Additional mobile-specific styles */\n  .movie-backdrop {\n    height: 70vh; /* Increase height for portrait view */\n  }\n\n  /* Mobile action buttons styling */\n  .action-buttons {\n    margin-top: 0.25rem;\n    margin-bottom: 0.25rem;\n  }\n  \n  .play-button, .promo-button {\n    flex: 1;\n    padding: 0.75rem 1rem;\n  }\n  \n  .action-button {\n    width: 48px;\n    height: 48px;\n  }\n  \n  .action-label {\n    display: none; /* Hide labels on mobile for cleaner UI */\n  }\n\n  main {\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n\n  section {\n    margin-bottom: 0.25rem;\n  }\n\n  .movie-info-container {\n    padding: 0.75rem;\n    padding-top: calc(40vh);\n  }\n\n  .movie-description {\n    margin-bottom: 0.5rem;\n  }\n\n  .movie-meta {\n    margin-bottom: 0.25rem;\n  }\n\n  .movie-tags {\n    margin-bottom: 0.25rem;\n  }\n\n  .movie-badges {\n    margin-bottom: 0.25rem;\n  }\n\n  .movie-title {\n    margin-bottom: 0.25rem;\n  }\n}\n\n.movie-backdrop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n  overflow: hidden;\n  background: #121212;\n  \n  @media (max-width: 768px) {\n    height: 70vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #000;\n  }\n}\n\n.backdrop-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transform: scale(1.1);\n  opacity: 1;\n  transition: opacity 0.5s ease;\n  will-change: opacity;\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n}\n\n.video-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.backdrop-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  transform: scale(1.1);\n  opacity: 0;\n  transition: opacity 0.5s ease;\n  will-change: opacity;\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n}\n\n.backdrop-video.playing {\n  opacity: 1;\n}\n\n/* When video is playing, fade out the thumbnail */\n.backdrop-video.playing + .backdrop-image {\n  opacity: 0;\n}\n\n/* Loading spinner for video */\n.video-loading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n  width: 40px;\n  height: 40px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: #fff;\n  animation: spin 1s ease-in-out infinite;\n}\n\n@keyframes spin {\n  to { transform: translate(-50%, -50%) rotate(360deg); }\n}\n\n.backdrop-gradient {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(\n    to bottom,\n    rgba(18, 18, 18, 0.3) 0%,\n    rgba(18, 18, 18, 0.7) 50%,\n    rgba(18, 18, 18, 1) 100%\n  );\n  z-index: 2;\n  pointer-events: none;\n}\n\n.movie-info-container {\n  position: relative;\n  z-index: 10;\n  padding: 2rem;\n  padding-top: calc(50vh);\n  max-width: 800px;\n}\n\n.movie-badges {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n}\n\n.badge {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.25rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  display: inline-flex;\n  align-items: center;\n}\n\n.premium {\n  background: linear-gradient(45deg, #c30059, #ff0062);\n  padding: 0.4rem 0.8rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  text-transform: uppercase;\n  font-size: 0.8rem;\n  letter-spacing: 0.5px;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(195, 0, 89, 0.3);\n  transition: all 0.3s ease;\n}\n\n.premium:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(195, 0, 89, 0.4);\n}\n\n.premium i {\n  font-size: 0.9rem;\n  color: #FFD700;\n}\n\n.premium-price {\n  color: #c30059;\n  font-weight: 600;\n  background: rgba(195, 0, 89, 0.1);\n  padding: 0.2rem 0.6rem;\n  border-radius: 4px;\n  font-size: 0.85rem;\n}\n\n.quality {\n  background-color: #0066cc;\n}\n\n.movie-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n}\n\n.movie-meta {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n  font-size: 0.875rem;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.dot-divider {\n  display: inline-block;\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.movie-tags {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.tag {\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 1rem;\n  background-color: rgba(255, 255, 255, 0.1);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.movie-description {\n  font-size: 0.95rem;\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n  color: rgba(255, 255, 255, 0.9);\n  max-width: 700px;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n@media (max-width: 768px) {\n  .movie-description {\n    font-size: 0.9rem;\n    line-height: 1.5;\n    margin-bottom: 0.5rem;\n  }\n}\n\n/* Mobile Search Bar */\n.mobile-search-bar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 60px;\n  background-color: #121212;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  padding: 0 1rem;\n  transform: translateY(-100%);\n  transition: transform 0.3s ease;\n}\n\n.mobile-search-bar.active {\n  transform: translateY(0);\n}\n\n.mobile-search-bar input {\n  flex: 1;\n  background-color: rgba(255, 255, 255, 0.1);\n  border: none;\n  color: white;\n  padding: 0.75rem 1rem;\n  border-radius: 4px;\n}\n\n.mobile-search-bar input:focus {\n  outline: none;\n  background-color: rgba(255, 255, 255, 0.15);\n}\n\n.mobile-search-bar button {\n  padding: 0.5rem;\n  margin-left: 0.5rem;\n}\n\n/* Mobile responsive styles */\n@media (max-width: 768px) {\n  .movie-detail-container {\n    height: auto;\n    max-height: none;\n    padding-bottom: 20px; /* Reduced bottom padding */\n  }\n  \n  .movie-title {\n    font-size: 1.75rem;\n  }\n}\n\n/* Additional responsive fixes */\n@media (min-width: 769px) {\n  main {\n    padding-right: 10px;\n    padding-left: 10px;\n    max-width: 100vw;\n  }\n  \n  .scroll-button {\n    z-index: 20;\n  }\n  \n  .right-scroll-button {\n    right: 10px;\n  }\n  \n  .left-scroll-button {\n    left: -10px;\n  }\n  \n  .carousel-container {\n    padding-right: 10px;\n  }\n}\n\n/* Fix for the carousel to prevent overflow */\nsection > div:first-child {\n  padding-right: 1rem;\n  box-sizing: border-box;\n  width: 100%;\n}\n\n/* Fix for the last visible elements in carousels */\n.scroll-container > div {\n  padding-right: 1rem;\n  box-sizing: border-box;\n}\n\n/* Carousel container fixes */\n.carousel-container {\n  width: 100%;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.carousel-inner-container {\n  width: fit-content;\n  padding-bottom: 1rem; /* Add space for potential scrollbar */\n}\n\n/* Payment Popup */\n.payment-popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.85);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n  backdrop-filter: blur(8px);\n}\n\n.payment-popup {\n  background-color: #1a1a1a;\n  border-radius: 16px;\n  width: 100%;\n  max-width: 480px;\n  overflow: hidden;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.popup-header {\n  padding: 1.5rem;\n  background: linear-gradient(to right, #c30059, #7c1d44);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.premium-badge {\n  width: 40px;\n  height: 40px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.premium-badge i {\n  font-size: 1.25rem;\n  color: white;\n}\n\n.close-button {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  transition: all 0.2s;\n}\n\n.close-button:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(1.1);\n}\n\n.popup-content {\n  padding: 1.5rem;\n}\n\n.movie-preview {\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 12px;\n  padding: 1rem;\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.popup-thumbnail {\n  width: 120px;\n  height: 68px;\n  object-fit: cover;\n  border-radius: 8px;\n}\n\n.movie-info {\n  flex: 1;\n}\n\n.movie-title {\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: white;\n}\n\n.premium-features {\n  background: rgba(195, 0, 89, 0.05);\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n\n.features-grid {\n  display: grid;\n  gap: 1rem;\n}\n\n.feature-item {\n  display: flex;\n  gap: 1rem;\n  align-items: flex-start;\n}\n\n.feature-item i {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(195, 0, 89, 0.1);\n  border-radius: 6px;\n}\n\n.subscribe-button {\n  width: 100%;\n  background: linear-gradient(to right, #c30059, #7c1d44);\n  color: white;\n  font-weight: 600;\n  padding: 1rem;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  transition: all 0.2s;\n}\n\n.subscribe-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 10px 20px -10px rgba(195, 0, 89, 0.5);\n}\n\n.subscribe-button:active {\n  transform: translateY(0);\n}\n\n@media (max-width: 480px) {\n  .payment-popup {\n    max-height: 90vh;\n    overflow-y: auto;\n  }\n\n  .popup-content {\n    padding: 1rem;\n  }\n\n  .movie-preview {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n\n  .popup-thumbnail {\n    width: 100%;\n    height: auto;\n    aspect-ratio: 16/9;\n  }\n\n  .premium-features {\n    padding: 1rem;\n  }\n}\n\n/* Add these new styles for portrait mobile */\n.backdrop-image.portrait-mobile {\n  @media (max-width: 768px) {\n    object-fit: contain;\n    object-position: center;\n    height: 100%;\n    width: 100%;\n    background-color: #000;\n  }\n}\n\n.secondary-button {\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.3s ease;\n}\n\n.secondary-button:hover {\n  background: rgba(255, 255, 255, 0.2);\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.secondary-button.in-watchlist {\n  background: rgba(255, 119, 0, 0.2);\n  border-color: rgba(255, 119, 0, 0.4);\n}\n\n.secondary-button.in-watchlist:hover {\n  background: rgba(255, 119, 0, 0.3);\n  border-color: rgba(255, 119, 0, 0.5);\n}\n\n/* Add these new styles for share dialog */\n.backdrop-blur-sm {\n  backdrop-filter: blur(8px);\n}\n\n@media (max-width: 640px) {\n  .grid-cols-2 {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* Debug: Force video to be visible and sized correctly */\n.backdrop-video {\n  display: block !important;\n  opacity: 1 !important;\n  height: 100vh !important;\n  width: 100vw !important;\n  z-index: 1000 !important;\n}\n\n/* Remove video.js fluid aspect ratio padding */\n.vjs-fluid {\n  padding-top: 0 !important;\n  height: 100% !important;\n  min-height: 0 !important;\n}\n\n/* Hide video.js text information but keep controls */\n:deep(.video-js) {\n  .vjs-time-control,\n  .vjs-remaining-time,\n  .vjs-duration,\n  .vjs-current-time,\n  .vjs-time-divider {\n    display: none !important;\n  }\n\n  .vjs-progress-control {\n    height: 3px !important;\n    opacity: 0.5;\n    transition: all 0.3s;\n  }\n\n  .vjs-progress-control:hover {\n    height: 6px !important;\n    opacity: 1;\n  }\n\n  .vjs-control-bar {\n    background: linear-gradient(to top, rgba(0,0,0,0.7), transparent) !important;\n    height: 60px !important;\n    padding-bottom: 10px !important;\n  }\n}\n\n/* Video container and video element styles */\n.video-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #000;\n}\n\n.backdrop-video {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  display: block;\n  margin: 0 auto;\n  background: #000;\n}\n\n/* Desktop specific styles */\n@media (min-width: 769px) {\n  .video-container {\n    height: 100vh !important;\n    max-height: 100vh !important;\n  }\n\n  .backdrop-video {\n    height: 100vh !important;\n    max-height: 100vh !important;\n  }\n\n  :deep(.video-js) {\n    width: 100% !important;\n    height: 100vh !important;\n    max-height: 100vh !important;\n  }\n\n  :deep(.vjs-tech) {\n    height: 100vh !important;\n    max-height: 100vh !important;\n    object-fit: contain !important;\n  }\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAA4D;;EAuBhEA,KAAK,EAAC;AAAqC;;EAI3CA,KAAK,EAAC;AAAwB;;EAE5BA,KAAK,EAAC;AAAgB;;;;EASOA,KAAK,EAAC;;;;EAETA,KAAK,EAAC;;;;EAiChCA,KAAK,EAAC;AAAsB;;EAE1BA,KAAK,EAAC;AAAc;;;EACkBA,KAAK,EAAC;;;;EAIvBA,KAAK,EAAC;;;EAI5BA,KAAK,EAAC;AAAa;;EAGlBA,KAAK,EAAC;AAAY;;EASbA,KAAK,EAAC;AAAe;;;;;;EAQkCA,KAAK,EAAC;;;;EAMhCA,KAAK,EAAC;;;;EAClBA,KAAK,EAAC;;;;EACNA,KAAK,EAAC;;;EAI9BA,KAAK,EAAC;AAAmB;;EAKvBA,KAAK,EAAC;AAAgB;;EA4BzBA,KAAK,EAAC;AAA+D;;EAGlEA,KAAK,EAAC;AAA6C;;EAClDA,KAAK,EAAC;AAAkD;;EAUzDA,KAAK,EAAC;AAA6B;;EAc/BA,KAAK,EAAC;AAA0C;;;EAO5CA,KAAK,EAAC;AAAoD;;;;EAGrBA,KAAK,EAAC;;;;EAMvBA,KAAK,EAAC;;;EAM5BA,KAAK,EAAC;AAAmE;;EAyB/EA,KAAK,EAAC;AAA6B;;EAc/BA,KAAK,EAAC;AAA0C;;;EAO5CA,KAAK,EAAC;AAAoD;;;;EAGrBA,KAAK,EAAC;;;;EAIvBA,KAAK,EAAC;;;EAM5BA,KAAK,EAAC;AAAmE;;;EA2B3DA,KAAK,EAAC;;;EAC5BA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAc;;EAepBA,KAAK,EAAC;AAAe;;EAEnBA,KAAK,EAAC;AAAe;;;EAEnBA,KAAK,EAAC;AAAY;;EACjBA,KAAK,EAAC;AAAa;;EAClBA,KAAK,EAAC;AAA+C;;;;;;EAETA,KAAK,EAAC;;;;EAiDrCA,KAAK,EAAC;;;EAC3BA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAyB;;EAK5BA,KAAK,EAAC;AAAmB;;EAC1BA,KAAK,EAAC;AAAuB;;EAUjCA,KAAK,EAAC;AAAe;;EAEnBA,KAAK,EAAC;AAAe;;;EAEnBA,KAAK,EAAC;AAAY;;EACjBA,KAAK,EAAC;AAAa;;EAClBA,KAAK,EAAC;AAA+C;;;;;;EAETA,KAAK,EAAC;;;EAOtDA,KAAK,EAAC;AAA+C;;EACnDA,KAAK,EAAC;AAAwC;;EAE3CA,KAAK,EAAC;AAAmB;;EAE5BA,KAAK,EAAC;AAAmC;;EAa7CA,KAAK,EAAC;AAAwC;;;EAU3BA,KAAK,EAAC;;;EAC3BA,KAAK,EAAC;AAA6C;;EACjDA,KAAK,EAAC;AAAwC;;EAC7CA,KAAK,EAAC;AAAmB;;EAO1BA,KAAK,EAAC;AAA0D;;;EAM9DA,KAAK,EAAC;AAAQ;;EACbA,KAAK,EAAC;AAA+B;;EACtCA,KAAK,EAAC;AAAoC;;EAK5CA,KAAK,EAAC;AAA6B;;EAuCnCA,KAAK,EAAC;AAAM;;EAWZA,KAAK,EAAC;AAAU;;;;;;uBA9e3BC,mBAAA,CA+fM,OA/fNC,UA+fM,GA7fOC,KAAA,CAAAC,cAAc,I,cAAzBH,mBAAA,CAkBM;;IAlBqBD,KAAK,EAAC,6BAA6B;IAAEK,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,yBAAA,IAAAD,QAAA,CAAAC,yBAAA,IAAAF,IAAA,CAAyB;IAAGG,YAAU,EAAAJ,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,yBAAA,IAAAD,QAAA,CAAAC,yBAAA,IAAAF,IAAA,CAAyB;IAAGI,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAI,wBAAA,IAAAJ,QAAA,CAAAI,wBAAA,IAAAL,IAAA,CAAwB;MAC5KM,YAAA,CAgBEC,8BAAA;IAfAC,GAAG,EAAC,aAAa;IAChBC,GAAG,EAAEb,KAAA,CAAAc,QAAQ;IACbC,KAAK,EAAEf,KAAA,CAAAgB,KAAK,CAACD,KAAK;IAClB,UAAQ,EAAEf,KAAA,CAAAgB,KAAK,CAACC,EAAE;IAClB,SAAO,EAAEZ,QAAA,CAAAa,aAAa;IACtBC,UAAU,EAAEnB,KAAA,CAAAmB,UAAU;IACtBC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE,KAAK;IACbC,SAAS,EAAEtB,KAAA,CAAAsB,SAAS;IACpBC,eAAe,EAAEvB,KAAA,CAAAuB,eAAe;IAChCC,OAAK,EAAEnB,QAAA,CAAAoB,UAAU;IACjBC,MAAI,EAAErB,QAAA,CAAAsB,WAAW;IACjBC,OAAK,EAAEvB,QAAA,CAAAwB,YAAY;IACnBC,aAAW,EAAEzB,QAAA,CAAAC,yBAAyB;IACtCyB,OAAK,EAAE1B,QAAA,CAAA2B;yMAKZC,mBAAA,CAEM,OAFNC,UAEM,GADJxB,YAAA,CAAkEyB,oBAAA;IAAtDC,cAAa,EAAE/B,QAAA,CAAAgC,YAAY;IAAGC,cAAc,EAAE;qCAG5DL,mBAAA,CAuHM,OAvHNM,UAuHM,GArHJN,mBAAA,CAiCM,OAjCNO,UAiCM,G,gBA/BJP,mBAAA,CAKE;IAJCpB,GAAG,EAAEb,KAAA,CAAAyC,cAAc,IAAIzC,KAAA,CAAAgB,KAAK,CAAC0B,sBAAsB,GAAG1C,KAAA,CAAAgB,KAAK,CAAC0B,sBAAsB,GAAG1C,KAAA,CAAAgB,KAAK,CAAC2B,aAAa;IACzGC,GAAG,EAAC,iBAAiB;IACpB/C,KAAK,EAAAgD,eAAA;MAAA,mBAAyC7C,KAAA,CAAAyC,cAAc,IAAIzC,KAAA,CAAAgB,KAAK,CAAC0B;IAAsB;uCACpF1C,KAAA,CAAA8C,cAAc,KAAK9C,KAAA,CAAA+C,cAAc,E,GAGjC/C,KAAA,CAAAgB,KAAK,CAACgC,aAAa,I,cAA9BlD,mBAAA,CAsBM,OAtBNmD,UAsBM,GApBOjD,KAAA,CAAA+C,cAAc,I,cAAzBjD,mBAAA,CAAuD,OAAvDoD,UAAuD,K,+CACvDjB,mBAAA,CAkBQ;IAjBNrB,GAAG,EAAC,WAAW;IACff,KAAK,EAAC,gBAAgB;IACrBsD,MAAM,EAAEnD,KAAA,CAAAgB,KAAK,CAAC2B,aAAa;IAC5BvB,QAAQ,EAAR,EAAQ;IACRgC,KAAK,EAAL,EAAK;IACLC,IAAI,EAAJ,EAAI;IACJC,WAAW,EAAX,EAAW;IACXC,OAAO,EAAC,MAAM;IACbC,YAAU,EAAArD,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAoD,kBAAA,IAAApD,QAAA,CAAAoD,kBAAA,IAAArD,IAAA,CAAkB;IAC9BsD,OAAK,EAAAvD,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAsD,mBAAA,IAAAtD,QAAA,CAAAsD,mBAAA,IAAAvD,IAAA,CAAmB;IAC1B2B,OAAK,EAAA5B,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAuD,qBAAA,IAAAvD,QAAA,CAAAuD,qBAAA,IAAAxD,IAAA,CAAqB;IAC5ByD,SAAO,EAAA1D,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAyD,mBAAA,IAAAzD,QAAA,CAAAyD,mBAAA,IAAA1D,IAAA,CAAmB;IAC5B2D,SAAO,EAAA5D,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAA2D,mBAAA,IAAA3D,QAAA,CAAA2D,mBAAA,IAAA5D,IAAA,CAAmB;IAC5B6D,SAAO,EAAA9D,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAA6D,mBAAA,IAAA7D,QAAA,CAAA6D,mBAAA,IAAA9D,IAAA,CAAmB;IAE7B+D,KAAoJ,EAApJ;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;sCADQnE,KAAA,CAAA8C,cAAc,KAAK9C,KAAA,CAAA+C,cAAc,E,kEAK7Cd,mBAAA,CAAqC;IAAhCpC,KAAK,EAAC;EAAmB,c,GAIhCoC,mBAAA,CAKS;IAJPpC,KAAK,EAAC,8BAA8B;IACnCW,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAA+D,MAAA,IAAA/D,QAAA,CAAA+D,MAAA,IAAAhE,IAAA,CAAM;kCAEd6B,mBAAA,CAAiC;IAA9BpC,KAAK,EAAC;EAAmB,a,IAI9BoC,mBAAA,CAwEM,OAxENoC,UAwEM,GAtEJpC,mBAAA,CAMM,OANNqC,WAMM,GALQtE,KAAA,CAAAgB,KAAK,CAACuD,UAAU,e,cAA5BzE,mBAAA,CAGO,QAHP0E,WAGO,EAAArE,MAAA,SAAAA,MAAA,QAFL8B,mBAAA,CAAiC;IAA9BpC,KAAK,EAAC;EAAmB,c,iBAAK,WAEnC,E,qCACYG,KAAA,CAAAgB,KAAK,CAACyD,IAAI,I,cAAtB3E,mBAAA,CAAuD,QAAvD4E,WAAuD,EAAT,IAAE,K,iCAIlDzC,mBAAA,CAA8C,MAA9C0C,WAA8C,EAAAC,gBAAA,CAAnB5E,KAAA,CAAAgB,KAAK,CAACD,KAAK,OAGtCkB,mBAAA,CAoBM,OApBN4C,WAoBM,GAnBJ5C,mBAAA,CAA4B,cAAA2C,gBAAA,CAAnBvE,QAAA,CAAAyE,SAAS,O,4BAClB7C,mBAAA,CAAiC;IAA3BpC,KAAK,EAAC;EAAa,eACzBoC,mBAAA,CAAoC,cAAA2C,gBAAA,CAA3BvE,QAAA,CAAA0E,iBAAiB,O,4BAC1B9C,mBAAA,CAAiC;IAA3BpC,KAAK,EAAC;EAAa,eACzBoC,mBAAA,CAA+B,cAAA2C,gBAAA,CAAtBvE,QAAA,CAAA2E,YAAY,OAELhF,KAAA,CAAAgB,KAAK,CAACuD,UAAU,iBAAiBvE,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIjF,KAAA,CAAAgB,KAAK,CAACiE,MAAM,CAACC,MAAM,KAAKlF,KAAA,CAAAmF,gBAAgB,I,cAAzGrF,mBAAA,CASWsF,SAAA;IAAAC,GAAA;EAAA,I,4BARTpD,mBAAA,CAAiC;IAA3BpC,KAAK,EAAC;EAAa,eACzBoC,mBAAA,CAMO,QANPqD,WAMO,G,4BALLrD,mBAAA,CAAsC;IAAnCpC,KAAK,EAAC;EAAwB,e,6CAAK,WAEtC,K,kBAAAC,mBAAA,CAEWsF,SAAA,QAAAG,WAAA,CAFsBvF,KAAA,CAAAgB,KAAK,CAACiE,MAAM,GAA3BO,KAAK,EAAEC,GAAG;;WAAyBD,KAAK,CAACvE;yBAAI,IAC5D,GAAA2D,gBAAA,CAAGY,KAAK,CAACE,YAAY,IAAG,OAAK,GAAAd,gBAAA,CAAGvE,QAAA,CAAAsF,iBAAiB,CAACH,KAAK,CAACI,eAAe,QAAgBH,GAAG,GAAGzF,KAAA,CAAAgB,KAAK,CAACiE,MAAM,CAACC,MAAM,Q,cAArCpF,mBAAA,CAAoD,QAAA+F,WAAA,EAAT,IAAE,K;sDAInH7F,KAAA,CAAAgB,KAAK,CAACuD,UAAU,eAAevE,KAAA,CAAAgB,KAAK,CAAC0E,YAAY,I,cAA7D5F,mBAAA,CAEO,QAFPgG,WAEO,EAFmF,IACvF,GAAAlB,gBAAA,CAAG5E,KAAA,CAAAgB,KAAK,CAAC0E,YAAY,S,iCAKf1F,KAAA,CAAAgB,KAAK,CAAC+E,KAAK,IAAI/F,KAAA,CAAAgB,KAAK,CAACgF,KAAK,I,cAArClG,mBAAA,CAGM,OAHNmG,WAGM,GAFQjG,KAAA,CAAAgB,KAAK,CAAC+E,KAAK,I,cAAvBjG,mBAAA,CAA6D,QAA7DoG,WAA6D,EAAAtB,gBAAA,CAArB5E,KAAA,CAAAgB,KAAK,CAAC+E,KAAK,S,+BACvC/F,KAAA,CAAAgB,KAAK,CAACgF,KAAK,I,cAAvBlG,mBAAA,CAA6D,QAA7DqG,WAA6D,EAAAvB,gBAAA,CAArB5E,KAAA,CAAAgB,KAAK,CAACgF,KAAK,S,kEAIrD/D,mBAAA,CAEI,KAFJmE,WAEI,EAAAxB,gBAAA,CADC5E,KAAA,CAAAgB,KAAK,CAACqF,WAAW,OAItBpE,mBAAA,CAuBM,OAvBNqE,WAuBM,GAtBUjG,QAAA,CAAAkG,qBAAqB,I,cAAnCzG,mBAAA,CAGS;;IAH4BD,KAAK,EAAC,aAAa;IAAEW,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAmG,SAAA,IAAAnG,QAAA,CAAAmG,SAAA,IAAApG,IAAA,CAAS;kCACxE6B,mBAAA,CAA2B;IAAxBpC,KAAK,EAAC;EAAa,cACtBoC,mBAAA,CAAkB,cAAZ,OAAK,M,qCAGbA,mBAAA,CAGS;IAHDpC,KAAK,EAAC,aAAa;IAAEW,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAoG,SAAA,IAAApG,QAAA,CAAAoG,SAAA,IAAArG,IAAA,CAAS;kCAC3C6B,mBAAA,CAA2B;IAAxBpC,KAAK,EAAC;EAAa,cACtBoC,mBAAA,CAAuB,cAAjB,YAAU,M,IAGlBA,mBAAA,CAOS;IANPpC,KAAK,EAAAgD,eAAA,EAAC,kBAAkB;MAAA,gBAEE7C,KAAA,CAAA0G;IAAa;IADtClG,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAsG,eAAA,IAAAtG,QAAA,CAAAsG,eAAA,IAAAvG,IAAA,CAAe;MAGvB6B,mBAAA,CAAyE;IAArEpC,KAAK,EAAAgD,eAAA,SAAU7C,KAAA,CAAA0G,aAAa;gCAAyC,GACzE,GAAA9B,gBAAA,CAAG5E,KAAA,CAAA0G,aAAa,qD,MAElBzE,mBAAA,CAGS;IAHDpC,KAAK,EAAC,eAAe;IAAEW,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAuG,UAAA,IAAAvG,QAAA,CAAAuG,UAAA,IAAAxG,IAAA,CAAU;kCAC9C6B,mBAAA,CAAgC;IAA7BpC,KAAK,EAAC;EAAkB,cAC3BoC,mBAAA,CAAuC;IAAjCpC,KAAK,EAAC;EAAc,GAAC,OAAK,M,UAOxCoC,mBAAA,CA6HO,QA7HP4E,WA6HO,GA3HL5E,mBAAA,CA+DU,kBA9DRA,mBAAA,CAUM,OAVN6E,WAUM,GATJ7E,mBAAA,CAEK,MAFL8E,WAEK,EAAAnC,gBAAA,CADAvE,QAAA,CAAA2E,YAAY,OAEjB/C,mBAAA,CAKI;IAJFpC,KAAK,EAAC,mFAAmF;IACxFW,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAA2G,kBAAA,IAAA3G,QAAA,CAAA2G,kBAAA,IAAA5G,IAAA,CAAkB;KAC3B,YAED,E,GAEF6B,mBAAA,CAkDM,OAlDNgF,WAkDM,GAhDIjH,KAAA,CAAAkH,aAAa,CAACC,QAAQ,I,cAD9BrH,mBAAA,CAOS;;IALP,YAAU,EAAC,0BAA0B;IACrCD,KAAK,EAAC,kCAAkC;IACvCW,OAAK,EAAAL,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAE/G,QAAA,CAAAgH,UAAU;kCAElBpF,mBAAA,CAAmC;IAAhCpC,KAAK,EAAC;EAAqB,a,qCAEhCoC,mBAAA,CAgCM;IA/BJpC,KAAK,EAAC,kFAAkF;IACxFe,GAAG,EAAC,mBAAmB;IACtB0G,QAAM,EAAAnH,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAE/G,QAAA,CAAAkH,kBAAkB;MAE3BtF,mBAAA,CA0BM,OA1BNuF,WA0BM,I,kBAzBJ1H,mBAAA,CAwBMsF,SAAA,QAAAG,WAAA,CAvBqBvF,KAAA,CAAAyH,cAAc,GAA/BC,KAAK,EAAEC,KAAK;yBADtB7H,mBAAA,CAwBM;MAtBHuF,GAAG,EAAEsC,KAAK;MACX9H,KAAK,EAAC,+BAA+B;MACpCW,OAAK,EAAA4G,MAAA,IAAE/G,QAAA,CAAAuH,eAAe,CAACF,KAAK,CAACzG,EAAE;QAEhCgB,mBAAA,CAcM,OAdN4F,WAcM,GAbJ5F,mBAAA,CAAmI;MAA7HpB,GAAG,EAAE6G,KAAK,CAAChF,sBAAsB,IAAIgF,KAAK,CAAC/E,aAAa,IAAI+E,KAAK,CAACI,UAAU;MAAGlF,GAAG,EAAE8E,KAAK,CAAC3G,KAAK;MAAElB,KAAK,EAAC;8BAElG6H,KAAK,CAACnD,UAAU,e,cAA3BzE,mBAAA,CAII,OAJJiI,WAII,EAAA5H,MAAA,SAAAA,MAAA,QAHF8B,mBAAA,CAEO;MAFDpC,KAAK,EAAC;IAAsG,IAChHoC,mBAAA,CAAiC;MAA9BpC,KAAK,EAAC;IAAmB,I,iBAAK,UACnC,E,2CAGS6H,KAAK,CAACjD,IAAI,I,cAArB3E,mBAAA,CAII,OAJJkI,WAII,EAAA7H,MAAA,SAAAA,MAAA,QAHF8B,mBAAA,CAEO;MAFDpC,KAAK,EAAC;IAAqE,GAAC,MAElF,M,uCAGJoC,mBAAA,CAEI,KAFJgG,WAEI,EAAArD,gBAAA,CADCvE,QAAA,CAAA6H,cAAc,CAACR,KAAK,CAAC3G,KAAK,O;sBAM7Bf,KAAA,CAAAmI,cAAc,CAAChB,QAAQ,I,cAD/BrH,mBAAA,CAOS;;IALP,YAAU,EAAC,sBAAsB;IACjCD,KAAK,EAAC,mCAAmC;IACxCW,OAAK,EAAAL,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAE/G,QAAA,CAAA+H,WAAW;kCAEnBnG,mBAAA,CAAoC;IAAjCpC,KAAK,EAAC;EAAsB,a,yCAOrCoC,mBAAA,CAuDU,kB,4BAtDRA,mBAAA,CAIM;IAJDpC,KAAK,EAAC;EAA6C,IACtDoC,mBAAA,CAEK;IAFDpC,KAAK,EAAC;EAAkD,GAAC,kBAE7D,E,QAEFoC,mBAAA,CAgDM,OAhDNoG,WAgDM,GA9CIrI,KAAA,CAAAkH,aAAa,CAACoB,aAAa,I,cADnCxI,mBAAA,CAOS;;IALP,YAAU,EAAC,yBAAyB;IACpCD,KAAK,EAAC,kCAAkC;IACvCW,OAAK,EAAAL,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAE/G,QAAA,CAAAgH,UAAU;kCAElBpF,mBAAA,CAAmC;IAAhCpC,KAAK,EAAC;EAAqB,a,qCAEhCoC,mBAAA,CA8BM;IA7BJpC,KAAK,EAAC,kFAAkF;IACxFe,GAAG,EAAC,wBAAwB;IAC3B0G,QAAM,EAAAnH,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAE/G,QAAA,CAAAkH,kBAAkB;MAE3BtF,mBAAA,CAwBM,OAxBNsG,WAwBM,I,kBAvBJzI,mBAAA,CAsBMsF,SAAA,QAAAG,WAAA,CArBqBvF,KAAA,CAAAwI,mBAAmB,GAApCd,KAAK,EAAEC,KAAK;yBADtB7H,mBAAA,CAsBM;MApBHuF,GAAG,EAAEsC,KAAK;MACX9H,KAAK,EAAC,+BAA+B;MACpCW,OAAK,EAAA4G,MAAA,IAAE/G,QAAA,CAAAuH,eAAe,CAACF,KAAK,CAACzG,EAAE;QAEhCgB,mBAAA,CAYM,OAZNwG,WAYM,GAXJxG,mBAAA,CAAmI;MAA7HpB,GAAG,EAAE6G,KAAK,CAAChF,sBAAsB,IAAIgF,KAAK,CAAC/E,aAAa,IAAI+E,KAAK,CAACI,UAAU;MAAGlF,GAAG,EAAE8E,KAAK,CAAC3G,KAAK;MAAElB,KAAK,EAAC;8BAElG6H,KAAK,CAACnD,UAAU,e,cAA3BzE,mBAAA,CAEM,OAFN4I,WAEM,EAAAvI,MAAA,SAAAA,MAAA,QADJ8B,mBAAA,CAAiD;MAA9CpC,KAAK,EAAC;IAAmC,a,qCAGnC6H,KAAK,CAACjD,IAAI,I,cAArB3E,mBAAA,CAIM,OAJN6I,WAIM,EAAAxI,MAAA,SAAAA,MAAA,QAHJ8B,mBAAA,CAEO;MAFDpC,KAAK,EAAC;IAAqE,GAAC,MAElF,M,uCAGJoC,mBAAA,CAEI,KAFJ2G,WAEI,EAAAhE,gBAAA,CADCvE,QAAA,CAAA6H,cAAc,CAACR,KAAK,CAAC3G,KAAK,O;sBAM7Bf,KAAA,CAAAmI,cAAc,CAACG,aAAa,I,cADpCxI,mBAAA,CAOS;;IALP,YAAU,EAAC,qBAAqB;IAChCD,KAAK,EAAC,mCAAmC;IACxCW,OAAK,EAAAL,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAE/G,QAAA,CAAA+H,WAAW;kCAEnBnG,mBAAA,CAAoC;IAAjCpC,KAAK,EAAC;EAAsB,a,2CAOvCoC,mBAAA,CAKM;IALDpC,KAAK,EAAAgD,eAAA,EAAC,mBAAmB;MAAAgG,MAAA,EAAmB7I,KAAA,CAAA8I;IAAc;kCAC7D7G,mBAAA,CAAkE;IAA3D8G,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC;iBAC/B/G,mBAAA,CAES;IAFDpC,KAAK,EAAC,YAAY;IAAEW,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAgC,YAAA,IAAAhC,QAAA,CAAAgC,YAAA,IAAAjC,IAAA,CAAY;kCAC7C6B,mBAAA,CAA4B;IAAzBpC,KAAK,EAAC;EAAc,a,SAKhBG,KAAA,CAAAiJ,gBAAgB,I,cAA3BnJ,mBAAA,CAuEM,OAvENoJ,WAuEM,GAtEJjH,mBAAA,CAqEM,OArENkH,WAqEM,GApEJlH,mBAAA,CAaM,OAbNmH,WAaM,G,0YAHJnH,mBAAA,CAES;IAFAzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAgJ,iBAAA,IAAAhJ,QAAA,CAAAgJ,iBAAA,IAAAjJ,IAAA,CAAiB;IAAEP,KAAK,EAAC;kCACvCoC,mBAAA,CAA4B;IAAzBpC,KAAK,EAAC;EAAc,a,MAI3BoC,mBAAA,CAoDM,OApDNqH,WAoDM,GAlDJrH,mBAAA,CAUM,OAVNsH,WAUM,GATJtH,mBAAA,CAAkG;IAA5FpB,GAAG,EAAEb,KAAA,CAAAgB,KAAK,CAAC2B,aAAa,IAAI3C,KAAA,CAAAgB,KAAK,CAAC8G,UAAU;IAAElF,GAAG,EAAC,iBAAiB;IAAC/C,KAAK,EAAC;4BAChFoC,mBAAA,CAOM,OAPNuH,WAOM,GANJvH,mBAAA,CAA8C,MAA9CwH,WAA8C,EAAA7E,gBAAA,CAAnB5E,KAAA,CAAAgB,KAAK,CAACD,KAAK,OACtCkB,mBAAA,CAIM,OAJNyH,WAIM,GAHQrJ,QAAA,CAAA0E,iBAAiB,I,cAA7BjF,mBAAA,CAA6D,QAAA6J,WAAA,EAAA/E,gBAAA,CAA3BvE,QAAA,CAAA0E,iBAAiB,S,+BACvC1E,QAAA,CAAA0E,iBAAiB,IAAI1E,QAAA,CAAA2E,YAAY,I,cAA7ClF,mBAAA,CAA0E,QAA1E8J,WAA0E,K,+BAC1E3H,mBAAA,CAA+B,cAAA2C,gBAAA,CAAtBvE,QAAA,CAAA2E,YAAY,M,ulCAkC3B/C,mBAAA,CAGS;IAHAzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAwJ,eAAA,IAAAxJ,QAAA,CAAAwJ,eAAA,IAAAzJ,IAAA,CAAe;IAAEP,KAAK,EAAC;kCACrCoC,mBAAA,CAAmC,cAA7B,wBAAsB,OAC5BA,mBAAA,CAAkC;IAA/BpC,KAAK,EAAC;EAAoB,a,gCAI/BoC,mBAAA,CAEI;IAFDpC,KAAK,EAAC;EAAwC,GAAC,uCAElD,O,wCAMKG,KAAA,CAAA8J,eAAe,I,cAA1BhK,mBAAA,CAyDM,OAzDNiK,WAyDM,GAxDJ9H,mBAAA,CAuDM,OAvDN+H,WAuDM,GAtDJ/H,mBAAA,CAeM,OAfNgI,WAeM,GAdJhI,mBAAA,CAUM,OAVNiI,WAUM,G,4BATJjI,mBAAA,CAEM;IAFDpC,KAAK,EAAC;EAAe,IACxBoC,mBAAA,CAAiC;IAA9BpC,KAAK,EAAC;EAAmB,G,QAE9BoC,mBAAA,CAKM,cAJJA,mBAAA,CAAoD,MAApDkI,WAAoD,EAAAvF,gBAAA,CAAnB5E,KAAA,CAAAgB,KAAK,CAACD,KAAK,OAC5CkB,mBAAA,CAEI,KAFJmI,WAEI,EAAAxF,gBAAA,CADCvE,QAAA,CAAAsF,iBAAiB,CAAC3F,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIW,eAAe,KAAI,UAC1D,K,KAGJ3D,mBAAA,CAES;IAFAzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAEpH,KAAA,CAAA8J,eAAe;IAAUjK,KAAK,EAAC;kCAC7CoC,mBAAA,CAA4B;IAAzBpC,KAAK,EAAC;EAAc,a,MAI3BoC,mBAAA,CAoCM,OApCNoI,WAoCM,GAlCJpI,mBAAA,CAUM,OAVNqI,WAUM,GATJrI,mBAAA,CAAkG;IAA5FpB,GAAG,EAAEb,KAAA,CAAAgB,KAAK,CAAC2B,aAAa,IAAI3C,KAAA,CAAAgB,KAAK,CAAC8G,UAAU;IAAElF,GAAG,EAAC,iBAAiB;IAAC/C,KAAK,EAAC;4BAChFoC,mBAAA,CAOM,OAPNsI,WAOM,GANJtI,mBAAA,CAA8C,MAA9CuI,WAA8C,EAAA5F,gBAAA,CAAnB5E,KAAA,CAAAgB,KAAK,CAACD,KAAK,OACtCkB,mBAAA,CAIM,OAJNwI,WAIM,GAHQpK,QAAA,CAAA0E,iBAAiB,I,cAA7BjF,mBAAA,CAA6D,QAAA4K,WAAA,EAAA9F,gBAAA,CAA3BvE,QAAA,CAAA0E,iBAAiB,S,+BACvC1E,QAAA,CAAA0E,iBAAiB,IAAI1E,QAAA,CAAA2E,YAAY,I,cAA7ClF,mBAAA,CAA0E,QAA1E6K,WAA0E,K,+BAC1E1I,mBAAA,CAA+B,cAAA2C,gBAAA,CAAtBvE,QAAA,CAAA2E,YAAY,M,OAM3B/C,mBAAA,CASM,OATN2I,WASM,GARJ3I,mBAAA,CAGM,OAHN4I,WAGM,G,4BAFJ5I,mBAAA,CAA+C;IAAzCpC,KAAK,EAAC;EAAe,GAAC,cAAY,QACxCoC,mBAAA,CAA0E,QAA1E6I,WAA0E,EAA1C,GAAC,GAAAlG,gBAAA,CAAG5E,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIS,YAAY,M,GAElEzD,mBAAA,CAGM,OAHN8I,WAGM,G,4BAFJ9I,mBAAA,CAA+C;IAAzCpC,KAAK,EAAC;EAAe,GAAC,cAAY,QACxCoC,mBAAA,CAAqE,cAAA2C,gBAAA,CAA5DvE,QAAA,CAAAsF,iBAAiB,CAAC3F,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIW,eAAe,O,KAK9D3D,mBAAA,CAGS;IAHAzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAA2K,iBAAA,IAAA3K,QAAA,CAAA2K,iBAAA,IAAA5K,IAAA,CAAiB;IAAEP,KAAK,EAAC;MACvCoC,mBAAA,CAAqH,cAA/G,WAAS,GAAA2C,gBAAA,CAAGvE,QAAA,CAAAsF,iBAAiB,CAAC3F,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIW,eAAe,KAAI,OAAK,GAAAhB,gBAAA,CAAG5E,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIS,YAAY,O,4BAC3GzD,mBAAA,CAAkC;IAA/BpC,KAAK,EAAC;EAAoB,c,GAI/BoC,mBAAA,CAEI,KAFJgJ,WAEI,EAF8C,0BACzB,GAAArG,gBAAA,CAAGvE,QAAA,CAAAsF,iBAAiB,CAAC3F,KAAA,CAAAgB,KAAK,CAACiE,MAAM,IAAIW,eAAe,KAAI,iBACjF,K,wCAKNlF,YAAA,CAAawK,oBAAA,GAGFlL,KAAA,CAAAmL,eAAe,I,cAA1BrL,mBAAA,CAyFM,OAzFNsL,WAyFM,GAxFJnJ,mBAAA,CAuFM,OAvFNoJ,WAuFM,GAtFJpJ,mBAAA,CAKM,OALNqJ,WAKM,GAJJrJ,mBAAA,CAA4D,MAA5DsJ,WAA4D,EAA9B,UAAO,GAAA3G,gBAAA,CAAG5E,KAAA,CAAAgB,KAAK,CAACD,KAAK,IAAG,IAAC,MACvDkB,mBAAA,CAES;IAFAzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,OAAAiH,MAAA,IAAEpH,KAAA,CAAAmL,eAAe;IAAUtL,KAAK,EAAC;kCAC7CoC,mBAAA,CAA4B;IAAzBpC,KAAK,EAAC;EAAc,a,MAK3BoC,mBAAA,CAUM,OAVNuJ,WAUM,GATJvJ,mBAAA,CAIE;IAHCpB,GAAG,EAAEb,KAAA,CAAAgB,KAAK,CAAC2B,aAAa,IAAI3C,KAAA,CAAAgB,KAAK,CAAC0B,sBAAsB,IAAI1C,KAAA,CAAAgB,KAAK,CAAC8G,UAAU;IAC5ElF,GAAG,EAAE5C,KAAA,CAAAgB,KAAK,CAACD,KAAK;IACjBlB,KAAK,EAAC;4BAERoC,mBAAA,CAGM,OAHNwJ,WAGM,GAFJxJ,mBAAA,CAAgE,MAAhEyJ,WAAgE,EAAA9G,gBAAA,CAAnB5E,KAAA,CAAAgB,KAAK,CAACD,KAAK,OACxDkB,mBAAA,CAAyE,KAAzE0J,WAAyE,EAAA/G,gBAAA,CAAxB5E,KAAA,CAAAgB,KAAK,CAACqF,WAAW,M,KAKtEpE,mBAAA,CAoCM,OApCN2J,WAoCM,GAlCJ3J,mBAAA,CAMS;IALNzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAwL,wBAAA,IAAAxL,QAAA,CAAAwL,wBAAA,IAAAzL,IAAA,CAAwB;IAChCP,KAAK,EAAC;kCAENoC,mBAAA,CAAuD;IAApDpC,KAAK,EAAC;EAAyC,cAClDoC,mBAAA,CAAqB,cAAf,UAAQ,M,IAIhBA,mBAAA,CAMS;IALNzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAAyL,eAAA,IAAAzL,QAAA,CAAAyL,eAAA,IAAA1L,IAAA,CAAe;IACvBP,KAAK,EAAC;kCAENoC,mBAAA,CAAuD;IAApDpC,KAAK,EAAC;EAAyC,cAClDoC,mBAAA,CAAqB,cAAf,UAAQ,M,IAIhBA,mBAAA,CAMS;IALNzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAA0L,cAAA,IAAA1L,QAAA,CAAA0L,cAAA,IAAA3L,IAAA,CAAc;IACtBP,KAAK,EAAC;kCAENoC,mBAAA,CAAsD;IAAnDpC,KAAK,EAAC;EAAwC,cACjDoC,mBAAA,CAAoB,cAAd,SAAO,M,IAIfA,mBAAA,CAMS;IALNzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAA2L,aAAA,IAAA3L,QAAA,CAAA2L,aAAA,IAAA5L,IAAA,CAAa;IACrBP,KAAK,EAAC;kCAENoC,mBAAA,CAA+C;IAA5CpC,KAAK,EAAC;EAAiC,cAC1CoC,mBAAA,CAAsB,cAAhB,WAAS,M,MAKnBA,mBAAA,CAQM,OARNgK,WAQM,GAPJhK,mBAAA,CAMS;IALNzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAA6L,iBAAA,IAAA7L,QAAA,CAAA6L,iBAAA,IAAA9L,IAAA,CAAiB;IACzBP,KAAK,EAAC;kCAENoC,mBAAA,CAAiD;IAA9CpC,KAAK,EAAC;EAAmC,cAC5CoC,mBAAA,CAAyE;IAAnEpC,KAAK,EAAC;EAA4B,GAAC,2BAAyB,M,MAKtEoC,mBAAA,CAcM,OAdNkK,WAcM,GAbJlK,mBAAA,CAME;IALArB,GAAG,EAAC,WAAW;IACfmI,IAAI,EAAC,MAAM;IACVqD,KAAK,EAAE/L,QAAA,CAAAgM,QAAQ;IAChBxM,KAAK,EAAC,8IAA8I;IACpJyM,QAAQ,EAAR;4BAEFrK,mBAAA,CAKS;IAJNzB,OAAK,EAAAL,MAAA,SAAAA,MAAA,WAAAC,IAAA,KAAEC,QAAA,CAAA2L,aAAA,IAAA3L,QAAA,CAAA2L,aAAA,IAAA5L,IAAA,CAAa;IACrBP,KAAK,EAAC;sBAEHG,KAAA,CAAAuM,UAAU,M","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}