{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport MobileNav from './components/MobileNav.vue';\nimport ToastNotification from '@/components/Toast.vue';\nimport PopupModal from '@/components/PopupModal.vue';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      scrollCheckInterval: null\n    };\n  },\n  components: {\n    MobileNav,\n    ToastNotification,\n    PopupModal\n  },\n  computed: {\n    showMobileNav() {\n      const hideOnRoutes = ['/login', '/register', '/mini-register'];\n      return !hideOnRoutes.includes(this.$route.path);\n    }\n  },\n  watch: {\n    // Watch for route changes to ensure scroll is restored\n    '$route'() {\n      // Ensure scroll is enabled when route changes\n      this.$nextTick(() => {\n        this.ensurePageScrollability();\n      });\n    }\n  },\n  mounted() {\n    console.log('App mounted, checking authentication status');\n\n    // Ensure page scrolling is enabled on app mount\n    this.ensurePageScrollability();\n\n    // Check if user is authenticated\n    const isAuthenticated = this.$store.getters.isAuthenticated;\n    const user = this.$store.getters.currentUser;\n    console.log('Authentication status:', {\n      isAuthenticated,\n      user: user ? 'exists' : 'null'\n    });\n\n    // Check and clean expired orders on page load\n    this.checkAndCleanExpiredOrders();\n\n    // Only check notifications and payments if user is authenticated\n    if (isAuthenticated && user) {\n      // Check for success messages\n      this.checkAndShowToast('registrationSuccess', 'registrationMessage');\n      this.checkAndShowToast('loginSuccess', 'loginMessage');\n      // Check for pending payments on mount\n      this.checkPendingPayments();\n      // Check for user notifications (like account deletion)\n      this.checkUserNotifications();\n\n      // Set up intervals for background checking\n      // Check pending payments every 30 seconds\n      this.paymentCheckInterval = setInterval(() => {\n        this.checkPendingPayments();\n      }, 30000);\n\n      // Check subscription status every 2 minutes\n      this.subscriptionCheckInterval = setInterval(() => {\n        this.checkSubscriptionStatus();\n      }, 120000);\n\n      // Listen for app resume/focus\n      window.addEventListener('focus', this.checkPendingPayments);\n      window.addEventListener('focus', this.checkUserNotifications);\n      window.addEventListener('focus', this.checkAndCleanExpiredOrders);\n    } else {\n      console.log('User not authenticated, skipping background checks');\n    }\n\n    // Add global event listeners for scroll restoration\n    window.addEventListener('beforeunload', this.ensurePageScrollability);\n    window.addEventListener('pagehide', this.ensurePageScrollability);\n\n    // Add periodic scroll check (every 5 seconds)\n    this.scrollCheckInterval = setInterval(() => {\n      if (document.body.style.overflow === 'hidden') {\n        console.log('‚ö†Ô∏è Scroll blocked detected, restoring...');\n        this.ensurePageScrollability();\n      }\n    }, 5000);\n  },\n  beforeUnmount() {\n    // Clear all intervals\n    if (this.paymentCheckInterval) {\n      clearInterval(this.paymentCheckInterval);\n    }\n    if (this.subscriptionCheckInterval) {\n      clearInterval(this.subscriptionCheckInterval);\n    }\n\n    // Clear event listeners\n    window.removeEventListener('focus', this.checkPendingPayments);\n    window.removeEventListener('focus', this.checkUserNotifications);\n    window.removeEventListener('focus', this.checkAndCleanExpiredOrders);\n    window.removeEventListener('beforeunload', this.ensurePageScrollability);\n    window.removeEventListener('pagehide', this.ensurePageScrollability);\n\n    // Clear the scroll check interval\n    if (this.scrollCheckInterval) {\n      clearInterval(this.scrollCheckInterval);\n    }\n  },\n  methods: {\n    checkAndShowToast(successKey, messageKey) {\n      const isSuccess = localStorage.getItem(successKey);\n      if (isSuccess === 'true') {\n        // Show success toast\n        try {\n          if (this.$toast) {\n            this.$toast.success(localStorage.getItem(messageKey) || 'Operation completed successfully!', {\n              position: 'top-right',\n              duration: 3000\n            });\n          }\n        } catch (error) {\n          console.warn('Toast notification failed:', error);\n        }\n        // Clear the success message\n        localStorage.removeItem(successKey);\n        localStorage.removeItem(messageKey);\n      }\n    },\n    async checkPendingPayments() {\n      const pendingPayment = localStorage.getItem('pending_payment');\n      if (pendingPayment) {\n        try {\n          const paymentData = JSON.parse(pendingPayment);\n          console.log('=== CHECKING PENDING PAYMENT ===');\n          console.log('Payment data:', paymentData);\n\n          // 15 ‡∞®‡∞ø‡∞Æ‡∞ø‡∞∑‡∞æ‡∞≤ ‡∞≤‡±ã‡∞™‡∞≤ payment ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á\n          const timeDiff = Date.now() - paymentData.timestamp;\n          console.log('Time difference:', timeDiff, 'ms');\n          if (timeDiff < 15 * 60 * 1000) {\n            console.log('Payment is within time limit, proceeding with verification');\n\n            // Retry count check\n            if (paymentData.retry_count >= 10) {\n              console.log('Max retries reached, removing pending payment');\n              localStorage.removeItem('pending_payment');\n              return;\n            }\n            console.log('Attempting payment verification...');\n            // Backend ‡∞ï‡∞ø verify-payment API call ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø\n            const verifyResponse = await this.$axios.post('/users/verify-payment/', {\n              razorpay_payment_id: paymentData.payment_id,\n              razorpay_order_id: paymentData.order_id,\n              razorpay_signature: paymentData.signature,\n              plan_id: paymentData.plan_id,\n              phone: paymentData.phone || this.$store.getters.currentUser?.phone\n            });\n            console.log('Verification response:', verifyResponse.data);\n            if (verifyResponse.data.status === 'success') {\n              localStorage.removeItem('pending_payment');\n              this.$store.commit('setSubscription', verifyResponse.data.subscription);\n              this.$store.dispatch('showToast', {\n                message: 'Payment successful! Your subscription is now active.',\n                type: 'success'\n              });\n              console.log('Pending payment verified successfully');\n            } else {\n              console.log('Payment verification failed:', verifyResponse.data);\n              // Increment retry count\n              paymentData.retry_count = (paymentData.retry_count || 0) + 1;\n              localStorage.setItem('pending_payment', JSON.stringify(paymentData));\n              console.log('Updated retry count:', paymentData.retry_count);\n            }\n          } else {\n            // Payment ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞™‡∞æ‡∞§‡∞¶‡∞ø ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, localStorage ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞§‡±Ä‡∞∏‡±á‡∞Ø‡∞Ç‡∞°‡∞ø\n            localStorage.removeItem('pending_payment');\n            console.log('Pending payment expired, removed from localStorage');\n          }\n        } catch (error) {\n          console.error('Error checking pending payment:', error);\n          // Increment retry count on error\n          try {\n            const paymentData = JSON.parse(pendingPayment);\n            paymentData.retry_count = (paymentData.retry_count || 0) + 1;\n            localStorage.setItem('pending_payment', JSON.stringify(paymentData));\n            console.log('Error occurred, updated retry count:', paymentData.retry_count);\n          } catch (parseError) {\n            console.error('Error updating retry count:', parseError);\n          }\n        }\n      } else {\n        console.log('No pending payment found in localStorage');\n      }\n\n      // Also check subscription status directly\n      await this.checkSubscriptionStatus();\n    },\n    // Check and clean expired orders\n    checkAndCleanExpiredOrders() {\n      try {\n        const paymentOrder = localStorage.getItem('payment_order');\n        if (paymentOrder) {\n          const orderData = JSON.parse(paymentOrder);\n          const orderTime = orderData.created_at;\n          const currentTime = Date.now();\n          const timeDiff = currentTime - orderTime;\n\n          // If order is older than 30 minutes, remove it\n          if (timeDiff > 30 * 60 * 1000) {\n            // 30 minutes\n            localStorage.removeItem('payment_order');\n            console.log('Expired payment order removed from localStorage');\n          } else {\n            console.log('Valid payment order found, keeping it');\n          }\n        } else {\n          console.log('No payment order found in localStorage');\n        }\n      } catch (error) {\n        console.error('Error checking expired orders:', error);\n        // Remove corrupted data\n        localStorage.removeItem('payment_order');\n      }\n    },\n    async checkSubscriptionStatus() {\n      try {\n        const user = this.$store.getters.currentUser;\n        if (!user || !user.phone) {\n          console.log('No user found, skipping subscription check');\n          return;\n        }\n        console.log('=== CHECKING SUBSCRIPTION STATUS ===');\n        console.log('User phone:', user.phone);\n        const response = await this.$axios.get('/users/check-subscription-status/', {\n          params: {\n            phone: user.phone\n          }\n        });\n        console.log('Subscription status response:', response.data);\n        if (response.data.status === 'success') {\n          if (response.data.is_subscribed) {\n            console.log('User has active subscription:', response.data.subscription);\n            // Update store with subscription data\n            this.$store.commit('setSubscription', response.data.subscription);\n\n            // Clear any pending payments since subscription is active\n            localStorage.removeItem('pending_payment');\n            console.log('Cleared pending payment from localStorage');\n            this.$store.dispatch('showToast', {\n              message: 'Your subscription is active!',\n              type: 'success'\n            });\n          } else {\n            console.log('User has no active subscription');\n            // Check if there's a pending payment\n            const pendingPayment = localStorage.getItem('pending_payment');\n            if (pendingPayment) {\n              console.log('Found pending payment, will retry verification');\n            }\n          }\n        } else {\n          console.log('Subscription status check failed:', response.data);\n        }\n      } catch (error) {\n        console.error('Error checking subscription status:', error);\n        console.error('Error details:', error.response?.data);\n      }\n    },\n    async checkUserNotifications() {\n      try {\n        // Check if user is authenticated\n        const isAuthenticated = this.$store.getters.isAuthenticated;\n        const user = this.$store.getters.currentUser;\n        if (!isAuthenticated || !user || !user.phone) {\n          console.log('User not authenticated, skipping notification check');\n          return;\n        }\n        console.log('Checking notifications for user:', user.phone);\n        const response = await this.$axios.get(`/users/check-notifications/?phone=${user.phone}`);\n        if (response.data.status === 'success') {\n          // Check if user still exists in database\n          if (response.data.user_exists === false) {\n            console.log('User no longer exists in database, logging out');\n\n            // Complete logout process\n            this.performCompleteLogout('Your account has been deleted. You have been logged out.');\n            return;\n          }\n\n          // Check for notifications\n          if (response.data.has_notifications) {\n            console.log('Found notifications:', response.data.notifications);\n\n            // Check for account deletion notification\n            const accountDeletedNotification = response.data.notifications.find(notification => notification.type === 'account_deleted');\n            if (accountDeletedNotification) {\n              console.log('Account deletion notification found, logging out user');\n\n              // Complete logout process\n              this.performCompleteLogout('Your account has been deleted by admin. You have been logged out.');\n            }\n          } else {\n            console.log('No notifications found');\n          }\n        }\n      } catch (error) {\n        console.error('Error checking user notifications:', error);\n      }\n    },\n    performCompleteLogout(message) {\n      console.log('Performing complete logout');\n\n      // Clear all localStorage and sessionStorage\n      localStorage.clear();\n      sessionStorage.clear();\n\n      // Clear specific items to be sure\n      const itemsToRemove = ['user', 'isAuthenticated', 'token', 'subscription', 'csrfToken', 'pending_payment', 'registrationSuccess', 'registrationMessage', 'loginSuccess', 'loginMessage', 'hasCompletedRegistration', 'app_version'];\n      itemsToRemove.forEach(item => {\n        localStorage.removeItem(item);\n        sessionStorage.removeItem(item);\n      });\n\n      // Clear store\n      this.$store.commit('logout');\n\n      // Clear all cookies\n      document.cookie.split(\";\").forEach(function (c) {\n        document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\");\n      });\n\n      // Clear axios default headers\n      if (this.$axios && this.$axios.defaults) {\n        this.$axios.defaults.headers.common['Authorization'] = '';\n        this.$axios.defaults.headers.common['X-CSRFToken'] = '';\n      }\n\n      // Show notification\n      this.$store.dispatch('showToast', {\n        message: message || 'You have been logged out.',\n        type: 'error',\n        duration: 5000\n      });\n\n      // Redirect to login page\n      this.$router.push('/login');\n      console.log('Complete logout finished');\n    },\n    handlePopupAction() {\n      // Handle popup action - you can add custom logic here\n      console.log('Popup action handled');\n    },\n    // Ensure page scrolling is enabled\n    ensurePageScrollability() {\n      console.log('üîß Ensuring page scrollability...');\n\n      // Reset body styles\n      document.body.style.overflow = 'auto';\n      document.body.style.position = 'static';\n      document.body.style.height = 'auto';\n      document.body.style.width = 'auto';\n      document.body.style.transform = 'none';\n      document.body.style.willChange = 'auto';\n      document.body.style.touchAction = 'auto';\n      document.body.style.pointerEvents = 'auto';\n      document.body.style.userSelect = 'auto';\n      document.body.style.webkitUserSelect = 'auto';\n      document.body.style.webkitOverflowScrolling = 'touch';\n\n      // Reset html styles\n      document.documentElement.style.overflow = 'auto';\n      document.documentElement.style.height = 'auto';\n      document.documentElement.style.position = 'static';\n      document.documentElement.style.touchAction = 'auto';\n\n      // Remove any video-related classes\n      document.body.classList.remove('vjs-fullscreen', 'video-playing', 'no-scroll', 'force-scrollable');\n      document.documentElement.classList.remove('vjs-fullscreen', 'video-playing', 'no-scroll');\n\n      // Clear any inline styles that might block scroll\n      document.body.style.cssText = document.body.style.cssText.replace(/overflow:\\s*[^;]+;?/g, 'overflow: auto;');\n      document.documentElement.style.cssText = document.documentElement.style.cssText.replace(/overflow:\\s*[^;]+;?/g, 'overflow: auto;');\n\n      // Force a reflow to ensure styles are applied\n      void document.body.offsetHeight;\n      void document.documentElement.offsetHeight;\n\n      // Test scroll functionality\n      window.scrollTo(0, 1);\n      window.scrollTo(0, 0);\n      console.log('‚úÖ Page scrollability ensured');\n    }\n  }\n};","map":{"version":3,"names":["MobileNav","ToastNotification","PopupModal","name","data","scrollCheckInterval","components","computed","showMobileNav","hideOnRoutes","includes","$route","path","watch","$nextTick","ensurePageScrollability","mounted","console","log","isAuthenticated","$store","getters","user","currentUser","checkAndCleanExpiredOrders","checkAndShowToast","checkPendingPayments","checkUserNotifications","paymentCheckInterval","setInterval","subscriptionCheckInterval","checkSubscriptionStatus","window","addEventListener","document","body","style","overflow","beforeUnmount","clearInterval","removeEventListener","methods","successKey","messageKey","isSuccess","localStorage","getItem","$toast","success","position","duration","error","warn","removeItem","pendingPayment","paymentData","JSON","parse","timeDiff","Date","now","timestamp","retry_count","verifyResponse","$axios","post","razorpay_payment_id","payment_id","razorpay_order_id","order_id","razorpay_signature","signature","plan_id","phone","status","commit","subscription","dispatch","message","type","setItem","stringify","parseError","paymentOrder","orderData","orderTime","created_at","currentTime","response","get","params","is_subscribed","user_exists","performCompleteLogout","has_notifications","notifications","accountDeletedNotification","find","notification","clear","sessionStorage","itemsToRemove","forEach","item","cookie","split","c","replace","toUTCString","defaults","headers","common","$router","push","handlePopupAction","height","width","transform","willChange","touchAction","pointerEvents","userSelect","webkitUserSelect","webkitOverflowScrolling","documentElement","classList","remove","cssText","offsetHeight","scrollTo"],"sources":["/Users/saisudhakarmanchala/Documents/No1OTT/ott_frontend_mpd/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-[#121212] flex flex-col\">\n    <div class=\"flex-grow\">\n      <router-view></router-view>\n      <MobileNav v-if=\"showMobileNav\" />\n      <ToastNotification />\n      <PopupModal @popup-action=\"handlePopupAction\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport MobileNav from './components/MobileNav.vue'\nimport ToastNotification from '@/components/Toast.vue'\nimport PopupModal from '@/components/PopupModal.vue'\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      scrollCheckInterval: null\n    }\n  },\n  components: {\n    MobileNav,\n    ToastNotification,\n    PopupModal\n  },\n  computed: {\n    showMobileNav() {\n      const hideOnRoutes = ['/login', '/register', '/mini-register'];\n      return !hideOnRoutes.includes(this.$route.path);\n    }\n  },\n  watch: {\n    // Watch for route changes to ensure scroll is restored\n    '$route'() {\n      // Ensure scroll is enabled when route changes\n      this.$nextTick(() => {\n        this.ensurePageScrollability();\n      });\n    }\n  },\n  mounted() {\n    console.log('App mounted, checking authentication status');\n    \n    // Ensure page scrolling is enabled on app mount\n    this.ensurePageScrollability();\n    \n    // Check if user is authenticated\n    const isAuthenticated = this.$store.getters.isAuthenticated;\n    const user = this.$store.getters.currentUser;\n    \n    console.log('Authentication status:', { isAuthenticated, user: user ? 'exists' : 'null' });\n    \n    // Check and clean expired orders on page load\n    this.checkAndCleanExpiredOrders();\n    \n    // Only check notifications and payments if user is authenticated\n    if (isAuthenticated && user) {\n    // Check for success messages\n    this.checkAndShowToast('registrationSuccess', 'registrationMessage');\n    this.checkAndShowToast('loginSuccess', 'loginMessage');\n      // Check for pending payments on mount\n      this.checkPendingPayments();\n      // Check for user notifications (like account deletion)\n      this.checkUserNotifications();\n      \n      // Set up intervals for background checking\n      // Check pending payments every 30 seconds\n      this.paymentCheckInterval = setInterval(() => {\n        this.checkPendingPayments();\n      }, 30000);\n      \n      // Check subscription status every 2 minutes\n      this.subscriptionCheckInterval = setInterval(() => {\n        this.checkSubscriptionStatus();\n      }, 120000);\n      \n      // Listen for app resume/focus\n      window.addEventListener('focus', this.checkPendingPayments);\n      window.addEventListener('focus', this.checkUserNotifications);\n      window.addEventListener('focus', this.checkAndCleanExpiredOrders);\n    } else {\n      console.log('User not authenticated, skipping background checks');\n    }\n    \n    // Add global event listeners for scroll restoration\n    window.addEventListener('beforeunload', this.ensurePageScrollability);\n    window.addEventListener('pagehide', this.ensurePageScrollability);\n    \n    // Add periodic scroll check (every 5 seconds)\n    this.scrollCheckInterval = setInterval(() => {\n      if (document.body.style.overflow === 'hidden') {\n        console.log('‚ö†Ô∏è Scroll blocked detected, restoring...');\n        this.ensurePageScrollability();\n      }\n    }, 5000);\n  },\n  beforeUnmount() {\n    // Clear all intervals\n    if (this.paymentCheckInterval) {\n      clearInterval(this.paymentCheckInterval);\n    }\n    if (this.subscriptionCheckInterval) {\n      clearInterval(this.subscriptionCheckInterval);\n    }\n    \n    // Clear event listeners\n    window.removeEventListener('focus', this.checkPendingPayments);\n    window.removeEventListener('focus', this.checkUserNotifications);\n    window.removeEventListener('focus', this.checkAndCleanExpiredOrders);\n    window.removeEventListener('beforeunload', this.ensurePageScrollability);\n    window.removeEventListener('pagehide', this.ensurePageScrollability);\n    \n    // Clear the scroll check interval\n    if (this.scrollCheckInterval) {\n      clearInterval(this.scrollCheckInterval);\n    }\n  },\n  methods: {\n    checkAndShowToast(successKey, messageKey) {\n      const isSuccess = localStorage.getItem(successKey);\n      if (isSuccess === 'true') {\n        // Show success toast\n        try {\n          if (this.$toast) {\n            this.$toast.success(localStorage.getItem(messageKey) || 'Operation completed successfully!', {\n              position: 'top-right',\n              duration: 3000\n            });\n          }\n        } catch (error) {\n          console.warn('Toast notification failed:', error);\n        }\n        // Clear the success message\n        localStorage.removeItem(successKey);\n        localStorage.removeItem(messageKey);\n      }\n    },\n    async checkPendingPayments() {\n      const pendingPayment = localStorage.getItem('pending_payment');\n      if (pendingPayment) {\n        try {\n          const paymentData = JSON.parse(pendingPayment);\n          console.log('=== CHECKING PENDING PAYMENT ===');\n          console.log('Payment data:', paymentData);\n          \n          // 15 ‡∞®‡∞ø‡∞Æ‡∞ø‡∞∑‡∞æ‡∞≤ ‡∞≤‡±ã‡∞™‡∞≤ payment ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á\n          const timeDiff = Date.now() - paymentData.timestamp;\n          console.log('Time difference:', timeDiff, 'ms');\n          \n          if (timeDiff < 15 * 60 * 1000) {\n            console.log('Payment is within time limit, proceeding with verification');\n            \n            // Retry count check\n            if (paymentData.retry_count >= 10) {\n              console.log('Max retries reached, removing pending payment');\n              localStorage.removeItem('pending_payment');\n              return;\n            }\n            \n            console.log('Attempting payment verification...');\n            // Backend ‡∞ï‡∞ø verify-payment API call ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø\n            const verifyResponse = await this.$axios.post('/users/verify-payment/', {\n              razorpay_payment_id: paymentData.payment_id,\n              razorpay_order_id: paymentData.order_id,\n              razorpay_signature: paymentData.signature,\n              plan_id: paymentData.plan_id,\n              phone: paymentData.phone || this.$store.getters.currentUser?.phone\n            });\n            \n            console.log('Verification response:', verifyResponse.data);\n            \n            if (verifyResponse.data.status === 'success') {\n              localStorage.removeItem('pending_payment');\n              this.$store.commit('setSubscription', verifyResponse.data.subscription);\n              this.$store.dispatch('showToast', {\n                message: 'Payment successful! Your subscription is now active.',\n                type: 'success'\n              });\n              console.log('Pending payment verified successfully');\n            } else {\n              console.log('Payment verification failed:', verifyResponse.data);\n              // Increment retry count\n              paymentData.retry_count = (paymentData.retry_count || 0) + 1;\n              localStorage.setItem('pending_payment', JSON.stringify(paymentData));\n              console.log('Updated retry count:', paymentData.retry_count);\n            }\n          } else {\n            // Payment ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞™‡∞æ‡∞§‡∞¶‡∞ø ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, localStorage ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞§‡±Ä‡∞∏‡±á‡∞Ø‡∞Ç‡∞°‡∞ø\n            localStorage.removeItem('pending_payment');\n            console.log('Pending payment expired, removed from localStorage');\n          }\n        } catch (error) {\n          console.error('Error checking pending payment:', error);\n          // Increment retry count on error\n          try {\n            const paymentData = JSON.parse(pendingPayment);\n            paymentData.retry_count = (paymentData.retry_count || 0) + 1;\n            localStorage.setItem('pending_payment', JSON.stringify(paymentData));\n            console.log('Error occurred, updated retry count:', paymentData.retry_count);\n          } catch (parseError) {\n            console.error('Error updating retry count:', parseError);\n          }\n        }\n      } else {\n        console.log('No pending payment found in localStorage');\n      }\n      \n      // Also check subscription status directly\n      await this.checkSubscriptionStatus();\n    },\n    \n    // Check and clean expired orders\n    checkAndCleanExpiredOrders() {\n      try {\n        const paymentOrder = localStorage.getItem('payment_order');\n        if (paymentOrder) {\n          const orderData = JSON.parse(paymentOrder);\n          const orderTime = orderData.created_at;\n          const currentTime = Date.now();\n          const timeDiff = currentTime - orderTime;\n          \n          // If order is older than 30 minutes, remove it\n          if (timeDiff > 30 * 60 * 1000) { // 30 minutes\n            localStorage.removeItem('payment_order');\n            console.log('Expired payment order removed from localStorage');\n          } else {\n            console.log('Valid payment order found, keeping it');\n          }\n        } else {\n          console.log('No payment order found in localStorage');\n        }\n      } catch (error) {\n        console.error('Error checking expired orders:', error);\n        // Remove corrupted data\n        localStorage.removeItem('payment_order');\n      }\n    },\n    \n    async checkSubscriptionStatus() {\n      try {\n        const user = this.$store.getters.currentUser;\n        if (!user || !user.phone) {\n          console.log('No user found, skipping subscription check');\n          return;\n        }\n        \n        console.log('=== CHECKING SUBSCRIPTION STATUS ===');\n        console.log('User phone:', user.phone);\n        \n        const response = await this.$axios.get('/users/check-subscription-status/', {\n          params: { phone: user.phone }\n        });\n        \n        console.log('Subscription status response:', response.data);\n        \n        if (response.data.status === 'success') {\n          if (response.data.is_subscribed) {\n            console.log('User has active subscription:', response.data.subscription);\n            // Update store with subscription data\n            this.$store.commit('setSubscription', response.data.subscription);\n            \n            // Clear any pending payments since subscription is active\n            localStorage.removeItem('pending_payment');\n            console.log('Cleared pending payment from localStorage');\n            \n            this.$store.dispatch('showToast', {\n              message: 'Your subscription is active!',\n              type: 'success'\n            });\n          } else {\n            console.log('User has no active subscription');\n            // Check if there's a pending payment\n            const pendingPayment = localStorage.getItem('pending_payment');\n            if (pendingPayment) {\n              console.log('Found pending payment, will retry verification');\n            }\n          }\n        } else {\n          console.log('Subscription status check failed:', response.data);\n        }\n      } catch (error) {\n        console.error('Error checking subscription status:', error);\n        console.error('Error details:', error.response?.data);\n      }\n    },\n    async checkUserNotifications() {\n      try {\n        // Check if user is authenticated\n        const isAuthenticated = this.$store.getters.isAuthenticated;\n        const user = this.$store.getters.currentUser;\n        \n        if (!isAuthenticated || !user || !user.phone) {\n          console.log('User not authenticated, skipping notification check');\n          return;\n        }\n\n        console.log('Checking notifications for user:', user.phone);\n\n        const response = await this.$axios.get(`/users/check-notifications/?phone=${user.phone}`);\n        \n        if (response.data.status === 'success') {\n          // Check if user still exists in database\n          if (response.data.user_exists === false) {\n            console.log('User no longer exists in database, logging out');\n            \n            // Complete logout process\n            this.performCompleteLogout('Your account has been deleted. You have been logged out.');\n            return;\n          }\n\n          // Check for notifications\n          if (response.data.has_notifications) {\n            console.log('Found notifications:', response.data.notifications);\n            \n            // Check for account deletion notification\n            const accountDeletedNotification = response.data.notifications.find(\n              notification => notification.type === 'account_deleted'\n            );\n\n            if (accountDeletedNotification) {\n              console.log('Account deletion notification found, logging out user');\n              \n              // Complete logout process\n              this.performCompleteLogout('Your account has been deleted by admin. You have been logged out.');\n            }\n          } else {\n            console.log('No notifications found');\n          }\n        }\n      } catch (error) {\n        console.error('Error checking user notifications:', error);\n      }\n    },\n    performCompleteLogout(message) {\n      console.log('Performing complete logout');\n      \n      // Clear all localStorage and sessionStorage\n      localStorage.clear();\n      sessionStorage.clear();\n      \n      // Clear specific items to be sure\n      const itemsToRemove = [\n        'user', 'isAuthenticated', 'token', 'subscription', 'csrfToken',\n        'pending_payment', 'registrationSuccess', 'registrationMessage',\n        'loginSuccess', 'loginMessage', 'hasCompletedRegistration', 'app_version'\n      ];\n      \n      itemsToRemove.forEach(item => {\n        localStorage.removeItem(item);\n        sessionStorage.removeItem(item);\n      });\n      \n      // Clear store\n      this.$store.commit('logout');\n      \n      // Clear all cookies\n      document.cookie.split(\";\").forEach(function(c) { \n        document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); \n      });\n      \n      // Clear axios default headers\n      if (this.$axios && this.$axios.defaults) {\n        this.$axios.defaults.headers.common['Authorization'] = '';\n        this.$axios.defaults.headers.common['X-CSRFToken'] = '';\n      }\n      \n      // Show notification\n      this.$store.dispatch('showToast', {\n        message: message || 'You have been logged out.',\n        type: 'error',\n        duration: 5000\n      });\n\n      // Redirect to login page\n      this.$router.push('/login');\n      \n      console.log('Complete logout finished');\n    },\n    handlePopupAction() {\n      // Handle popup action - you can add custom logic here\n      console.log('Popup action handled');\n    },\n    \n    // Ensure page scrolling is enabled\n    ensurePageScrollability() {\n      console.log('üîß Ensuring page scrollability...');\n      \n      // Reset body styles\n      document.body.style.overflow = 'auto';\n      document.body.style.position = 'static';\n      document.body.style.height = 'auto';\n      document.body.style.width = 'auto';\n      document.body.style.transform = 'none';\n      document.body.style.willChange = 'auto';\n      document.body.style.touchAction = 'auto';\n      document.body.style.pointerEvents = 'auto';\n      document.body.style.userSelect = 'auto';\n      document.body.style.webkitUserSelect = 'auto';\n      document.body.style.webkitOverflowScrolling = 'touch';\n      \n      // Reset html styles\n      document.documentElement.style.overflow = 'auto';\n      document.documentElement.style.height = 'auto';\n      document.documentElement.style.position = 'static';\n      document.documentElement.style.touchAction = 'auto';\n      \n      // Remove any video-related classes\n      document.body.classList.remove('vjs-fullscreen', 'video-playing', 'no-scroll', 'force-scrollable');\n      document.documentElement.classList.remove('vjs-fullscreen', 'video-playing', 'no-scroll');\n      \n      // Clear any inline styles that might block scroll\n      document.body.style.cssText = document.body.style.cssText.replace(/overflow:\\s*[^;]+;?/g, 'overflow: auto;');\n      document.documentElement.style.cssText = document.documentElement.style.cssText.replace(/overflow:\\s*[^;]+;?/g, 'overflow: auto;');\n      \n      // Force a reflow to ensure styles are applied\n      void document.body.offsetHeight;\n      void document.documentElement.offsetHeight;\n      \n      // Test scroll functionality\n      window.scrollTo(0, 1);\n      window.scrollTo(0, 0);\n      \n      console.log('‚úÖ Page scrollability ensured');\n    }\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background: #121212;\n  color: white;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\nhtml {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n#app {\n  min-height: 100vh;\n  overflow-x: hidden;\n}\n\n/* Ensure scrolling works properly */\n.min-h-screen {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n/* Force scrollable class for emergency use */\n.force-scrollable {\n  overflow: auto !important;\n  position: static !important;\n  height: auto !important;\n  width: auto !important;\n  transform: none !important;\n  will-change: auto !important;\n  touch-action: auto !important;\n  pointer-events: auto !important;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}