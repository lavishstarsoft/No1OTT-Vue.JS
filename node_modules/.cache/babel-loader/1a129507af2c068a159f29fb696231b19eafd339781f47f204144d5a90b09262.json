{"ast":null,"code":"import { ref } from 'vue';\nimport { trackVideoView, trackVideoCompletion, formatViewCount } from '@/utils/videoTracking';\nimport AdvancedVideoPlayer from '@/components/AdvancedVideoPlayer.vue';\nexport default {\n  name: 'TestVideoTracking',\n  components: {\n    AdvancedVideoPlayer\n  },\n  setup() {\n    const trackingResult = ref(null);\n    const completionResult = ref(null);\n    const showPlayer = ref(false);\n\n    // Test video data\n    const testVideoId = 1;\n    const testVideoUrl = 'https://noonenews.s3.ap-south-1.amazonaws.com/videos/hls/7/hls/master.m3u8';\n    const testVideoTitle = 'Test Video for Tracking';\n    const formatViews = views => {\n      return formatViewCount(views);\n    };\n    const testTracking = async () => {\n      try {\n        const result = await trackVideoView(testVideoId, {\n          watchDuration: 30,\n          isCompleted: false\n        });\n        trackingResult.value = result ? 'Success' : 'No response';\n        console.log('Tracking result:', result);\n      } catch (error) {\n        trackingResult.value = `Error: ${error.message}`;\n        console.error('Tracking error:', error);\n      }\n    };\n    const testCompletion = async () => {\n      try {\n        const result = await trackVideoCompletion(testVideoId);\n        completionResult.value = result ? 'Success' : 'No response';\n        console.log('Completion result:', result);\n      } catch (error) {\n        completionResult.value = `Error: ${error.message}`;\n        console.error('Completion error:', error);\n      }\n    };\n    const testAll = async () => {\n      await testTracking();\n      await testCompletion();\n    };\n    const togglePlayer = () => {\n      showPlayer.value = !showPlayer.value;\n    };\n    return {\n      trackingResult,\n      completionResult,\n      showPlayer,\n      testVideoId,\n      testVideoUrl,\n      testVideoTitle,\n      formatViews,\n      testTracking,\n      testCompletion,\n      testAll,\n      togglePlayer\n    };\n  }\n};","map":{"version":3,"names":["ref","trackVideoView","trackVideoCompletion","formatViewCount","AdvancedVideoPlayer","name","components","setup","trackingResult","completionResult","showPlayer","testVideoId","testVideoUrl","testVideoTitle","formatViews","views","testTracking","result","watchDuration","isCompleted","value","console","log","error","message","testCompletion","testAll","togglePlayer"],"sources":["F:\\ott_tv\\ott_frontend\\src\\views\\TestVideoTracking.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-[#121212] text-white p-6\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <h1 class=\"text-3xl font-bold mb-6\">Video Tracking Test</h1>\r\n      \r\n      <div class=\"bg-white/10 rounded-lg p-6 mb-6\">\r\n        <h2 class=\"text-xl font-bold mb-4\">Test Video Tracking Functions</h2>\r\n        \r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <div class=\"bg-white/5 p-4 rounded\">\r\n            <h3 class=\"font-bold mb-2\">Format View Count</h3>\r\n            <div class=\"space-y-2\">\r\n              <div>1500 views: {{ formatViews(1500) }}</div>\r\n              <div>1500000 views: {{ formatViews(1500000) }}</div>\r\n              <div>500 views: {{ formatViews(500) }}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white/5 p-4 rounded\">\r\n            <h3 class=\"font-bold mb-2\">Tracking Status</h3>\r\n            <div class=\"space-y-2\">\r\n              <div>Tracking Result: {{ trackingResult || 'Not tested yet' }}</div>\r\n              <div>Completion Result: {{ completionResult || 'Not tested yet' }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"flex flex-wrap gap-4\">\r\n          <button \r\n            @click=\"testTracking\"\r\n            class=\"bg-[#e50914] hover:bg-[#f40612] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Test View Tracking\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"testCompletion\"\r\n            class=\"bg-[#0071eb] hover:bg-[#0066d4] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Test Completion Tracking\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"testAll\"\r\n            class=\"bg-[#00b849] hover:bg-[#00a041] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Test All Functions\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"bg-white/10 rounded-lg p-6\">\r\n        <h2 class=\"text-xl font-bold mb-4\">Test Video Player</h2>\r\n        <p class=\"mb-4\">Use the video player below to test automatic view tracking:</p>\r\n        \r\n        <AdvancedVideoPlayer\r\n          v-if=\"showPlayer\"\r\n          :src=\"testVideoUrl\"\r\n          :title=\"testVideoTitle\"\r\n          :video-id=\"testVideoId\"\r\n          :autoplay=\"false\"\r\n        />\r\n        \r\n        <button \r\n          @click=\"togglePlayer\"\r\n          class=\"mt-4 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded transition-colors\"\r\n        >\r\n          {{ showPlayer ? 'Hide Player' : 'Show Player' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { trackVideoView, trackVideoCompletion, formatViewCount } from '@/utils/videoTracking';\r\nimport AdvancedVideoPlayer from '@/components/AdvancedVideoPlayer.vue';\r\n\r\nexport default {\r\n  name: 'TestVideoTracking',\r\n  components: {\r\n    AdvancedVideoPlayer\r\n  },\r\n  setup() {\r\n    const trackingResult = ref(null);\r\n    const completionResult = ref(null);\r\n    const showPlayer = ref(false);\r\n    \r\n    // Test video data\r\n    const testVideoId = 1;\r\n    const testVideoUrl = 'https://noonenews.s3.ap-south-1.amazonaws.com/videos/hls/7/hls/master.m3u8';\r\n    const testVideoTitle = 'Test Video for Tracking';\r\n    \r\n    const formatViews = (views) => {\r\n      return formatViewCount(views);\r\n    };\r\n    \r\n    const testTracking = async () => {\r\n      try {\r\n        const result = await trackVideoView(testVideoId, { \r\n          watchDuration: 30, \r\n          isCompleted: false \r\n        });\r\n        trackingResult.value = result ? 'Success' : 'No response';\r\n        console.log('Tracking result:', result);\r\n      } catch (error) {\r\n        trackingResult.value = `Error: ${error.message}`;\r\n        console.error('Tracking error:', error);\r\n      }\r\n    };\r\n    \r\n    const testCompletion = async () => {\r\n      try {\r\n        const result = await trackVideoCompletion(testVideoId);\r\n        completionResult.value = result ? 'Success' : 'No response';\r\n        console.log('Completion result:', result);\r\n      } catch (error) {\r\n        completionResult.value = `Error: ${error.message}`;\r\n        console.error('Completion error:', error);\r\n      }\r\n    };\r\n    \r\n    const testAll = async () => {\r\n      await testTracking();\r\n      await testCompletion();\r\n    };\r\n    \r\n    const togglePlayer = () => {\r\n      showPlayer.value = !showPlayer.value;\r\n    };\r\n    \r\n    return {\r\n      trackingResult,\r\n      completionResult,\r\n      showPlayer,\r\n      testVideoId,\r\n      testVideoUrl,\r\n      testVideoTitle,\r\n      formatViews,\r\n      testTracking,\r\n      testCompletion,\r\n      testAll,\r\n      togglePlayer\r\n    };\r\n  }\r\n};\r\n</script>"],"mappings":"AA2EA,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,cAAc,EAAEC,oBAAoB,EAAEC,eAAc,QAAS,uBAAuB;AAC7F,OAAOC,mBAAkB,MAAO,sCAAsC;AAEtE,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,MAAMC,cAAa,GAAIR,GAAG,CAAC,IAAI,CAAC;IAChC,MAAMS,gBAAe,GAAIT,GAAG,CAAC,IAAI,CAAC;IAClC,MAAMU,UAAS,GAAIV,GAAG,CAAC,KAAK,CAAC;;IAE7B;IACA,MAAMW,WAAU,GAAI,CAAC;IACrB,MAAMC,YAAW,GAAI,4EAA4E;IACjG,MAAMC,cAAa,GAAI,yBAAyB;IAEhD,MAAMC,WAAU,GAAKC,KAAK,IAAK;MAC7B,OAAOZ,eAAe,CAACY,KAAK,CAAC;IAC/B,CAAC;IAED,MAAMC,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,MAAK,GAAI,MAAMhB,cAAc,CAACU,WAAW,EAAE;UAC/CO,aAAa,EAAE,EAAE;UACjBC,WAAW,EAAE;QACf,CAAC,CAAC;QACFX,cAAc,CAACY,KAAI,GAAIH,MAAK,GAAI,SAAQ,GAAI,aAAa;QACzDI,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEL,MAAM,CAAC;MACzC,EAAE,OAAOM,KAAK,EAAE;QACdf,cAAc,CAACY,KAAI,GAAI,UAAUG,KAAK,CAACC,OAAO,EAAE;QAChDH,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACzC;IACF,CAAC;IAED,MAAME,cAAa,GAAI,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMR,MAAK,GAAI,MAAMf,oBAAoB,CAACS,WAAW,CAAC;QACtDF,gBAAgB,CAACW,KAAI,GAAIH,MAAK,GAAI,SAAQ,GAAI,aAAa;QAC3DI,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEL,MAAM,CAAC;MAC3C,EAAE,OAAOM,KAAK,EAAE;QACdd,gBAAgB,CAACW,KAAI,GAAI,UAAUG,KAAK,CAACC,OAAO,EAAE;QAClDH,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MAC3C;IACF,CAAC;IAED,MAAMG,OAAM,GAAI,MAAAA,CAAA,KAAY;MAC1B,MAAMV,YAAY,CAAC,CAAC;MACpB,MAAMS,cAAc,CAAC,CAAC;IACxB,CAAC;IAED,MAAME,YAAW,GAAIA,CAAA,KAAM;MACzBjB,UAAU,CAACU,KAAI,GAAI,CAACV,UAAU,CAACU,KAAK;IACtC,CAAC;IAED,OAAO;MACLZ,cAAc;MACdC,gBAAgB;MAChBC,UAAU;MACVC,WAAW;MACXC,YAAY;MACZC,cAAc;MACdC,WAAW;MACXE,YAAY;MACZS,cAAc;MACdC,OAAO;MACPC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}