{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vShow as _vShow, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createCommentVNode as _createCommentVNode, withKeys as _withKeys } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-8\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center justify-between mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"text-lg font-medium gradient-text\"\n};\nconst _hoisted_4 = {\n  class: \"relative\"\n};\nconst _hoisted_5 = [\"onClick\", \"onKeydown\"];\nconst _hoisted_6 = {\n  class: \"w-[256px] aspect-[16/9] bg-gray-800 rounded-lg overflow-hidden relative category-inner\"\n};\nconst _hoisted_7 = [\"src\", \"alt\"];\nconst _hoisted_8 = {\n  class: \"absolute top-2 left-2 flex gap-2\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\",\n  style: {\n    \"background\": \"rgba(195, 0, 89, 0.8)\",\n    \"border\": \"1px solid rgba(255, 255, 255, 0.2)\"\n  }\n};\nconst _hoisted_10 = {\n  class: \"absolute inset-0 bg-gradient-to-t from-black via-black/75 to-transparent transition-opacity flex items-end justify-center pb-4 opacity-0 group-hover:opacity-100\"\n};\nconst _hoisted_11 = {\n  class: \"text-center w-full px-4 py-2\"\n};\nconst _hoisted_12 = {\n  class: \"text-white text-lg font-bold mb-1 drop-shadow-lg capitalize\"\n};\nconst _hoisted_13 = {\n  class: \"text-white/80 text-xs font-medium drop-shadow-lg line-clamp-2\"\n};\nconst _hoisted_14 = {\n  class: \"mt-2 text-center\"\n};\nconst _hoisted_15 = {\n  class: \"text-white text-sm font-medium truncate px-2 transition-colors duration-200\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _directive_spatial_nav = _resolveDirective(\"spatial-nav\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h2\", _hoisted_3, _toDisplayString($props.title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_4, [_withDirectives((_openBlock(), _createElementBlock(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.scroll('left')),\n    class: \"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70 nav-button\",\n    tabindex: \"0\"\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-left\"\n  }, null, -1 /* HOISTED */)]))), [[_vShow, $setup.canScrollLeft], [_directive_spatial_nav]]), _createElementVNode(\"div\", {\n    ref: \"containerRef\",\n    class: \"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth\",\n    onScroll: _cache[2] || (_cache[2] = (...args) => $setup.checkScroll && $setup.checkScroll(...args))\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, category => {\n    return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n      key: category.id,\n      class: \"flex-shrink-0 relative group cursor-pointer category-card\",\n      onClick: $event => $setup.selectCategory(category),\n      onKeydown: _withKeys($event => $setup.selectCategory(category), [\"enter\"]),\n      tabindex: \"0\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n      src: category.image || '/images/placeholder.png',\n      alt: category.name,\n      class: \"w-full h-full object-cover transition-transform duration-300\",\n      onError: _cache[1] || (_cache[1] = (...args) => $setup.handleImageError && $setup.handleImageError(...args))\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_7), _createCommentVNode(\" Category badges \"), _createElementVNode(\"div\", _hoisted_8, [category.is_premium ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, [...(_cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n      class: \"fas fa-crown text-yellow-400\"\n    }, null, -1 /* HOISTED */)]))])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Hover/Focus overlay with gradient \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", _hoisted_12, _toDisplayString(category.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_13, _toDisplayString(category.description), 1 /* TEXT */)])])]), _createCommentVNode(\" Category title below image \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h3\", _hoisted_15, _toDisplayString(category.name), 1 /* TEXT */)])], 40 /* PROPS, NEED_HYDRATION */, _hoisted_5)), [[_directive_spatial_nav]]);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.scroll('right')),\n    class: \"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70 nav-button\",\n    tabindex: \"0\"\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-right\"\n  }, null, -1 /* HOISTED */)]))), [[_vShow, $setup.canScrollRight], [_directive_spatial_nav]])])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$props","title","_hoisted_4","onClick","_cache","$event","$setup","scroll","tabindex","canScrollLeft","ref","onScroll","args","checkScroll","_Fragment","_renderList","categories","category","key","id","selectCategory","onKeydown","_withKeys","_hoisted_6","src","image","alt","name","onError","handleImageError","_createCommentVNode","_hoisted_8","is_premium","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","description","_hoisted_14","_hoisted_15","canScrollRight"],"sources":["D:\\OTT\\ott_frontend\\src\\components\\AllCategoriesSection.vue"],"sourcesContent":["<template>\n  <section class=\"mb-8\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <h2 class=\"text-lg font-medium gradient-text\">{{ title }}</h2>\n    </div>\n    \n    <div class=\"relative\">\n      <button \n        @click=\"scroll('left')\" \n        class=\"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70 nav-button\"\n        v-show=\"canScrollLeft\"\n        v-spatial-nav\n        tabindex=\"0\"\n      >\n        <i class=\"fas fa-chevron-left\"></i>\n      </button>\n      \n      <div \n        ref=\"containerRef\"\n        class=\"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth\"\n        @scroll=\"checkScroll\"\n      >\n        <div \n          v-for=\"category in categories\" \n          :key=\"category.id\"\n          class=\"flex-shrink-0 relative group cursor-pointer category-card\"\n          @click=\"selectCategory(category)\"\n          @keydown.enter=\"selectCategory(category)\"\n          v-spatial-nav\n          tabindex=\"0\"\n        >\n          <div \n            class=\"w-[256px] aspect-[16/9] bg-gray-800 rounded-lg overflow-hidden relative category-inner\"\n          >\n            <img \n              :src=\"category.image || '/images/placeholder.png'\" \n              :alt=\"category.name\"\n              class=\"w-full h-full object-cover transition-transform duration-300\"\n              @error=\"handleImageError\"\n            >\n            \n            <!-- Category badges -->\n            <div class=\"absolute top-2 left-2 flex gap-2\">\n              <span v-if=\"category.is_premium\" class=\"flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\" style=\"background: rgba(195, 0, 89, 0.8); border: 1px solid rgba(255, 255, 255, 0.2);\">\n                <i class=\"fas fa-crown text-yellow-400\"></i>\n              </span>\n            </div>\n            \n            <!-- Hover/Focus overlay with gradient -->\n            <div \n              class=\"absolute inset-0 bg-gradient-to-t from-black via-black/75 to-transparent transition-opacity flex items-end justify-center pb-4 opacity-0 group-hover:opacity-100\"\n            >\n              <div class=\"text-center w-full px-4 py-2\">\n                <h3 class=\"text-white text-lg font-bold mb-1 drop-shadow-lg capitalize\">{{ category.name }}</h3>\n                <p class=\"text-white/80 text-xs font-medium drop-shadow-lg line-clamp-2\">{{ category.description }}</p>\n              </div>\n            </div>\n          </div>\n          <!-- Category title below image -->\n          <div class=\"mt-2 text-center\">\n            <h3 \n              class=\"text-white text-sm font-medium truncate px-2 transition-colors duration-200\"\n            >\n              {{ category.name }}\n            </h3>\n          </div>\n        </div>\n      </div>\n      \n      <button \n        @click=\"scroll('right')\" \n        class=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70 nav-button\"\n        v-show=\"canScrollRight\"\n        v-spatial-nav\n        tabindex=\"0\"\n      >\n        <i class=\"fas fa-chevron-right\"></i>\n      </button>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst API_BASE_URL = 'http://192.168.0.128:8001'\nconst DEFAULT_IMAGE = '/images/placeholder.png'\n\nexport default {\n  name: 'AllCategoriesSection',\n  props: {\n    title: {\n      type: String,\n      default: 'Browse By Categories'\n    }\n  },\n  setup() {\n    const router = useRouter()\n    const categories = ref([])\n    const containerRef = ref(null)\n    const canScrollLeft = ref(false)\n    const canScrollRight = ref(true)\n\n    const handleImageError = (event) => {\n      event.target.src = DEFAULT_IMAGE\n      event.target.removeEventListener('error', handleImageError)\n    }\n\n    const capitalizeText = (text) => {\n      if (!text) return '';\n      // Split by spaces and special characters\n      return text.split(/[\\s-]+/).map(word => {\n        // Don't change case for special words\n        const specialWords = ['HD', 'UHD', '4K', 'TV', 'II', 'III', 'IV', 'SPY'];\n        if (specialWords.includes(word.toUpperCase())) {\n          return word.toUpperCase();\n        }\n        // Don't change case for articles and conjunctions in middle of title\n        const minorWords = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'in', 'to', 'on', 'at', 'by', 'of'];\n        if (minorWords.includes(word.toLowerCase())) {\n          return word.toLowerCase();\n        }\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n      }).join(' ');\n    }\n\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(`/api/categories/active/`)\n        categories.value = response.data\n          .filter(category => ![19].includes(category.id)) // Hide LIVE CHANNELS and HOT SEAT WITH MSR\n          .map(category => ({\n            ...category,\n            name: capitalizeText(category.name),\n            description: capitalizeText(category.description),\n            image: category.image ? \n              (category.image.startsWith('http') ? category.image : `${API_BASE_URL}${category.image}`)\n              : DEFAULT_IMAGE\n          }))\n      } catch (error) {\n        console.error('Error fetching categories:', error)\n        categories.value = []\n      }\n    }\n\n    const scroll = (direction) => {\n      if (!containerRef.value) return\n      const scrollAmount = 300\n      containerRef.value.scrollLeft += direction === 'left' ? -scrollAmount : scrollAmount\n    }\n\n    const checkScroll = () => {\n      if (!containerRef.value) return\n      canScrollLeft.value = containerRef.value.scrollLeft > 0\n      canScrollRight.value = containerRef.value.scrollLeft < (containerRef.value.scrollWidth - containerRef.value.clientWidth)\n    }\n\n    const selectCategory = (category) => {\n      router.push({\n        name: 'CategoryVideos',\n        params: { id: category.id }\n      })\n    }\n\n    onMounted(() => {\n      fetchCategories()\n    })\n\n    return {\n      categories,\n      containerRef,\n      canScrollLeft,\n      canScrollRight,\n      scroll,\n      checkScroll,\n      selectCategory,\n      handleImageError\n    }\n  }\n}\n</script>\n\n<style scoped>\n.scrollbar-hide {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;\n}\n\n.category-card {\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.category-card:focus {\n  outline: none;\n}\n\n.category-card.is-focused {\n  z-index: 10;\n}\n\n.category-card.is-focused .category-inner {\n  transform: scale(1.05);\n  box-shadow: 0 0 0 4px #007bff, 0 0 20px rgba(0, 123, 255, 0.5);\n  border-radius: 8px;\n}\n\n.category-card.is-focused .category-inner::after {\n  content: '';\n  position: absolute;\n  inset: -2px;\n  border: 2px solid #4da3ff;\n  border-radius: 10px;\n  animation: pulse 2s infinite;\n}\n\n/* Hide hover effects on mobile */\n@media (max-width: 768px) {\n  .group-hover\\:opacity-100 {\n    opacity: 0 !important;\n  }\n  \n  /* Always show category title below image on mobile */\n  .category-card .text-sm {\n    opacity: 1 !important;\n    color: white !important;\n  }\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(0, 123, 255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);\n  }\n}\n\n.nav-button.spatial-nav-focus {\n  background-color: rgba(0, 0, 0, 0.8);\n  box-shadow: 0 0 0 3px #007bff, 0 0 15px rgba(0, 123, 255, 0.5);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}