{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { watchlistAPI } from '@/utils/api';\nexport default {\n  name: 'WatchList',\n  data() {\n    return {\n      watchlistItems: [],\n      loading: true,\n      error: null\n    };\n  },\n  async created() {\n    await this.fetchWatchlist();\n  },\n  methods: {\n    async fetchWatchlist() {\n      try {\n        this.loading = true;\n        const response = await watchlistAPI.getList();\n        this.watchlistItems = response.data;\n        this.loading = false;\n      } catch (error) {\n        console.error('Error fetching watchlist:', error);\n        this.error = 'Failed to load watchlist. Please try again later.';\n        this.loading = false;\n      }\n    },\n    async removeFromWatchlist(videoId) {\n      try {\n        await watchlistAPI.toggle(videoId);\n        // Refresh watchlist after removal\n        await this.fetchWatchlist();\n      } catch (error) {\n        console.error('Error removing from watchlist:', error);\n        this.$store.dispatch('showToast', {\n          message: 'Failed to remove from watchlist. Please try again.',\n          type: 'error'\n        });\n      }\n    },\n    navigateToVideo(videoId) {\n      this.$router.push(`/movie/${videoId}`);\n    },\n    getYear(dateString) {\n      return dateString ? new Date(dateString).getFullYear() : '';\n    },\n    formatDuration(seconds) {\n      if (!seconds) return '';\n      const hours = Math.floor(seconds / 3600);\n      const minutes = Math.floor(seconds % 3600 / 60);\n      if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n      }\n      return `${minutes}m`;\n    }\n  }\n};","map":{"version":3,"names":["watchlistAPI","name","data","watchlistItems","loading","error","created","fetchWatchlist","methods","response","getList","console","removeFromWatchlist","videoId","toggle","$store","dispatch","message","type","navigateToVideo","$router","push","getYear","dateString","Date","getFullYear","formatDuration","seconds","hours","Math","floor","minutes"],"sources":["D:\\OTT\\ott_frontend\\ott_frontend\\src\\views\\WatchList.vue"],"sourcesContent":["<template>\n  <div class=\"watchlist-container\">\n    <h1 class=\"watchlist-title\">My Watchlist</h1>\n    \n    <div v-if=\"loading\" class=\"loading-state\">\n      <i class=\"fas fa-spinner fa-spin\"></i>\n      Loading your watchlist...\n    </div>\n    \n    <div v-else-if=\"error\" class=\"error-state\">\n      <i class=\"fas fa-exclamation-circle\"></i>\n      {{ error }}\n    </div>\n    \n    <div v-else-if=\"watchlistItems.length === 0\" class=\"empty-state\">\n      <i class=\"fas fa-bookmark\"></i>\n      <p>Your watchlist is empty</p>\n      <router-link to=\"/\" class=\"browse-link\">Browse Videos</router-link>\n    </div>\n    \n    <div v-else class=\"watchlist-grid\">\n      <div v-for=\"item in watchlistItems\" :key=\"item.id\" class=\"watchlist-item\">\n        <div class=\"video-card\">\n          <div class=\"thumbnail-container\" @click=\"navigateToVideo(item.content_details.id)\">\n            <img :src=\"item.content_details.thumbnail_url\" :alt=\"item.content_details.title\">\n            <div class=\"overlay\">\n              <button class=\"play-button\">\n                <i class=\"fas fa-play\"></i>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"video-info\">\n            <h3 class=\"video-title\">{{ item.content_details.title }}</h3>\n            <div class=\"video-meta\">\n              <span>{{ getYear(item.content_details.release_date) }}</span>\n              <span class=\"dot\">â€¢</span>\n              <span>{{ formatDuration(item.content_details.duration) }}</span>\n            </div>\n            \n            <div class=\"action-buttons\">\n              <button class=\"watch-now\" @click=\"navigateToVideo(item.content_details.id)\">\n                <i class=\"fas fa-play\"></i>\n                Watch Now\n              </button>\n              <button class=\"remove-button\" @click=\"removeFromWatchlist(item.content)\">\n                <i class=\"fas fa-trash\"></i>\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { watchlistAPI } from '@/utils/api';\n\nexport default {\n  name: 'WatchList',\n  data() {\n    return {\n      watchlistItems: [],\n      loading: true,\n      error: null\n    }\n  },\n  async created() {\n    await this.fetchWatchlist();\n  },\n  methods: {\n    async fetchWatchlist() {\n      try {\n        this.loading = true;\n        const response = await watchlistAPI.getList();\n        this.watchlistItems = response.data;\n        this.loading = false;\n      } catch (error) {\n        console.error('Error fetching watchlist:', error);\n        this.error = 'Failed to load watchlist. Please try again later.';\n        this.loading = false;\n      }\n    },\n    async removeFromWatchlist(videoId) {\n      try {\n        await watchlistAPI.toggle(videoId);\n        // Refresh watchlist after removal\n        await this.fetchWatchlist();\n      } catch (error) {\n        console.error('Error removing from watchlist:', error);\n        this.$store.dispatch('showToast', {\n          message: 'Failed to remove from watchlist. Please try again.',\n          type: 'error'\n        });\n      }\n    },\n    navigateToVideo(videoId) {\n      this.$router.push(`/movie/${videoId}`);\n    },\n    getYear(dateString) {\n      return dateString ? new Date(dateString).getFullYear() : '';\n    },\n    formatDuration(seconds) {\n      if (!seconds) return '';\n      const hours = Math.floor(seconds / 3600);\n      const minutes = Math.floor((seconds % 3600) / 60);\n      if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n      }\n      return `${minutes}m`;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.watchlist-container {\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.watchlist-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 2rem;\n  color: #fff;\n}\n\n.loading-state,\n.error-state,\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  color: #fff;\n  text-align: center;\n}\n\n.loading-state i,\n.error-state i,\n.empty-state i {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  color: #ff0077;\n}\n\n.browse-link {\n  margin-top: 1rem;\n  padding: 0.75rem 1.5rem;\n  background: #ff0077;\n  color: white;\n  border-radius: 8px;\n  text-decoration: none;\n  transition: all 0.3s ease;\n}\n\n.browse-link:hover {\n  transform: scale(1.05);\n  background: #d10063;\n}\n\n.watchlist-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 2rem;\n}\n\n.video-card {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  overflow: hidden;\n  transition: transform 0.3s ease;\n}\n\n.video-card:hover {\n  transform: translateY(-5px);\n}\n\n.thumbnail-container {\n  position: relative;\n  aspect-ratio: 16/9;\n  cursor: pointer;\n}\n\n.thumbnail-container img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.overlay {\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.thumbnail-container:hover .overlay {\n  opacity: 1;\n}\n\n.play-button {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #ff0077;\n  border: none;\n  color: white;\n  font-size: 1.2rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.play-button:hover {\n  transform: scale(1.1);\n  background: #d10063;\n}\n\n.video-info {\n  padding: 1rem;\n}\n\n.video-title {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #fff;\n  margin-bottom: 0.5rem;\n}\n\n.video-meta {\n  font-size: 0.9rem;\n  color: rgba(255, 255, 255, 0.7);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.dot {\n  font-size: 0.5rem;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 0.75rem;\n}\n\n.watch-now,\n.remove-button {\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  border: none;\n  font-size: 0.9rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.3s ease;\n}\n\n.watch-now {\n  background: #ff0077;\n  color: white;\n  flex: 2;\n}\n\n.watch-now:hover {\n  background: #d10063;\n}\n\n.remove-button {\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  flex: 1;\n}\n\n.remove-button:hover {\n  background: rgba(255, 0, 0, 0.2);\n}\n\n@media (max-width: 768px) {\n  .watchlist-container {\n    padding: 1rem;\n  }\n  \n  .watchlist-grid {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 1rem;\n  }\n  \n  .action-buttons {\n    flex-direction: column;\n  }\n  \n  .watch-now,\n  .remove-button {\n    width: 100%;\n    justify-content: center;\n  }\n}\n</style> "],"mappings":";AA0DA,SAASA,YAAW,QAAS,aAAa;AAE1C,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,EAAE;MAClBC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE;IACT;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;EAC7B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,IAAI,CAACH,OAAM,GAAI,IAAI;QACnB,MAAMK,QAAO,GAAI,MAAMT,YAAY,CAACU,OAAO,CAAC,CAAC;QAC7C,IAAI,CAACP,cAAa,GAAIM,QAAQ,CAACP,IAAI;QACnC,IAAI,CAACE,OAAM,GAAI,KAAK;MACtB,EAAE,OAAOC,KAAK,EAAE;QACdM,OAAO,CAACN,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,IAAI,CAACA,KAAI,GAAI,mDAAmD;QAChE,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF,CAAC;IACD,MAAMQ,mBAAmBA,CAACC,OAAO,EAAE;MACjC,IAAI;QACF,MAAMb,YAAY,CAACc,MAAM,CAACD,OAAO,CAAC;QAClC;QACA,MAAM,IAAI,CAACN,cAAc,CAAC,CAAC;MAC7B,EAAE,OAAOF,KAAK,EAAE;QACdM,OAAO,CAACN,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACtD,IAAI,CAACU,MAAM,CAACC,QAAQ,CAAC,WAAW,EAAE;UAChCC,OAAO,EAAE,oDAAoD;UAC7DC,IAAI,EAAE;QACR,CAAC,CAAC;MACJ;IACF,CAAC;IACDC,eAAeA,CAACN,OAAO,EAAE;MACvB,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC,UAAUR,OAAO,EAAE,CAAC;IACxC,CAAC;IACDS,OAAOA,CAACC,UAAU,EAAE;MAClB,OAAOA,UAAS,GAAI,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,WAAW,CAAC,IAAI,EAAE;IAC7D,CAAC;IACDC,cAAcA,CAACC,OAAO,EAAE;MACtB,IAAI,CAACA,OAAO,EAAE,OAAO,EAAE;MACvB,MAAMC,KAAI,GAAIC,IAAI,CAACC,KAAK,CAACH,OAAM,GAAI,IAAI,CAAC;MACxC,MAAMI,OAAM,GAAIF,IAAI,CAACC,KAAK,CAAEH,OAAM,GAAI,IAAI,GAAI,EAAE,CAAC;MACjD,IAAIC,KAAI,GAAI,CAAC,EAAE;QACb,OAAO,GAAGA,KAAK,KAAKG,OAAO,GAAG;MAChC;MACA,OAAO,GAAGA,OAAO,GAAG;IACtB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}