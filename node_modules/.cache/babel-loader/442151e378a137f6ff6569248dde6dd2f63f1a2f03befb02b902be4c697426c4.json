{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"banner-ad\"\n};\nconst _hoisted_2 = [\"src\", \"alt\"];\nconst _hoisted_3 = {\n  class: \"banner-overlay\"\n};\nconst _hoisted_4 = {\n  class: \"banner-content\"\n};\nconst _hoisted_5 = {\n  class: \"banner-title\"\n};\nconst _hoisted_6 = {\n  class: \"banner-description\"\n};\nconst _hoisted_7 = {\n  class: \"banner-cta\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.currentAd ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"banner-container\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.onAdClick && $options.onAdClick(...args))\n  }, [_createElementVNode(\"img\", {\n    src: $data.currentAd.banner_image,\n    alt: $data.currentAd.title,\n    class: \"banner-image\"\n  }, null, 8, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h3\", _hoisted_5, _toDisplayString($data.currentAd.title), 1), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($data.currentAd.description), 1), _createElementVNode(\"button\", _hoisted_7, _toDisplayString($data.currentAd.call_to_action || 'Learn More'), 1)]), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n    class: \"banner-badge\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-ad\"\n  }), _createTextVNode(\" Ad \")], -1))])])])) : _createCommentVNode(\"\", true);\n}","map":{"version":3,"names":["class","$data","currentAd","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","args","$options","onAdClick","src","banner_image","alt","title","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","description","_hoisted_7","call_to_action"],"sources":["D:\\OTT\\ott_frontend\\src\\components\\BannerAd.vue"],"sourcesContent":["<template>\r\n  <div class=\"banner-ad\" v-if=\"currentAd\">\r\n    <div class=\"banner-container\" @click=\"onAdClick\">\r\n      <img \r\n        :src=\"currentAd.banner_image\" \r\n        :alt=\"currentAd.title\"\r\n        class=\"banner-image\"\r\n      />\r\n      <div class=\"banner-overlay\">\r\n        <div class=\"banner-content\">\r\n          <h3 class=\"banner-title\">{{ currentAd.title }}</h3>\r\n          <p class=\"banner-description\">{{ currentAd.description }}</p>\r\n          <button class=\"banner-cta\">\r\n            {{ currentAd.call_to_action || 'Learn More' }}\r\n          </button>\r\n        </div>\r\n        <div class=\"banner-badge\">\r\n          <i class=\"fas fa-ad\"></i>\r\n          Ad\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/utils/api'\r\n\r\nexport default {\r\n  name: 'BannerAd',\r\n  props: {\r\n    position: {\r\n      type: String,\r\n      default: 'top'\r\n    },\r\n    userId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentAd: null,\r\n      ads: [],\r\n      currentIndex: 0,\r\n      rotationInterval: null\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.loadBannerAds()\r\n    this.startRotation()\r\n  },\r\n  beforeUnmount() {\r\n    if (this.rotationInterval) {\r\n      clearInterval(this.rotationInterval)\r\n    }\r\n  },\r\n  methods: {\r\n    async loadBannerAds() {\r\n      try {\r\n        const response = await api.get('/api/ads/banner/')\r\n        this.ads = response.data.filter(ad => ad.is_active_now)\r\n        \r\n        if (this.ads.length > 0) {\r\n          this.currentAd = this.ads[0]\r\n          this.trackImpression()\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading banner ads:', error)\r\n      }\r\n    },\r\n\r\n    startRotation() {\r\n      if (this.ads.length > 1) {\r\n        this.rotationInterval = setInterval(() => {\r\n          this.rotateAd()\r\n        }, 10000) // Rotate every 10 seconds\r\n      }\r\n    },\r\n\r\n    rotateAd() {\r\n      this.currentIndex = (this.currentIndex + 1) % this.ads.length\r\n      this.currentAd = this.ads[this.currentIndex]\r\n      this.trackImpression()\r\n    },\r\n\r\n    async onAdClick() {\r\n      if (this.currentAd && this.currentAd.external_url) {\r\n        await this.trackClick()\r\n        window.open(this.currentAd.external_url, '_blank')\r\n      }\r\n    },\r\n\r\n    async trackImpression() {\r\n      if (this.currentAd) {\r\n        try {\r\n          await api.post(`/api/advertisements/${this.currentAd.id}/track_impression/`, {\r\n            user_id: this.userId,\r\n            impression_type: 'banner'\r\n          })\r\n        } catch (error) {\r\n          console.error('Error tracking banner impression:', error)\r\n        }\r\n      }\r\n    },\r\n\r\n    async trackClick() {\r\n      if (this.currentAd) {\r\n        try {\r\n          await api.post(`/api/advertisements/${this.currentAd.id}/track_click/`, {\r\n            user_id: this.userId\r\n          })\r\n        } catch (error) {\r\n          console.error('Error tracking banner click:', error)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.banner-ad {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n}\r\n\r\n.banner-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 120px;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.banner-container:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.banner-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.banner-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(0, 0, 0, 0.7) 0%,\r\n    rgba(0, 0, 0, 0.3) 50%,\r\n    rgba(0, 0, 0, 0.7) 100%\r\n  );\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20px;\r\n}\r\n\r\n.banner-content {\r\n  flex: 1;\r\n  color: white;\r\n}\r\n\r\n.banner-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-bottom: 8px;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.banner-description {\r\n  font-size: 14px;\r\n  margin-bottom: 12px;\r\n  opacity: 0.9;\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.banner-cta {\r\n  background: linear-gradient(135deg, #ff6b35, #f7931e);\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.banner-cta:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.banner-badge {\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  background: rgba(255, 107, 53, 0.9);\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .banner-container {\r\n    height: 100px;\r\n  }\r\n  \r\n  .banner-overlay {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .banner-title {\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .banner-description {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .banner-cta {\r\n    padding: 6px 12px;\r\n    font-size: 12px;\r\n  }\r\n}\r\n</style> "],"mappings":";;;EACOA,KAAK,EAAC;;;;EAOFA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAgB;;EACrBA,KAAK,EAAC;AAAc;;EACrBA,KAAK,EAAC;AAAoB;;EACrBA,KAAK,EAAC;AAAY;;SAXLC,KAAA,CAAAC,SAAS,I,cAAtCC,mBAAA,CAqBM,OArBNC,UAqBM,GApBJC,mBAAA,CAmBM;IAnBDL,KAAK,EAAC,kBAAkB;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;MAC7CH,mBAAA,CAIE;IAHCM,GAAG,EAAEV,KAAA,CAAAC,SAAS,CAACU,YAAY;IAC3BC,GAAG,EAAEZ,KAAA,CAAAC,SAAS,CAACY,KAAK;IACrBd,KAAK,EAAC;2BAERK,mBAAA,CAYM,OAZNU,UAYM,GAXJV,mBAAA,CAMM,OANNW,UAMM,GALJX,mBAAA,CAAmD,MAAnDY,UAAmD,EAAAC,gBAAA,CAAvBjB,KAAA,CAAAC,SAAS,CAACY,KAAK,OAC3CT,mBAAA,CAA6D,KAA7Dc,UAA6D,EAAAD,gBAAA,CAA5BjB,KAAA,CAAAC,SAAS,CAACkB,WAAW,OACtDf,mBAAA,CAES,UAFTgB,UAES,EAAAH,gBAAA,CADJjB,KAAA,CAAAC,SAAS,CAACoB,cAAc,sB,6BAG/BjB,mBAAA,CAGM;IAHDL,KAAK,EAAC;EAAc,IACvBK,mBAAA,CAAyB;IAAtBL,KAAK,EAAC;EAAW,I,iBAAK,MAE3B,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}