{"ast":null,"code":"import { useScreenOrientation } from '@vueuse/core';\nexport default {\n  name: 'LiveTVPlayer',\n  props: {\n    isOpen: {\n      type: Boolean,\n      required: true\n    },\n    videoUrl: {\n      type: String,\n      required: true\n    },\n    videoTitle: {\n      type: String,\n      required: true\n    },\n    isDirectVideo: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      isPlaying: true,\n      isFullScreen: false,\n      orientationLock: null,\n      showControls: true,\n      controlsTimeout: null,\n      progressPercentage: 0,\n      duration: 0,\n      currentTime: 0,\n      volumeLevel: 100,\n      isMuted: false,\n      previousVolume: 100,\n      isQualityMenuOpen: false,\n      currentQuality: 'Auto',\n      supportsPiP: false,\n      isControlsLocked: false,\n      showBigPlayButton: false,\n      bigPlayButtonTimeout: null,\n      isLoading: true,\n      previewPosition: 0,\n      previewTime: 0,\n      hasCaptions: false\n    };\n  },\n  computed: {\n    youtubeEmbedUrl() {\n      // Extract video ID from YouTube URL\n      const videoId = this.extractVideoId(this.videoUrl);\n      // Add parameters to completely hide controls and disable all YouTube UI elements\n      return `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&rel=0&controls=0&disablekb=1&fs=0&modestbranding=1&showinfo=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}&widget_referrer=${window.location.origin}&color=white&loop=1&wmode=transparent&vq=hd1080&cc_load_policy=3`;\n    },\n    volumeIcon() {\n      if (this.isMuted || this.volumeLevel === 0) {\n        return 'fas fa-volume-mute';\n      } else if (this.volumeLevel < 50) {\n        return 'fas fa-volume-down';\n      } else {\n        return 'fas fa-volume-up';\n      }\n    },\n    formattedCurrentTime() {\n      return this.formatTime(this.currentTime);\n    },\n    formattedDuration() {\n      return this.formatTime(this.duration);\n    }\n  },\n  watch: {\n    isOpen(newVal) {\n      if (newVal) {\n        document.addEventListener('keydown', this.handleKeyboardShortcuts);\n        this.checkPiPSupport();\n        // Set loading to true initially\n        this.isLoading = true;\n        // Simulate loading completion after 2s (would be based on actual video loading in a real app)\n        setTimeout(() => {\n          this.isLoading = false;\n          // Ensure video is playing\n          this.ensureVideoIsPlaying();\n        }, 2000);\n      } else {\n        document.removeEventListener('keydown', this.handleKeyboardShortcuts);\n      }\n    }\n  },\n  mounted() {\n    const {\n      lockOrientation,\n      unlockOrientation\n    } = useScreenOrientation();\n    this.orientationLock = {\n      lockOrientation,\n      unlockOrientation\n    };\n\n    // Load saved volume if available\n    try {\n      const savedVolume = localStorage.getItem('player-volume');\n      if (savedVolume !== null) {\n        this.volumeLevel = parseInt(savedVolume, 10);\n      }\n    } catch (e) {\n      // Ignore storage errors\n    }\n    if (this.isOpen) {\n      document.addEventListener('keydown', this.handleKeyboardShortcuts);\n      this.checkPiPSupport();\n      // Simulate loading completion after 2s\n      setTimeout(() => {\n        this.isLoading = false;\n        // Ensure video is playing\n        this.ensureVideoIsPlaying();\n      }, 2000);\n    }\n\n    // Auto-hide controls after 3 seconds\n    this.resetControlsTimeout();\n  },\n  methods: {\n    extractVideoId(url) {\n      const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n      const match = url.match(regExp);\n      return match && match[7].length === 11 ? match[7] : '';\n    },\n    async close() {\n      // Exit fullscreen first if we're in fullscreen mode\n      if (document.fullscreenElement) {\n        try {\n          await this.toggleFullscreen();\n          // Only after fullscreen exit is complete, navigate away\n          this.$emit('close');\n        } catch (error) {\n          console.error('Error during cleanup:', error);\n          // Still allow navigation even if there was an error\n          this.$emit('close');\n        }\n      } else {\n        // If not in fullscreen, just navigate away\n        this.$emit('close');\n      }\n    },\n    togglePlayPause() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef;\n        if (video) {\n          if (video.paused) {\n            video.play();\n          } else {\n            video.pause();\n          }\n          this.isPlaying = !video.paused;\n        }\n      } else {\n        const iframe = this.$refs.youtubePlayer;\n        if (iframe) {\n          const command = this.isPlaying ? 'pauseVideo' : 'playVideo';\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: command\n          }), '*');\n          this.isPlaying = !this.isPlaying;\n        }\n      }\n\n      // Show the big play/pause button\n      this.showBigPlayButton = true;\n      clearTimeout(this.bigPlayButtonTimeout);\n      this.bigPlayButtonTimeout = setTimeout(() => {\n        this.showBigPlayButton = false;\n      }, 800);\n    },\n    toggleCaptions() {\n      this.hasCaptions = !this.hasCaptions;\n      // This would actually toggle captions in a real implementation\n    },\n    handleMouseMove() {\n      if (this.isControlsLocked) return;\n      this.showControls = true;\n      this.resetControlsTimeout();\n    },\n    handleMouseLeave() {\n      if (this.isControlsLocked) return;\n      clearTimeout(this.controlsTimeout);\n      this.controlsTimeout = setTimeout(() => {\n        this.showControls = false;\n        this.previewPosition = 0; // Hide preview on mouse leave\n      }, 1000);\n    },\n    resetControlsTimeout() {\n      if (this.isControlsLocked) return;\n      clearTimeout(this.controlsTimeout);\n      this.controlsTimeout = setTimeout(() => {\n        this.showControls = false;\n        this.previewPosition = 0; // Hide preview when controls hide\n      }, 3000);\n    },\n    toggleControlsLock() {\n      this.isControlsLocked = !this.isControlsLocked;\n    },\n    updateProgress() {\n      if (!this.isDirectVideo) return;\n      const video = this.$refs.videoRef;\n      if (video) {\n        this.currentTime = video.currentTime;\n        this.duration = video.duration;\n        this.progressPercentage = video.currentTime / video.duration * 100 || 0;\n      }\n    },\n    showProgressPreview(e) {\n      if (!this.isDirectVideo) return;\n      const container = this.$refs.progressContainer;\n      if (!container) return;\n      const rect = container.getBoundingClientRect();\n      const position = (e.clientX - rect.left) / rect.width * 100;\n      this.previewPosition = position;\n      if (this.duration) {\n        this.previewTime = position / 100 * this.duration;\n      }\n    },\n    seekToPosition(e) {\n      if (!this.isDirectVideo) return;\n      const container = this.$refs.progressContainer;\n      if (!container) return;\n      const rect = container.getBoundingClientRect();\n      const position = (e.clientX - rect.left) / rect.width;\n      const video = this.$refs.videoRef;\n      if (video && !isNaN(video.duration)) {\n        video.currentTime = position * video.duration;\n      }\n\n      // Hide preview after seeking\n      this.previewPosition = 0;\n    },\n    formatTime(seconds) {\n      if (isNaN(seconds) || !isFinite(seconds)) return '0:00';\n      const minutes = Math.floor(seconds / 60);\n      const hours = Math.floor(minutes / 60);\n      const remainingMinutes = minutes % 60;\n      const remainingSeconds = Math.floor(seconds % 60);\n      if (hours > 0) {\n        return `${hours}:${remainingMinutes < 10 ? '0' : ''}${remainingMinutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;\n      }\n      return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;\n    },\n    toggleMute() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef;\n        if (video) {\n          if (this.isMuted) {\n            video.volume = this.previousVolume / 100;\n            this.volumeLevel = this.previousVolume;\n          } else {\n            this.previousVolume = this.volumeLevel;\n            video.volume = 0;\n            this.volumeLevel = 0;\n          }\n          this.isMuted = !this.isMuted;\n        }\n      } else {\n        // YouTube mute/unmute\n        const iframe = this.$refs.youtubePlayer;\n        if (iframe) {\n          const command = this.isMuted ? 'unMute' : 'mute';\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: command\n          }), '*');\n          this.isMuted = !this.isMuted;\n        }\n      }\n    },\n    updateVolume() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef;\n        if (video) {\n          video.volume = this.volumeLevel / 100;\n          video.muted = this.volumeLevel === 0;\n          this.isMuted = this.volumeLevel === 0;\n        }\n      } else {\n        // YouTube volume control\n        const iframe = this.$refs.youtubePlayer;\n        if (iframe) {\n          // Ensure the volume value is between 0-100\n          const volume = Math.max(0, Math.min(100, this.volumeLevel));\n          try {\n            // First unmute if muted and volume > 0\n            if (this.isMuted && volume > 0) {\n              iframe.contentWindow.postMessage(JSON.stringify({\n                event: 'command',\n                func: 'unMute'\n              }), '*');\n              this.isMuted = false;\n            }\n\n            // Set volume (YouTube API expects 0-100)\n            iframe.contentWindow.postMessage(JSON.stringify({\n              event: 'command',\n              func: 'setVolume',\n              args: [volume]\n            }), '*');\n\n            // Set mute state if volume is 0\n            if (volume === 0 && !this.isMuted) {\n              iframe.contentWindow.postMessage(JSON.stringify({\n                event: 'command',\n                func: 'mute'\n              }), '*');\n              this.isMuted = true;\n            }\n          } catch (err) {\n            console.error('Error updating YouTube volume:', err);\n          }\n        }\n      }\n\n      // Save volume to localStorage for persistence\n      try {\n        localStorage.setItem('player-volume', this.volumeLevel.toString());\n      } catch (e) {\n        // Ignore storage errors\n      }\n    },\n    onVolumeChange() {\n      if (!this.isDirectVideo) return;\n      const video = this.$refs.videoRef;\n      if (video) {\n        this.volumeLevel = video.volume * 100;\n        this.isMuted = video.muted;\n      }\n    },\n    onVideoLoaded() {\n      if (!this.isDirectVideo) return;\n      const video = this.$refs.videoRef;\n      if (video) {\n        this.duration = video.duration;\n        this.isLoading = false;\n      }\n    },\n    onVideoEnded() {\n      this.isPlaying = false;\n    },\n    async enterFullscreen() {\n      const element = this.$refs.playerContainer;\n      if (!element) return;\n      if (!document.fullscreenElement) {\n        try {\n          await element.requestFullscreen();\n          this.isFullScreen = true;\n          try {\n            await this.orientationLock.lockOrientation('landscape');\n          } catch (err) {\n            console.warn('Orientation lock failed:', err);\n          }\n        } catch (err) {\n          console.error(`Error attempting to enable full-screen mode: ${err.message}`);\n        }\n      } else {\n        document.exitFullscreen();\n        this.isFullScreen = false;\n        try {\n          this.orientationLock.unlockOrientation();\n        } catch (err) {\n          console.warn('Failed to unlock orientation:', err);\n        }\n      }\n    },\n    checkPiPSupport() {\n      if (this.isDirectVideo) {\n        this.supportsPiP = document.pictureInPictureEnabled || this.$refs.videoRef && 'requestPictureInPicture' in HTMLVideoElement.prototype;\n      } else {\n        this.supportsPiP = false; // YouTube iframe doesn't support native PiP\n      }\n    },\n    async togglePictureInPicture() {\n      if (!this.isDirectVideo || !this.supportsPiP) return;\n      try {\n        if (document.pictureInPictureElement) {\n          await document.exitPictureInPicture();\n        } else {\n          const video = this.$refs.videoRef;\n          if (video) {\n            await video.requestPictureInPicture();\n          }\n        }\n      } catch (err) {\n        console.error('PiP failed:', err);\n      }\n    },\n    setQuality(quality) {\n      this.currentQuality = quality;\n      this.isQualityMenuOpen = false;\n      if (this.isDirectVideo) {\n        // Implementation would depend on your video source\n        console.log(`Setting quality to ${quality}`);\n      } else {\n        // YouTube quality (not fully supported via iframe API)\n        const iframe = this.$refs.youtubePlayer;\n        if (iframe) {\n          let qualityLevel;\n          switch (quality) {\n            case '1080p':\n              qualityLevel = 'hd1080';\n              break;\n            case '720p':\n              qualityLevel = 'hd720';\n              break;\n            case '480p':\n              qualityLevel = 'large';\n              break;\n            case '360p':\n              qualityLevel = 'medium';\n              break;\n            default:\n              qualityLevel = 'default';\n          }\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: 'setPlaybackQuality',\n            args: [qualityLevel]\n          }), '*');\n        }\n      }\n    },\n    handleKeyboardShortcuts(e) {\n      // Only process shortcuts when player is open\n      if (!this.isOpen) return;\n      switch (e.key.toLowerCase()) {\n        case ' ':\n        case 'k':\n          e.preventDefault();\n          this.togglePlayPause();\n          break;\n        case 'f':\n          e.preventDefault();\n          this.enterFullscreen();\n          break;\n        case 'm':\n          e.preventDefault();\n          this.toggleMute();\n          break;\n        case 'c':\n          e.preventDefault();\n          this.toggleCaptions();\n          break;\n        case 'arrowright':\n          if (this.isDirectVideo) {\n            e.preventDefault();\n            const video = this.$refs.videoRef;\n            if (video) video.currentTime += 10;\n          }\n          break;\n        case 'arrowleft':\n          if (this.isDirectVideo) {\n            e.preventDefault();\n            const video = this.$refs.videoRef;\n            if (video) video.currentTime -= 10;\n          }\n          break;\n        case 'arrowup':\n          e.preventDefault();\n          this.volumeLevel = Math.min(100, this.volumeLevel + 5);\n          this.updateVolume();\n          break;\n        case 'arrowdown':\n          e.preventDefault();\n          this.volumeLevel = Math.max(0, this.volumeLevel - 5);\n          this.updateVolume();\n          break;\n        case 'escape':\n          if (document.fullscreenElement) {\n            e.preventDefault();\n            document.exitFullscreen();\n          } else if (this.isQualityMenuOpen) {\n            e.preventDefault();\n            this.isQualityMenuOpen = false;\n          }\n          break;\n      }\n    },\n    ensureVideoIsPlaying() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef;\n        if (video) {\n          // Force play with user interaction workaround\n          video.muted = true; // Browsers allow muted autoplay\n          const playPromise = video.play();\n          if (playPromise !== undefined) {\n            playPromise.then(() => {\n              // Autoplay started successfully\n              this.isPlaying = true;\n              // After 1 second, unmute if volume is not zero\n              setTimeout(() => {\n                if (this.volumeLevel > 0 && !this.isMuted) {\n                  video.muted = false;\n                }\n              }, 1000);\n            }).catch(error => {\n              console.error('Autoplay failed:', error);\n            });\n          }\n        }\n      } else {\n        // For YouTube, send play command\n        const iframe = this.$refs.youtubePlayer;\n        if (iframe) {\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: 'playVideo'\n          }), '*');\n          this.isPlaying = true;\n        }\n      }\n    },\n    async toggleFullscreen() {\n      const container = this.$refs.playerContainer;\n      if (!container) return;\n      try {\n        if (!document.fullscreenElement) {\n          await container.requestFullscreen();\n        } else {\n          // Add a small delay before navigation after exiting fullscreen\n          await document.exitFullscreen();\n          // Wait for the fullscreen exit to complete\n          return new Promise(resolve => {\n            const onFullscreenChange = () => {\n              document.removeEventListener('fullscreenchange', onFullscreenChange);\n              setTimeout(resolve, 100); // Small delay to ensure completion\n            };\n            document.addEventListener('fullscreenchange', onFullscreenChange);\n          });\n        }\n      } catch (error) {\n        console.error('Fullscreen error:', error);\n      }\n    }\n  },\n  beforeUnmount() {\n    document.removeEventListener('keydown', this.handleKeyboardShortcuts);\n    clearTimeout(this.controlsTimeout);\n    clearTimeout(this.bigPlayButtonTimeout);\n    if (document.fullscreenElement) {\n      document.exitFullscreen().catch(err => {\n        console.warn('Error exiting fullscreen:', err);\n      });\n    }\n    if (document.pictureInPictureElement) {\n      document.exitPictureInPicture().catch(err => {\n        console.warn('Error exiting PiP:', err);\n      });\n    }\n    try {\n      this.orientationLock.unlockOrientation();\n    } catch (err) {\n      console.warn('Failed to unlock orientation:', err);\n    }\n  }\n};","map":{"version":3,"names":["useScreenOrientation","name","props","isOpen","type","Boolean","required","videoUrl","String","videoTitle","isDirectVideo","default","data","isPlaying","isFullScreen","orientationLock","showControls","controlsTimeout","progressPercentage","duration","currentTime","volumeLevel","isMuted","previousVolume","isQualityMenuOpen","currentQuality","supportsPiP","isControlsLocked","showBigPlayButton","bigPlayButtonTimeout","isLoading","previewPosition","previewTime","hasCaptions","computed","youtubeEmbedUrl","videoId","extractVideoId","window","location","origin","volumeIcon","formattedCurrentTime","formatTime","formattedDuration","watch","newVal","document","addEventListener","handleKeyboardShortcuts","checkPiPSupport","setTimeout","ensureVideoIsPlaying","removeEventListener","mounted","lockOrientation","unlockOrientation","savedVolume","localStorage","getItem","parseInt","e","resetControlsTimeout","methods","url","regExp","match","length","close","fullscreenElement","toggleFullscreen","$emit","error","console","togglePlayPause","video","$refs","videoRef","paused","play","pause","iframe","youtubePlayer","command","contentWindow","postMessage","JSON","stringify","event","func","clearTimeout","toggleCaptions","handleMouseMove","handleMouseLeave","toggleControlsLock","updateProgress","showProgressPreview","container","progressContainer","rect","getBoundingClientRect","position","clientX","left","width","seekToPosition","isNaN","seconds","isFinite","minutes","Math","floor","hours","remainingMinutes","remainingSeconds","toggleMute","volume","updateVolume","muted","max","min","args","err","setItem","toString","onVolumeChange","onVideoLoaded","onVideoEnded","enterFullscreen","element","playerContainer","requestFullscreen","warn","message","exitFullscreen","pictureInPictureEnabled","HTMLVideoElement","prototype","togglePictureInPicture","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","setQuality","quality","log","qualityLevel","key","toLowerCase","preventDefault","playPromise","undefined","then","catch","Promise","resolve","onFullscreenChange","beforeUnmount"],"sources":["F:\\ott_tv\\ott\\ott_frontend\\src\\components\\LiveTVPlayer.vue"],"sourcesContent":["<template>\n  <div v-if=\"isOpen\" class=\"fixed inset-0 z-[2000] bg-black flex items-center justify-center player-root\">\n    <!-- Video Container -->\n    <div \n      ref=\"playerContainer\"\n      class=\"relative w-full h-full max-h-screen overflow-hidden player-container\"\n      @mousemove=\"handleMouseMove\"\n      @mouseleave=\"handleMouseLeave\"\n    >\n      <!-- Video Elements -->\n      <video\n        v-if=\"isDirectVideo\"\n        ref=\"videoRef\"\n        class=\"w-full h-full object-contain\"\n        :src=\"videoUrl\"\n        preload=\"auto\"\n        autoplay\n        muted\n        @timeupdate=\"updateProgress\"\n        @loadedmetadata=\"onVideoLoaded\"\n        @ended=\"onVideoEnded\"\n        @play=\"isPlaying = true\"\n        @pause=\"isPlaying = false\"\n        @volumechange=\"onVolumeChange\"\n      ></video>\n      \n      <iframe\n        v-else\n        ref=\"youtubePlayer\"\n        :src=\"youtubeEmbedUrl\"\n        class=\"w-full h-full\"\n        frameborder=\"0\"\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n        allowfullscreen\n      ></iframe>\n\n      <!-- Transparent overlay to prevent YouTube controls -->\n      <div \n        v-if=\"!isDirectVideo\" \n        class=\"absolute inset-0 z-10\"\n      ></div>\n\n      <!-- Additional overlay to hide YouTube logo/branding when paused -->\n      <div \n        v-if=\"!isDirectVideo && !isPlaying\" \n        class=\"absolute inset-0 z-20 bg-black/80 flex items-center justify-center\"\n      >\n        <div \n          class=\"w-20 h-20 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-full cursor-pointer\"\n          @click=\"togglePlayPause\"\n        >\n          <i class=\"fas fa-play text-white text-3xl pl-1\"></i>\n        </div>\n      </div>\n\n      <!-- Loading Overlay -->\n      <div v-if=\"isLoading\" class=\"absolute inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div class=\"w-20 h-20 relative\">\n          <div class=\"absolute inset-0 rounded-full border-4 border-white/20\"></div>\n          <div class=\"absolute inset-0 rounded-full border-4 border-t-[#c30059] border-r-transparent border-b-transparent border-l-transparent animate-spin\"></div>\n          <div class=\"absolute inset-0 flex items-center justify-center\">\n            <img src=\"@/assets/ott.jpg\" alt=\"Logo\" class=\"h-10 w-10 rounded-full object-cover\">\n          </div>\n        </div>\n      </div>\n\n      <!-- Big Play/Pause Button (shows momentarily when toggling) -->\n      <div \n        v-if=\"showBigPlayButton\"\n        class=\"absolute inset-0 flex items-center justify-center z-40 bg-black/10\"\n      >\n        <div class=\"w-20 h-20 flex items-center justify-center bg-black/40 backdrop-blur-md rounded-full\">\n          <i :class=\"isPlaying ? 'fas fa-pause' : 'fas fa-play'\" class=\"text-white text-3xl pl-1\"></i>\n        </div>\n      </div>\n\n      <!-- Top Chrome Bar -->\n      <div \n        class=\"absolute top-0 left-0 right-0 pt-4 pb-16 z-30 bg-gradient-to-b from-black/90 via-black/50 to-transparent transition-opacity duration-300\"\n        :class=\"{'opacity-0': !showControls && !isControlsLocked, 'opacity-100': showControls || isControlsLocked}\"\n      >\n        <div class=\"px-2 flex items-center justify-between\">\n          <!-- Back Button -->\n          <button \n            @click.stop=\"close\"\n            class=\"flex items-center group\"\n          >\n            <div class=\"w-10 h-10 flex items-center justify-center bg-black/40 backdrop-blur-md rounded-full mr-3 group-hover:bg-[#c30059]/80 transition-all\">\n              <i class=\"fas fa-arrow-left text-white/90 text-3xl\"></i>\n            </div> \n            </button>\n\n          <!-- Title and Info -->\n          <div class=\"flex-1 flex flex-col items-center md:items-start mx-4\">\n            <h1 class=\"text-white font-bold text-xl md:text-2xl tracking-wide\">{{ videoTitle }}</h1>\n            <div class=\"flex items-center mt-1\">\n              \n            </div>\n          </div>\n          \n          <!-- Top Right Actions -->\n          <div class=\"flex items-center gap-2\">\n            <button \n              @click.stop=\"toggleCaptions\"\n              class=\"w-10 h-10 flex items-center justify-center bg-black/40 backdrop-blur-md rounded-full hover:bg-white/20 transition-all\"\n              :class=\"{'bg-[#c30059]/80': hasCaptions}\"\n            >\n              <i class=\"fas fa-closed-captioning text-white/90 text-lg\"></i>\n            </button>\n            <button \n              v-if=\"supportsPiP\"\n              @click.stop=\"togglePictureInPicture\"\n              class=\"w-10 h-10 flex items-center justify-center bg-black/40 backdrop-blur-md rounded-full hover:bg-white/20 transition-all\"\n            >\n              <i class=\"fas fa-external-link-alt text-white/90 text-lg\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Bottom Controls -->\n      <div \n        class=\"absolute left-0 right-0 bottom-0 z-30 transition-opacity duration-300 pb-6 pt-20 bg-gradient-to-t from-black/90 via-black/60 to-transparent\"\n        :class=\"{'opacity-0': !showControls && !isControlsLocked, 'opacity-100': showControls || isControlsLocked}\"\n      >\n        <!-- Progress Bar -->\n        <div class=\"relative px-8 pb-4\">\n          <div \n            ref=\"progressContainer\" \n            class=\"h-1.5 bg-white/30 rounded-full cursor-pointer group/progress overflow-hidden hover:h-2.5 transition-all duration-150\"\n            @click=\"seekToPosition\"\n            @mousemove=\"showProgressPreview\"\n          >\n            <div \n              class=\"h-full bg-[#c30059] rounded-full relative\"\n              :style=\"{ width: `${progressPercentage}%` }\"\n            >\n              <!-- Progress Knob - only visible on hover -->\n              <div class=\"absolute right-0 top-1/2 -translate-y-1/2 w-4 h-4 bg-[#c30059] border-2 border-white rounded-full transform scale-0 opacity-0 group-hover/progress:scale-100 group-hover/progress:opacity-100 transition-all duration-150\"></div>\n            </div>\n          </div>\n          \n          <!-- Preview thumbnail on hover (would be implemented with actual thumbnails in a real OTT platform) -->\n          <div \n            v-if=\"previewPosition > 0\" \n            class=\"absolute bottom-8 transform -translate-x-1/2 bg-black/90 rounded overflow-hidden shadow-lg\"\n            :style=\"{ left: `${previewPosition}%` }\"\n          >\n            <div class=\"w-32 h-20 bg-[#1a1a1a] flex items-center justify-center\">\n              <i class=\"fas fa-tv text-[#c30059] text-2xl\"></i>\n            </div>\n            <div class=\"px-2 py-1 text-center text-xs text-white\">{{ formatTime(previewTime) }}</div>\n          </div>\n        </div>\n\n        <!-- Main Controls -->\n        <div class=\"px-8 flex items-center justify-between\">\n          <!-- Left Controls -->\n          <div class=\"flex items-center gap-6\">\n            <!-- Play/Pause Button -->\n            <button \n              @click.stop=\"togglePlayPause\"\n              class=\"group cursor-pointer\"\n            >\n              <div class=\"w-12 h-12 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors\">\n                <i :class=\"isPlaying ? 'fas fa-pause' : 'fas fa-play'\" class=\"text-white text-2xl group-hover:text-[#c30059] transition-colors\"></i>\n              </div>\n            </button>\n\n            <!-- Volume Control -->\n            <div class=\"hidden md:flex items-center group/volume\">\n              <button \n                @click.stop=\"toggleMute\"\n                class=\"group\"\n              >\n                <div class=\"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors\">\n                  <i :class=\"volumeIcon\" class=\"text-white text-xl group-hover:text-[#c30059] transition-colors\"></i>\n                </div>\n              </button>\n              \n              <!-- Volume Slider -->\n              <div class=\"w-0 overflow-hidden group-hover/volume:w-24 transition-all duration-200 h-10 flex items-center\">\n                <input \n                  type=\"range\" \n                  min=\"0\" \n                  max=\"100\" \n                  v-model=\"volumeLevel\" \n                  @input=\"updateVolume\"\n                  class=\"ml-2 w-full h-1 bg-white/30 rounded-full appearance-none focus:outline-none volume-slider\"\n                />\n              </div>\n            </div>\n\n            <!-- Live Indicator for Mobile -->\n            <div class=\"md:hidden flex items-center\">\n              <span class=\"h-2 w-2 bg-red-600 rounded-full animate-pulse mr-1.5\"></span>\n              <span class=\"text-white/90 text-sm\">LIVE</span>\n            </div>\n          </div>\n\n          <!-- Center Info (only visible on larger screens) -->\n          <div class=\"hidden md:block absolute left-1/2 -translate-x-1/2 text-white flex items-center\">\n            <div class=\"flex items-center\">\n              <span class=\"h-2 w-2 bg-red-600 rounded-full animate-pulse mr-1.5\"></span>\n              <span class=\"text-white/90 font-medium\">LIVE</span>\n            </div>\n          </div>\n\n          <!-- Right Controls -->\n          <div class=\"flex items-center gap-3\">\n            <!-- Settings Button -->\n            <div class=\"relative group/settings\">\n              <button \n                @click.stop=\"isQualityMenuOpen = !isQualityMenuOpen\"\n                class=\"group\"\n              >\n                <div class=\"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors\">\n                  <i class=\"fas fa-cog text-white text-lg group-hover:text-[#c30059] transition-colors\"></i>\n                </div>\n              </button>\n              \n              <!-- Settings Menu -->\n              <div \n                v-if=\"isQualityMenuOpen\"\n                class=\"absolute bottom-full right-0 mb-2 bg-black/90 backdrop-blur-md rounded-lg overflow-hidden border border-white/10 w-48\"\n              >\n                <div class=\"py-2\">\n                  <div class=\"px-4 py-1 text-white/70 text-xs font-medium uppercase tracking-wider\">Quality</div>\n                  <div class=\"mt-1\">\n                    <button \n                      v-for=\"quality in ['Auto', '1080p', '720p', '480p', '360p']\" \n                      :key=\"quality\"\n                      @click.stop=\"setQuality(quality)\"\n                      class=\"w-full px-4 py-2 text-left text-sm text-white flex items-center justify-between hover:bg-white/10\"\n                      :class=\"{'text-[#c30059]': currentQuality === quality}\"\n                    >\n                      <span>{{ quality }}</span>\n                      <i v-if=\"currentQuality === quality\" class=\"fas fa-check text-[#c30059]\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Lock Controls -->\n            <button \n              @click.stop=\"toggleControlsLock\"\n              class=\"group\"\n            >\n              <div class=\"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors\">\n                <i :class=\"[\n                  isControlsLocked ? 'fas fa-lock' : 'fas fa-lock-open',\n                  'text-white text-lg group-hover:text-[#c30059] transition-colors',\n                  {'text-[#c30059]': isControlsLocked}\n                ]\"></i>\n              </div>\n            </button>\n            \n            <!-- Fullscreen -->\n            <button \n              @click.stop=\"enterFullscreen\"\n              class=\"group\"\n            >\n              <div class=\"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors\">\n                <i :class=\"isFullScreen ? 'fas fa-compress' : 'fas fa-expand'\" class=\"text-white text-lg group-hover:text-[#c30059] transition-colors\"></i>\n              </div>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useScreenOrientation } from '@vueuse/core'\n\nexport default {\n  name: 'LiveTVPlayer',\n  props: {\n    isOpen: {\n      type: Boolean,\n      required: true\n    },\n    videoUrl: {\n      type: String,\n      required: true\n    },\n    videoTitle: {\n      type: String,\n      required: true\n    },\n    isDirectVideo: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      isPlaying: true,\n      isFullScreen: false,\n      orientationLock: null,\n      showControls: true,\n      controlsTimeout: null,\n      progressPercentage: 0,\n      duration: 0,\n      currentTime: 0,\n      volumeLevel: 100,\n      isMuted: false,\n      previousVolume: 100,\n      isQualityMenuOpen: false,\n      currentQuality: 'Auto',\n      supportsPiP: false,\n      isControlsLocked: false,\n      showBigPlayButton: false,\n      bigPlayButtonTimeout: null,\n      isLoading: true,\n      previewPosition: 0,\n      previewTime: 0,\n      hasCaptions: false\n    }\n  },\n  computed: {\n    youtubeEmbedUrl() {\n      // Extract video ID from YouTube URL\n      const videoId = this.extractVideoId(this.videoUrl)\n      // Add parameters to completely hide controls and disable all YouTube UI elements\n      return `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&rel=0&controls=0&disablekb=1&fs=0&modestbranding=1&showinfo=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}&widget_referrer=${window.location.origin}&color=white&loop=1&wmode=transparent&vq=hd1080&cc_load_policy=3`\n    },\n    volumeIcon() {\n      if (this.isMuted || this.volumeLevel === 0) {\n        return 'fas fa-volume-mute'\n      } else if (this.volumeLevel < 50) {\n        return 'fas fa-volume-down'\n      } else {\n        return 'fas fa-volume-up'\n      }\n    },\n    formattedCurrentTime() {\n      return this.formatTime(this.currentTime)\n    },\n    formattedDuration() {\n      return this.formatTime(this.duration)\n    }\n  },\n  watch: {\n    isOpen(newVal) {\n      if (newVal) {\n        document.addEventListener('keydown', this.handleKeyboardShortcuts)\n        this.checkPiPSupport()\n        // Set loading to true initially\n        this.isLoading = true\n        // Simulate loading completion after 2s (would be based on actual video loading in a real app)\n        setTimeout(() => {\n          this.isLoading = false\n          // Ensure video is playing\n          this.ensureVideoIsPlaying()\n        }, 2000)\n      } else {\n        document.removeEventListener('keydown', this.handleKeyboardShortcuts)\n      }\n    }\n  },\n  mounted() {\n    const { lockOrientation, unlockOrientation } = useScreenOrientation()\n    this.orientationLock = { lockOrientation, unlockOrientation }\n    \n    // Load saved volume if available\n    try {\n      const savedVolume = localStorage.getItem('player-volume')\n      if (savedVolume !== null) {\n        this.volumeLevel = parseInt(savedVolume, 10)\n      }\n    } catch (e) {\n      // Ignore storage errors\n    }\n    \n    if (this.isOpen) {\n      document.addEventListener('keydown', this.handleKeyboardShortcuts)\n      this.checkPiPSupport()\n      // Simulate loading completion after 2s\n      setTimeout(() => {\n        this.isLoading = false\n        // Ensure video is playing\n        this.ensureVideoIsPlaying()\n      }, 2000)\n    }\n    \n    // Auto-hide controls after 3 seconds\n    this.resetControlsTimeout()\n  },\n  methods: {\n    extractVideoId(url) {\n      const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/\n      const match = url.match(regExp)\n      return (match && match[7].length === 11) ? match[7] : ''\n    },\n    async close() {\n      // Exit fullscreen first if we're in fullscreen mode\n      if (document.fullscreenElement) {\n        try {\n          await this.toggleFullscreen();\n          // Only after fullscreen exit is complete, navigate away\n          this.$emit('close');\n        } catch (error) {\n          console.error('Error during cleanup:', error);\n          // Still allow navigation even if there was an error\n          this.$emit('close');\n        }\n      } else {\n        // If not in fullscreen, just navigate away\n        this.$emit('close');\n      }\n    },\n    togglePlayPause() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef\n        if (video) {\n          if (video.paused) {\n            video.play()\n          } else {\n            video.pause()\n          }\n          this.isPlaying = !video.paused\n        }\n      } else {\n        const iframe = this.$refs.youtubePlayer\n        if (iframe) {\n          const command = this.isPlaying ? 'pauseVideo' : 'playVideo'\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: command\n          }), '*')\n          this.isPlaying = !this.isPlaying\n        }\n      }\n      \n      // Show the big play/pause button\n      this.showBigPlayButton = true\n      clearTimeout(this.bigPlayButtonTimeout)\n      this.bigPlayButtonTimeout = setTimeout(() => {\n        this.showBigPlayButton = false\n      }, 800)\n    },\n    toggleCaptions() {\n      this.hasCaptions = !this.hasCaptions\n      // This would actually toggle captions in a real implementation\n    },\n    handleMouseMove() {\n      if (this.isControlsLocked) return\n      this.showControls = true\n      this.resetControlsTimeout()\n    },\n    handleMouseLeave() {\n      if (this.isControlsLocked) return\n      clearTimeout(this.controlsTimeout)\n      this.controlsTimeout = setTimeout(() => {\n        this.showControls = false\n        this.previewPosition = 0 // Hide preview on mouse leave\n      }, 1000)\n    },\n    resetControlsTimeout() {\n      if (this.isControlsLocked) return\n      clearTimeout(this.controlsTimeout)\n      this.controlsTimeout = setTimeout(() => {\n        this.showControls = false\n        this.previewPosition = 0 // Hide preview when controls hide\n      }, 3000)\n    },\n    toggleControlsLock() {\n      this.isControlsLocked = !this.isControlsLocked\n    },\n    updateProgress() {\n      if (!this.isDirectVideo) return\n      \n      const video = this.$refs.videoRef\n      if (video) {\n        this.currentTime = video.currentTime\n        this.duration = video.duration\n        this.progressPercentage = (video.currentTime / video.duration) * 100 || 0\n      }\n    },\n    showProgressPreview(e) {\n      if (!this.isDirectVideo) return\n      \n      const container = this.$refs.progressContainer\n      if (!container) return\n      \n      const rect = container.getBoundingClientRect()\n      const position = ((e.clientX - rect.left) / rect.width) * 100\n      this.previewPosition = position\n      \n      if (this.duration) {\n        this.previewTime = (position / 100) * this.duration\n      }\n    },\n    seekToPosition(e) {\n      if (!this.isDirectVideo) return\n      \n      const container = this.$refs.progressContainer\n      if (!container) return\n      \n      const rect = container.getBoundingClientRect()\n      const position = ((e.clientX - rect.left) / rect.width)\n      const video = this.$refs.videoRef\n      \n      if (video && !isNaN(video.duration)) {\n        video.currentTime = position * video.duration\n      }\n      \n      // Hide preview after seeking\n      this.previewPosition = 0\n    },\n    formatTime(seconds) {\n      if (isNaN(seconds) || !isFinite(seconds)) return '0:00'\n      \n      const minutes = Math.floor(seconds / 60)\n      const hours = Math.floor(minutes / 60)\n      const remainingMinutes = minutes % 60\n      const remainingSeconds = Math.floor(seconds % 60)\n      \n      if (hours > 0) {\n        return `${hours}:${remainingMinutes < 10 ? '0' : ''}${remainingMinutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`\n      }\n      \n      return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`\n    },\n    toggleMute() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef\n        if (video) {\n          if (this.isMuted) {\n            video.volume = this.previousVolume / 100\n            this.volumeLevel = this.previousVolume\n          } else {\n            this.previousVolume = this.volumeLevel\n            video.volume = 0\n            this.volumeLevel = 0\n          }\n          this.isMuted = !this.isMuted\n        }\n      } else {\n        // YouTube mute/unmute\n        const iframe = this.$refs.youtubePlayer\n        if (iframe) {\n          const command = this.isMuted ? 'unMute' : 'mute'\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: command\n          }), '*')\n          this.isMuted = !this.isMuted\n        }\n      }\n    },\n    updateVolume() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef\n        if (video) {\n          video.volume = this.volumeLevel / 100\n          video.muted = this.volumeLevel === 0\n          this.isMuted = this.volumeLevel === 0\n        }\n      } else {\n        // YouTube volume control\n        const iframe = this.$refs.youtubePlayer\n        if (iframe) {\n          // Ensure the volume value is between 0-100\n          const volume = Math.max(0, Math.min(100, this.volumeLevel))\n          \n          try {\n            // First unmute if muted and volume > 0\n            if (this.isMuted && volume > 0) {\n              iframe.contentWindow.postMessage(JSON.stringify({\n                event: 'command',\n                func: 'unMute'\n              }), '*')\n              this.isMuted = false\n            }\n            \n            // Set volume (YouTube API expects 0-100)\n            iframe.contentWindow.postMessage(JSON.stringify({\n              event: 'command',\n              func: 'setVolume',\n              args: [volume]\n            }), '*')\n            \n            // Set mute state if volume is 0\n            if (volume === 0 && !this.isMuted) {\n              iframe.contentWindow.postMessage(JSON.stringify({\n                event: 'command',\n                func: 'mute'\n              }), '*')\n              this.isMuted = true\n            }\n          } catch (err) {\n            console.error('Error updating YouTube volume:', err)\n          }\n        }\n      }\n      \n      // Save volume to localStorage for persistence\n      try {\n        localStorage.setItem('player-volume', this.volumeLevel.toString())\n      } catch (e) {\n        // Ignore storage errors\n      }\n    },\n    onVolumeChange() {\n      if (!this.isDirectVideo) return\n      \n      const video = this.$refs.videoRef\n      if (video) {\n        this.volumeLevel = video.volume * 100\n        this.isMuted = video.muted\n      }\n    },\n    onVideoLoaded() {\n      if (!this.isDirectVideo) return\n      \n      const video = this.$refs.videoRef\n      if (video) {\n        this.duration = video.duration\n        this.isLoading = false\n      }\n    },\n    onVideoEnded() {\n      this.isPlaying = false\n    },\n    async enterFullscreen() {\n      const element = this.$refs.playerContainer\n      \n      if (!element) return\n      \n      if (!document.fullscreenElement) {\n        try {\n          await element.requestFullscreen()\n          this.isFullScreen = true\n          try {\n            await this.orientationLock.lockOrientation('landscape')\n          } catch (err) {\n            console.warn('Orientation lock failed:', err)\n          }\n        } catch (err) {\n          console.error(`Error attempting to enable full-screen mode: ${err.message}`)\n        }\n      } else {\n        document.exitFullscreen()\n        this.isFullScreen = false\n        try {\n          this.orientationLock.unlockOrientation()\n        } catch (err) {\n          console.warn('Failed to unlock orientation:', err)\n        }\n      }\n    },\n    checkPiPSupport() {\n      if (this.isDirectVideo) {\n        this.supportsPiP = document.pictureInPictureEnabled || \n                          (this.$refs.videoRef && 'requestPictureInPicture' in HTMLVideoElement.prototype)\n      } else {\n        this.supportsPiP = false // YouTube iframe doesn't support native PiP\n      }\n    },\n    async togglePictureInPicture() {\n      if (!this.isDirectVideo || !this.supportsPiP) return\n      \n      try {\n        if (document.pictureInPictureElement) {\n          await document.exitPictureInPicture()\n        } else {\n          const video = this.$refs.videoRef\n          if (video) {\n            await video.requestPictureInPicture()\n          }\n        }\n      } catch (err) {\n        console.error('PiP failed:', err)\n      }\n    },\n    setQuality(quality) {\n      this.currentQuality = quality\n      this.isQualityMenuOpen = false\n      \n      if (this.isDirectVideo) {\n        // Implementation would depend on your video source\n        console.log(`Setting quality to ${quality}`)\n      } else {\n        // YouTube quality (not fully supported via iframe API)\n        const iframe = this.$refs.youtubePlayer\n        if (iframe) {\n          let qualityLevel\n          \n          switch(quality) {\n            case '1080p': qualityLevel = 'hd1080'; break;\n            case '720p': qualityLevel = 'hd720'; break;\n            case '480p': qualityLevel = 'large'; break;\n            case '360p': qualityLevel = 'medium'; break;\n            default: qualityLevel = 'default';\n          }\n          \n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: 'setPlaybackQuality',\n            args: [qualityLevel]\n          }), '*')\n        }\n      }\n    },\n    handleKeyboardShortcuts(e) {\n      // Only process shortcuts when player is open\n      if (!this.isOpen) return\n      \n      switch(e.key.toLowerCase()) {\n        case ' ':\n        case 'k':\n          e.preventDefault()\n          this.togglePlayPause()\n          break\n        case 'f':\n          e.preventDefault()\n          this.enterFullscreen()\n          break\n        case 'm':\n          e.preventDefault()\n          this.toggleMute()\n          break\n        case 'c':\n          e.preventDefault()\n          this.toggleCaptions()\n          break\n        case 'arrowright':\n          if (this.isDirectVideo) {\n            e.preventDefault()\n            const video = this.$refs.videoRef\n            if (video) video.currentTime += 10\n          }\n          break\n        case 'arrowleft':\n          if (this.isDirectVideo) {\n            e.preventDefault()\n            const video = this.$refs.videoRef\n            if (video) video.currentTime -= 10\n          }\n          break\n        case 'arrowup':\n          e.preventDefault()\n          this.volumeLevel = Math.min(100, this.volumeLevel + 5)\n          this.updateVolume()\n          break\n        case 'arrowdown':\n          e.preventDefault()\n          this.volumeLevel = Math.max(0, this.volumeLevel - 5)\n          this.updateVolume()\n          break\n        case 'escape':\n          if (document.fullscreenElement) {\n            e.preventDefault()\n            document.exitFullscreen()\n          } else if (this.isQualityMenuOpen) {\n            e.preventDefault()\n            this.isQualityMenuOpen = false\n          }\n          break\n      }\n    },\n    ensureVideoIsPlaying() {\n      if (this.isDirectVideo) {\n        const video = this.$refs.videoRef\n        if (video) {\n          // Force play with user interaction workaround\n          video.muted = true // Browsers allow muted autoplay\n          const playPromise = video.play()\n          if (playPromise !== undefined) {\n            playPromise.then(() => {\n              // Autoplay started successfully\n              this.isPlaying = true\n              // After 1 second, unmute if volume is not zero\n              setTimeout(() => {\n                if (this.volumeLevel > 0 && !this.isMuted) {\n                  video.muted = false\n                }\n              }, 1000)\n            }).catch(error => {\n              console.error('Autoplay failed:', error)\n            })\n          }\n        }\n      } else {\n        // For YouTube, send play command\n        const iframe = this.$refs.youtubePlayer\n        if (iframe) {\n          iframe.contentWindow.postMessage(JSON.stringify({\n            event: 'command',\n            func: 'playVideo'\n          }), '*')\n          this.isPlaying = true\n        }\n      }\n    },\n    async toggleFullscreen() {\n      const container = this.$refs.playerContainer;\n      if (!container) return;\n      \n      try {\n        if (!document.fullscreenElement) {\n          await container.requestFullscreen();\n        } else {\n          // Add a small delay before navigation after exiting fullscreen\n          await document.exitFullscreen();\n          // Wait for the fullscreen exit to complete\n          return new Promise(resolve => {\n            const onFullscreenChange = () => {\n              document.removeEventListener('fullscreenchange', onFullscreenChange);\n              setTimeout(resolve, 100); // Small delay to ensure completion\n            };\n            document.addEventListener('fullscreenchange', onFullscreenChange);\n          });\n        }\n      } catch (error) {\n        console.error('Fullscreen error:', error);\n      }\n    }\n  },\n  beforeUnmount() {\n    document.removeEventListener('keydown', this.handleKeyboardShortcuts)\n    \n    clearTimeout(this.controlsTimeout)\n    clearTimeout(this.bigPlayButtonTimeout)\n    \n    if (document.fullscreenElement) {\n      document.exitFullscreen().catch(err => {\n        console.warn('Error exiting fullscreen:', err)\n      })\n    }\n    \n    if (document.pictureInPictureElement) {\n      document.exitPictureInPicture().catch(err => {\n        console.warn('Error exiting PiP:', err)\n      })\n    }\n    \n    try {\n      this.orientationLock.unlockOrientation()\n    } catch (err) {\n      console.warn('Failed to unlock orientation:', err)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.player-root {\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.player-container {\n  overflow: hidden;\n  background-color: #000;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);\n}\n\n.aspect-video {\n  aspect-ratio: 16/9;\n}\n\n/* Hide iframe border and all controls */\niframe, video {\n  border: none;\n  outline: none;\n}\n\n/* Override any YouTube controls that might still appear */\niframe {\n  pointer-events: none !important; /* Prevent YouTube controls from being interacted with */\n  z-index: 1;\n}\n\n/* YouTube control hiding - Extended to hide more elements */\n:deep(.ytp-chrome-top),\n:deep(.ytp-chrome-bottom),\n:deep(.ytp-gradient-top),\n:deep(.ytp-gradient-bottom),\n:deep(.ytp-pause-overlay),\n:deep(.ytp-watermark),\n:deep(.ytp-large-play-button),\n:deep(.ytp-title-channel),\n:deep(.ytp-title),\n:deep(.ytp-show-cards-title),\n:deep(.ytp-related-on-show-info),\n:deep(.ytp-youtube-button),\n:deep(.ytp-embed),\n:deep(.ytp-logo),\n:deep(.ytp-paid-content-overlay),\n:deep(.ytp-thumbnail-overlay),\n:deep(.ytp-pause-overlay-container),\n:deep(.ytp-cued-thumbnail-overlay),\n:deep(.html5-endscreen),\n:deep(.html5-video-container:after),\n:deep(.html5-video-container::after),\n:deep(.ytp-spinner),\n:deep(.ytp-player-content),\n:deep(.ytp-ce-element) {\n  display: none !important;\n  opacity: 0 !important;\n  visibility: hidden !important;\n  pointer-events: none !important;\n}\n\n/* Add a background color to the iframe when paused */\niframe {\n  background-color: black;\n}\n\n/* Re-enable pointer events on our container */\n.player-container {\n  pointer-events: auto;\n}\n\n@keyframes pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.4; }\n  100% { opacity: 1; }\n}\n\n.animate-pulse {\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.animate-spin {\n  animation: spin 1.5s linear infinite;\n}\n\n/* Volume slider styling */\n.volume-slider {\n  height: 4px;\n  cursor: pointer;\n}\n\n.volume-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: #c30059;\n  cursor: pointer;\n}\n\n.volume-slider::-moz-range-thumb {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: #c30059;\n  cursor: pointer;\n  border: none;\n}\n\n/* Transition for controls visibility */\n.transition-opacity {\n  transition: opacity 0.3s ease;\n}\n\n/* Backdrop blur for UI elements */\n.backdrop-blur-md {\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}