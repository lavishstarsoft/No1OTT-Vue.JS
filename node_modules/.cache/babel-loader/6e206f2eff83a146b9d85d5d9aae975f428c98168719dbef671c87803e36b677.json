{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nconst API_BASE_URL = 'https://ott.no1news.in';\nconst DEFAULT_IMAGE = '/images/placeholder.png';\nexport default {\n  name: 'AllCategoriesSection',\n  props: {\n    title: {\n      type: String,\n      default: 'Browse By Categories'\n    }\n  },\n  setup() {\n    const router = useRouter();\n    const categories = ref([]);\n    const containerRef = ref(null);\n    const canScrollLeft = ref(false);\n    const canScrollRight = ref(true);\n    const handleImageError = event => {\n      event.target.src = DEFAULT_IMAGE;\n      event.target.removeEventListener('error', handleImageError);\n    };\n    const capitalizeText = text => {\n      if (!text) return '';\n      // Split by spaces and special characters\n      return text.split(/[\\s-]+/).map(word => {\n        // Don't change case for special words\n        const specialWords = ['HD', 'UHD', '4K', 'TV', 'II', 'III', 'IV', 'SPY'];\n        if (specialWords.includes(word.toUpperCase())) {\n          return word.toUpperCase();\n        }\n        // Don't change case for articles and conjunctions in middle of title\n        const minorWords = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'in', 'to', 'on', 'at', 'by', 'of'];\n        if (minorWords.includes(word.toLowerCase())) {\n          return word.toLowerCase();\n        }\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n      }).join(' ');\n    };\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(`/api/categories/active/`);\n        categories.value = response.data.filter(category => ![19].includes(category.id)) // Hide LIVE CHANNELS and HOT SEAT WITH MSR\n        .map(category => ({\n          ...category,\n          name: capitalizeText(category.name),\n          description: capitalizeText(category.description),\n          image: category.image ? category.image.startsWith('http') ? category.image : `${API_BASE_URL}${category.image}` : DEFAULT_IMAGE\n        }));\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n        categories.value = [];\n      }\n    };\n    const scroll = direction => {\n      if (!containerRef.value) return;\n      const scrollAmount = 300;\n      containerRef.value.scrollLeft += direction === 'left' ? -scrollAmount : scrollAmount;\n    };\n    const checkScroll = () => {\n      if (!containerRef.value) return;\n      canScrollLeft.value = containerRef.value.scrollLeft > 0;\n      canScrollRight.value = containerRef.value.scrollLeft < containerRef.value.scrollWidth - containerRef.value.clientWidth;\n    };\n    const selectCategory = category => {\n      router.push({\n        name: 'CategoryVideos',\n        params: {\n          id: category.id\n        }\n      });\n    };\n    onMounted(() => {\n      fetchCategories();\n    });\n    return {\n      categories,\n      containerRef,\n      canScrollLeft,\n      canScrollRight,\n      scroll,\n      checkScroll,\n      selectCategory,\n      handleImageError\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","onMounted","useRouter","API_BASE_URL","DEFAULT_IMAGE","name","props","title","type","String","default","setup","router","categories","containerRef","canScrollLeft","canScrollRight","handleImageError","event","target","src","removeEventListener","capitalizeText","text","split","map","word","specialWords","includes","toUpperCase","minorWords","toLowerCase","charAt","slice","join","fetchCategories","response","get","value","data","filter","category","id","description","image","startsWith","error","console","scroll","direction","scrollAmount","scrollLeft","checkScroll","scrollWidth","clientWidth","selectCategory","push","params"],"sources":["F:\\ott_tv\\ott\\ott_frontend\\src\\components\\AllCategoriesSection.vue"],"sourcesContent":["<template>\n  <section class=\"mb-8\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <h2 class=\"text-lg font-medium gradient-text\">{{ title }}</h2>\n    </div>\n    \n    <div class=\"relative\">\n      <button \n        @click=\"scroll('left')\" \n        class=\"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70 nav-button\"\n        v-show=\"canScrollLeft\"\n        v-spatial-nav\n        tabindex=\"0\"\n      >\n        <i class=\"fas fa-chevron-left\"></i>\n      </button>\n      \n      <div \n        ref=\"containerRef\"\n        class=\"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth\"\n        @scroll=\"checkScroll\"\n      >\n        <div \n          v-for=\"category in categories\" \n          :key=\"category.id\"\n          class=\"flex-shrink-0 relative group cursor-pointer category-card\"\n          @click=\"selectCategory(category)\"\n          @keydown.enter=\"selectCategory(category)\"\n          v-spatial-nav\n          tabindex=\"0\"\n        >\n          <div \n            class=\"w-[256px] aspect-[16/9] bg-gray-800 rounded-lg overflow-hidden relative category-inner\"\n          >\n            <img \n              :src=\"category.image || '/images/placeholder.png'\" \n              :alt=\"category.name\"\n              class=\"w-full h-full object-cover transition-transform duration-300\"\n              @error=\"handleImageError\"\n            >\n            \n            <!-- Category badges -->\n            <div class=\"absolute top-2 left-2 flex gap-2\">\n              <span v-if=\"category.is_premium\" class=\"flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\" style=\"background: rgba(195, 0, 89, 0.8); border: 1px solid rgba(255, 255, 255, 0.2);\">\n                <i class=\"fas fa-crown text-yellow-400\"></i>\n              </span>\n            </div>\n            \n            <!-- Hover/Focus overlay with gradient -->\n            <div \n              class=\"absolute inset-0 bg-gradient-to-t from-black via-black/75 to-transparent transition-opacity flex items-end justify-center pb-4 opacity-0 group-hover:opacity-100\"\n            >\n              <div class=\"text-center w-full px-4 py-2\">\n                <h3 class=\"text-white text-lg font-bold mb-1 drop-shadow-lg capitalize\">{{ category.name }}</h3>\n                <p class=\"text-white/80 text-xs font-medium drop-shadow-lg line-clamp-2\">{{ category.description }}</p>\n              </div>\n            </div>\n          </div>\n          <!-- Category title below image -->\n          <div class=\"mt-2 text-center\">\n            <h3 \n              class=\"text-white text-sm font-medium truncate px-2 transition-colors duration-200\"\n            >\n              {{ category.name }}\n            </h3>\n          </div>\n        </div>\n      </div>\n      \n      <button \n        @click=\"scroll('right')\" \n        class=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70 nav-button\"\n        v-show=\"canScrollRight\"\n        v-spatial-nav\n        tabindex=\"0\"\n      >\n        <i class=\"fas fa-chevron-right\"></i>\n      </button>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst API_BASE_URL = 'https://ott.no1news.in'\nconst DEFAULT_IMAGE = '/images/placeholder.png'\n\nexport default {\n  name: 'AllCategoriesSection',\n  props: {\n    title: {\n      type: String,\n      default: 'Browse By Categories'\n    }\n  },\n  setup() {\n    const router = useRouter()\n    const categories = ref([])\n    const containerRef = ref(null)\n    const canScrollLeft = ref(false)\n    const canScrollRight = ref(true)\n\n    const handleImageError = (event) => {\n      event.target.src = DEFAULT_IMAGE\n      event.target.removeEventListener('error', handleImageError)\n    }\n\n    const capitalizeText = (text) => {\n      if (!text) return '';\n      // Split by spaces and special characters\n      return text.split(/[\\s-]+/).map(word => {\n        // Don't change case for special words\n        const specialWords = ['HD', 'UHD', '4K', 'TV', 'II', 'III', 'IV', 'SPY'];\n        if (specialWords.includes(word.toUpperCase())) {\n          return word.toUpperCase();\n        }\n        // Don't change case for articles and conjunctions in middle of title\n        const minorWords = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'in', 'to', 'on', 'at', 'by', 'of'];\n        if (minorWords.includes(word.toLowerCase())) {\n          return word.toLowerCase();\n        }\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n      }).join(' ');\n    }\n\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(`/api/categories/active/`)\n        categories.value = response.data\n          .filter(category => ![19].includes(category.id)) // Hide LIVE CHANNELS and HOT SEAT WITH MSR\n          .map(category => ({\n            ...category,\n            name: capitalizeText(category.name),\n            description: capitalizeText(category.description),\n            image: category.image ? \n              (category.image.startsWith('http') ? category.image : `${API_BASE_URL}${category.image}`)\n              : DEFAULT_IMAGE\n          }))\n      } catch (error) {\n        console.error('Error fetching categories:', error)\n        categories.value = []\n      }\n    }\n\n    const scroll = (direction) => {\n      if (!containerRef.value) return\n      const scrollAmount = 300\n      containerRef.value.scrollLeft += direction === 'left' ? -scrollAmount : scrollAmount\n    }\n\n    const checkScroll = () => {\n      if (!containerRef.value) return\n      canScrollLeft.value = containerRef.value.scrollLeft > 0\n      canScrollRight.value = containerRef.value.scrollLeft < (containerRef.value.scrollWidth - containerRef.value.clientWidth)\n    }\n\n    const selectCategory = (category) => {\n      router.push({\n        name: 'CategoryVideos',\n        params: { id: category.id }\n      })\n    }\n\n    onMounted(() => {\n      fetchCategories()\n    })\n\n    return {\n      categories,\n      containerRef,\n      canScrollLeft,\n      canScrollRight,\n      scroll,\n      checkScroll,\n      selectCategory,\n      handleImageError\n    }\n  }\n}\n</script>\n\n<style scoped>\n.scrollbar-hide {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;\n}\n\n.category-card {\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.category-card:focus {\n  outline: none;\n}\n\n.category-card.is-focused {\n  z-index: 10;\n}\n\n.category-card.is-focused .category-inner {\n  transform: scale(1.05);\n  box-shadow: 0 0 0 4px #007bff, 0 0 20px rgba(0, 123, 255, 0.5);\n  border-radius: 8px;\n}\n\n.category-card.is-focused .category-inner::after {\n  content: '';\n  position: absolute;\n  inset: -2px;\n  border: 2px solid #4da3ff;\n  border-radius: 10px;\n  animation: pulse 2s infinite;\n}\n\n/* Hide hover effects on mobile */\n@media (max-width: 768px) {\n  .group-hover\\:opacity-100 {\n    opacity: 0 !important;\n  }\n  \n  /* Always show category title below image on mobile */\n  .category-card .text-sm {\n    opacity: 1 !important;\n    color: white !important;\n  }\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(0, 123, 255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);\n  }\n}\n\n.nav-button.spatial-nav-focus {\n  background-color: rgba(0, 0, 0, 0.8);\n  box-shadow: 0 0 0 3px #007bff, 0 0 15px rgba(0, 123, 255, 0.5);\n}\n</style> "],"mappings":";;;;AAmFA,OAAOA,KAAI,MAAO,OAAM;AACxB,SAASC,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,SAAQ,QAAS,YAAW;AAErC,MAAMC,YAAW,GAAI,wBAAuB;AAC5C,MAAMC,aAAY,GAAI,yBAAwB;AAE9C,eAAe;EACbC,IAAI,EAAE,sBAAsB;EAC5BC,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIV,SAAS,CAAC;IACzB,MAAMW,UAAS,GAAIb,GAAG,CAAC,EAAE;IACzB,MAAMc,YAAW,GAAId,GAAG,CAAC,IAAI;IAC7B,MAAMe,aAAY,GAAIf,GAAG,CAAC,KAAK;IAC/B,MAAMgB,cAAa,GAAIhB,GAAG,CAAC,IAAI;IAE/B,MAAMiB,gBAAe,GAAKC,KAAK,IAAK;MAClCA,KAAK,CAACC,MAAM,CAACC,GAAE,GAAIhB,aAAY;MAC/Bc,KAAK,CAACC,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEJ,gBAAgB;IAC5D;IAEA,MAAMK,cAAa,GAAKC,IAAI,IAAK;MAC/B,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;MACpB;MACA,OAAOA,IAAI,CAACC,KAAK,CAAC,QAAQ,CAAC,CAACC,GAAG,CAACC,IAAG,IAAK;QACtC;QACA,MAAMC,YAAW,GAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC;QACxE,IAAIA,YAAY,CAACC,QAAQ,CAACF,IAAI,CAACG,WAAW,CAAC,CAAC,CAAC,EAAE;UAC7C,OAAOH,IAAI,CAACG,WAAW,CAAC,CAAC;QAC3B;QACA;QACA,MAAMC,UAAS,GAAI,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QAC3G,IAAIA,UAAU,CAACF,QAAQ,CAACF,IAAI,CAACK,WAAW,CAAC,CAAC,CAAC,EAAE;UAC3C,OAAOL,IAAI,CAACK,WAAW,CAAC,CAAC;QAC3B;QACA,OAAOL,IAAI,CAACM,MAAM,CAAC,CAAC,CAAC,CAACH,WAAW,CAAC,IAAIH,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAACF,WAAW,CAAC,CAAC;MACnE,CAAC,CAAC,CAACG,IAAI,CAAC,GAAG,CAAC;IACd;IAEA,MAAMC,eAAc,GAAI,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMrC,KAAK,CAACsC,GAAG,CAAC,yBAAyB;QAC1DxB,UAAU,CAACyB,KAAI,GAAIF,QAAQ,CAACG,IAAG,CAC5BC,MAAM,CAACC,QAAO,IAAK,CAAC,CAAC,EAAE,CAAC,CAACb,QAAQ,CAACa,QAAQ,CAACC,EAAE,CAAC,EAAE;QAAA,CAChDjB,GAAG,CAACgB,QAAO,KAAM;UAChB,GAAGA,QAAQ;UACXpC,IAAI,EAAEiB,cAAc,CAACmB,QAAQ,CAACpC,IAAI,CAAC;UACnCsC,WAAW,EAAErB,cAAc,CAACmB,QAAQ,CAACE,WAAW,CAAC;UACjDC,KAAK,EAAEH,QAAQ,CAACG,KAAI,GACjBH,QAAQ,CAACG,KAAK,CAACC,UAAU,CAAC,MAAM,IAAIJ,QAAQ,CAACG,KAAI,GAAI,GAAGzC,YAAY,GAAGsC,QAAQ,CAACG,KAAK,EAAE,GACtFxC;QACN,CAAC,CAAC;MACN,EAAE,OAAO0C,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK;QACjDjC,UAAU,CAACyB,KAAI,GAAI,EAAC;MACtB;IACF;IAEA,MAAMU,MAAK,GAAKC,SAAS,IAAK;MAC5B,IAAI,CAACnC,YAAY,CAACwB,KAAK,EAAE;MACzB,MAAMY,YAAW,GAAI,GAAE;MACvBpC,YAAY,CAACwB,KAAK,CAACa,UAAS,IAAKF,SAAQ,KAAM,MAAK,GAAI,CAACC,YAAW,GAAIA,YAAW;IACrF;IAEA,MAAME,WAAU,GAAIA,CAAA,KAAM;MACxB,IAAI,CAACtC,YAAY,CAACwB,KAAK,EAAE;MACzBvB,aAAa,CAACuB,KAAI,GAAIxB,YAAY,CAACwB,KAAK,CAACa,UAAS,GAAI;MACtDnC,cAAc,CAACsB,KAAI,GAAIxB,YAAY,CAACwB,KAAK,CAACa,UAAS,GAAKrC,YAAY,CAACwB,KAAK,CAACe,WAAU,GAAIvC,YAAY,CAACwB,KAAK,CAACgB,WAAW;IACzH;IAEA,MAAMC,cAAa,GAAKd,QAAQ,IAAK;MACnC7B,MAAM,CAAC4C,IAAI,CAAC;QACVnD,IAAI,EAAE,gBAAgB;QACtBoD,MAAM,EAAE;UAAEf,EAAE,EAAED,QAAQ,CAACC;QAAG;MAC5B,CAAC;IACH;IAEAzC,SAAS,CAAC,MAAM;MACdkC,eAAe,CAAC;IAClB,CAAC;IAED,OAAO;MACLtB,UAAU;MACVC,YAAY;MACZC,aAAa;MACbC,cAAc;MACdgC,MAAM;MACNI,WAAW;MACXG,cAAc;MACdtC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}