{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"watchlist-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading-state\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error-state\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"empty-state\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"watchlist-grid\"\n};\nconst _hoisted_6 = {\n  class: \"video-card\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"src\", \"alt\"];\nconst _hoisted_9 = {\n  class: \"video-info\"\n};\nconst _hoisted_10 = {\n  class: \"video-title\"\n};\nconst _hoisted_11 = {\n  class: \"video-meta\"\n};\nconst _hoisted_12 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[9] || (_cache[9] = _createElementVNode(\"h1\", {\n    class: \"watchlist-title\"\n  }, \"My Watchlist\", -1)), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[0] || (_cache[0] = [_createElementVNode(\"i\", {\n    class: \"fas fa-spinner fa-spin\"\n  }, null, -1), _createTextVNode(\" Loading your watchlist... \")]))) : $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[1] || (_cache[1] = _createElementVNode(\"i\", {\n    class: \"fas fa-exclamation-circle\"\n  }, null, -1)), _createTextVNode(\" \" + _toDisplayString($data.error), 1)])) : $data.watchlistItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"i\", {\n    class: \"fas fa-bookmark\"\n  }, null, -1)), _cache[4] || (_cache[4] = _createElementVNode(\"p\", null, \"Your watchlist is empty\", -1)), _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"browse-link\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Browse Videos\")])),\n    _: 1,\n    __: [2]\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.watchlistItems, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id,\n      class: \"watchlist-item\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", {\n      class: \"thumbnail-container\",\n      onClick: $event => $options.navigateToVideo(item.content_details.id)\n    }, [_createElementVNode(\"img\", {\n      src: item.content_details.thumbnail_url,\n      alt: item.content_details.title\n    }, null, 8, _hoisted_8), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n      class: \"overlay\"\n    }, [_createElementVNode(\"button\", {\n      class: \"play-button\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-play\"\n    })])], -1))], 8, _hoisted_7), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"h3\", _hoisted_10, _toDisplayString(item.content_details.title), 1), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"span\", null, _toDisplayString($options.getYear(item.content_details.release_date)), 1), _cache[6] || (_cache[6] = _createElementVNode(\"span\", {\n      class: \"dot\"\n    }, \"•\", -1)), _createElementVNode(\"span\", null, _toDisplayString($options.formatDuration(item.content_details.duration)), 1)]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n      class: \"watch-now\",\n      onClick: $event => $options.navigateToVideo(item.content_details.id)\n    }, _cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n      class: \"fas fa-play\"\n    }, null, -1), _createTextVNode(\" Watch Now \")]), 8, _hoisted_13), _createElementVNode(\"button\", {\n      class: \"remove-button\",\n      onClick: $event => $options.removeFromWatchlist(item.content)\n    }, _cache[8] || (_cache[8] = [_createElementVNode(\"i\", {\n      class: \"fas fa-trash\"\n    }, null, -1), _createTextVNode(\" Remove \")]), 8, _hoisted_14)])])])]);\n  }), 128))]))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","$data","loading","_hoisted_2","_cache","error","_hoisted_3","_toDisplayString","watchlistItems","length","_hoisted_4","_createVNode","_component_router_link","to","_hoisted_5","_Fragment","_renderList","item","key","id","_hoisted_6","onClick","$event","$options","navigateToVideo","content_details","src","thumbnail_url","alt","title","_hoisted_9","_hoisted_10","_hoisted_11","getYear","release_date","formatDuration","duration","_hoisted_12","removeFromWatchlist","content"],"sources":["D:\\OTT\\ott_frontend\\src\\views\\WatchList.vue"],"sourcesContent":["<template>\n  <div class=\"watchlist-container\">\n    <h1 class=\"watchlist-title\">My Watchlist</h1>\n    \n    <div v-if=\"loading\" class=\"loading-state\">\n      <i class=\"fas fa-spinner fa-spin\"></i>\n      Loading your watchlist...\n    </div>\n    \n    <div v-else-if=\"error\" class=\"error-state\">\n      <i class=\"fas fa-exclamation-circle\"></i>\n      {{ error }}\n    </div>\n    \n    <div v-else-if=\"watchlistItems.length === 0\" class=\"empty-state\">\n      <i class=\"fas fa-bookmark\"></i>\n      <p>Your watchlist is empty</p>\n      <router-link to=\"/\" class=\"browse-link\">Browse Videos</router-link>\n    </div>\n    \n    <div v-else class=\"watchlist-grid\">\n      <div v-for=\"item in watchlistItems\" :key=\"item.id\" class=\"watchlist-item\">\n        <div class=\"video-card\">\n          <div class=\"thumbnail-container\" @click=\"navigateToVideo(item.content_details.id)\">\n            <img :src=\"item.content_details.thumbnail_url\" :alt=\"item.content_details.title\">\n            <div class=\"overlay\">\n              <button class=\"play-button\">\n                <i class=\"fas fa-play\"></i>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"video-info\">\n            <h3 class=\"video-title\">{{ item.content_details.title }}</h3>\n            <div class=\"video-meta\">\n              <span>{{ getYear(item.content_details.release_date) }}</span>\n              <span class=\"dot\">•</span>\n              <span>{{ formatDuration(item.content_details.duration) }}</span>\n            </div>\n            \n            <div class=\"action-buttons\">\n              <button class=\"watch-now\" @click=\"navigateToVideo(item.content_details.id)\">\n                <i class=\"fas fa-play\"></i>\n                Watch Now\n              </button>\n              <button class=\"remove-button\" @click=\"removeFromWatchlist(item.content)\">\n                <i class=\"fas fa-trash\"></i>\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { watchlistAPI } from '@/utils/api';\n\nexport default {\n  name: 'WatchList',\n  data() {\n    return {\n      watchlistItems: [],\n      loading: true,\n      error: null\n    }\n  },\n  async created() {\n    await this.fetchWatchlist();\n  },\n  methods: {\n    async fetchWatchlist() {\n      try {\n        this.loading = true;\n        const response = await watchlistAPI.getList();\n        this.watchlistItems = response.data;\n        this.loading = false;\n      } catch (error) {\n        console.error('Error fetching watchlist:', error);\n        this.error = 'Failed to load watchlist. Please try again later.';\n        this.loading = false;\n      }\n    },\n    async removeFromWatchlist(videoId) {\n      try {\n        await watchlistAPI.toggle(videoId);\n        // Refresh watchlist after removal\n        await this.fetchWatchlist();\n      } catch (error) {\n        console.error('Error removing from watchlist:', error);\n        this.$store.dispatch('showToast', {\n          message: 'Failed to remove from watchlist. Please try again.',\n          type: 'error'\n        });\n      }\n    },\n    navigateToVideo(videoId) {\n      this.$router.push(`/movie/${videoId}`);\n    },\n    getYear(dateString) {\n      return dateString ? new Date(dateString).getFullYear() : '';\n    },\n    formatDuration(seconds) {\n      if (!seconds) return '';\n      const hours = Math.floor(seconds / 3600);\n      const minutes = Math.floor((seconds % 3600) / 60);\n      if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n      }\n      return `${minutes}m`;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.watchlist-container {\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.watchlist-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 2rem;\n  color: #fff;\n}\n\n.loading-state,\n.error-state,\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n  color: #fff;\n  text-align: center;\n}\n\n.loading-state i,\n.error-state i,\n.empty-state i {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  color: #ff0077;\n}\n\n.browse-link {\n  margin-top: 1rem;\n  padding: 0.75rem 1.5rem;\n  background: #ff0077;\n  color: white;\n  border-radius: 8px;\n  text-decoration: none;\n  transition: all 0.3s ease;\n}\n\n.browse-link:hover {\n  transform: scale(1.05);\n  background: #d10063;\n}\n\n.watchlist-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 2rem;\n}\n\n.video-card {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  overflow: hidden;\n  transition: transform 0.3s ease;\n}\n\n.video-card:hover {\n  transform: translateY(-5px);\n}\n\n.thumbnail-container {\n  position: relative;\n  aspect-ratio: 16/9;\n  cursor: pointer;\n}\n\n.thumbnail-container img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.overlay {\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.thumbnail-container:hover .overlay {\n  opacity: 1;\n}\n\n.play-button {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #ff0077;\n  border: none;\n  color: white;\n  font-size: 1.2rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.play-button:hover {\n  transform: scale(1.1);\n  background: #d10063;\n}\n\n.video-info {\n  padding: 1rem;\n}\n\n.video-title {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #fff;\n  margin-bottom: 0.5rem;\n}\n\n.video-meta {\n  font-size: 0.9rem;\n  color: rgba(255, 255, 255, 0.7);\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.dot {\n  font-size: 0.5rem;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 0.75rem;\n}\n\n.watch-now,\n.remove-button {\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  border: none;\n  font-size: 0.9rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.3s ease;\n}\n\n.watch-now {\n  background: #ff0077;\n  color: white;\n  flex: 2;\n}\n\n.watch-now:hover {\n  background: #d10063;\n}\n\n.remove-button {\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  flex: 1;\n}\n\n.remove-button:hover {\n  background: rgba(255, 0, 0, 0.2);\n}\n\n@media (max-width: 768px) {\n  .watchlist-container {\n    padding: 1rem;\n  }\n  \n  .watchlist-grid {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 1rem;\n  }\n  \n  .action-buttons {\n    flex-direction: column;\n  }\n  \n  .watch-now,\n  .remove-button {\n    width: 100%;\n    justify-content: center;\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}