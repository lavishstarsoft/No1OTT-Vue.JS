{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport axios from 'axios';\n\n// Import CSS files\nimport './assets/main.css';\n\n// Import Font Awesome\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\n// ==== APP VERSIONING & CACHE CLEAR LOGIC ====\nconst APP_VERSION = '1.0.8'; // Change this on every new deployment\nconst cachedVersion = localStorage.getItem('app_version');\n\n// Only clear cache if version is different AND user is not authenticated\nconst isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\nconst hasUser = localStorage.getItem('user');\nif (cachedVersion !== APP_VERSION && !isAuthenticated && !hasUser) {\n  console.log('App version changed, clearing cache for non-authenticated user');\n  localStorage.clear();\n  sessionStorage.clear();\n  localStorage.setItem('app_version', APP_VERSION);\n  // Only redirect if not already on login page\n  if (window.location.pathname !== '/login') {\n    window.location.href = '/login';\n  }\n} else if (cachedVersion !== APP_VERSION) {\n  // Just update version without clearing data for authenticated users\n  localStorage.setItem('app_version', APP_VERSION);\n  console.log('App version updated, keeping user data');\n}\n\n// Configure axios\naxios.defaults.baseURL = 'http://192.168.0.128:8001/';\naxios.defaults.withCredentials = true;\nconst app = createApp(App);\n\n// Use Vuex store and router\napp.use(store);\napp.use(router);\napp.mount('#app');","map":{"version":3,"names":["createApp","App","router","store","axios","APP_VERSION","cachedVersion","localStorage","getItem","isAuthenticated","hasUser","console","log","clear","sessionStorage","setItem","window","location","pathname","href","defaults","baseURL","withCredentials","app","use","mount"],"sources":["D:/OTT/ott_frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport axios from 'axios'\n\n// Import CSS files\nimport './assets/main.css'\n\n// Import Font Awesome\nimport '@fortawesome/fontawesome-free/css/all.min.css'\n\n// ==== APP VERSIONING & CACHE CLEAR LOGIC ====\nconst APP_VERSION = '1.0.8'; // Change this on every new deployment\nconst cachedVersion = localStorage.getItem('app_version');\n\n// Only clear cache if version is different AND user is not authenticated\nconst isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\nconst hasUser = localStorage.getItem('user');\n\nif (cachedVersion !== APP_VERSION && !isAuthenticated && !hasUser) {\n  console.log('App version changed, clearing cache for non-authenticated user');\n  localStorage.clear();\n  sessionStorage.clear();\n  localStorage.setItem('app_version', APP_VERSION);\n  // Only redirect if not already on login page\n  if (window.location.pathname !== '/login') {\n    window.location.href = '/login';\n  }\n} else if (cachedVersion !== APP_VERSION) {\n  // Just update version without clearing data for authenticated users\n  localStorage.setItem('app_version', APP_VERSION);\n  console.log('App version updated, keeping user data');\n}\n\n// Configure axios\naxios.defaults.baseURL = 'http://192.168.0.128:8001/'\naxios.defaults.withCredentials = true\n\nconst app = createApp(App)\n\n// Use Vuex store and router\napp.use(store)\napp.use(router)\n\napp.mount('#app')\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,mBAAmB;;AAE1B;AACA,OAAO,+CAA+C;;AAEtD;AACA,MAAMC,WAAW,GAAG,OAAO,CAAC,CAAC;AAC7B,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;;AAEzD;AACA,MAAMC,eAAe,GAAGF,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,KAAK,MAAM;AAC1E,MAAME,OAAO,GAAGH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;AAE5C,IAAIF,aAAa,KAAKD,WAAW,IAAI,CAACI,eAAe,IAAI,CAACC,OAAO,EAAE;EACjEC,OAAO,CAACC,GAAG,CAAC,gEAAgE,CAAC;EAC7EL,YAAY,CAACM,KAAK,CAAC,CAAC;EACpBC,cAAc,CAACD,KAAK,CAAC,CAAC;EACtBN,YAAY,CAACQ,OAAO,CAAC,aAAa,EAAEV,WAAW,CAAC;EAChD;EACA,IAAIW,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,QAAQ,EAAE;IACzCF,MAAM,CAACC,QAAQ,CAACE,IAAI,GAAG,QAAQ;EACjC;AACF,CAAC,MAAM,IAAIb,aAAa,KAAKD,WAAW,EAAE;EACxC;EACAE,YAAY,CAACQ,OAAO,CAAC,aAAa,EAAEV,WAAW,CAAC;EAChDM,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;AACvD;;AAEA;AACAR,KAAK,CAACgB,QAAQ,CAACC,OAAO,GAAG,4BAA4B;AACrDjB,KAAK,CAACgB,QAAQ,CAACE,eAAe,GAAG,IAAI;AAErC,MAAMC,GAAG,GAAGvB,SAAS,CAACC,GAAG,CAAC;;AAE1B;AACAsB,GAAG,CAACC,GAAG,CAACrB,KAAK,CAAC;AACdoB,GAAG,CAACC,GAAG,CAACtB,MAAM,CAAC;AAEfqB,GAAG,CAACE,KAAK,CAAC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}