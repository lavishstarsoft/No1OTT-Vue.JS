{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport axios from 'axios';\n\n// Import CSS files\nimport './assets/main.css';\n\n// Import Font Awesome\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\n// ==== APP VERSIONING & CACHE CLEAR LOGIC ====\nconst APP_VERSION = '1.0.11'; // Change this on every new deployment\nconst cachedVersion = localStorage.getItem('app_version');\n\n// Clear cache and logout all users if version is different\nif (cachedVersion !== APP_VERSION) {\n  console.log('App version changed, clearing all data and logging out users');\n\n  // Store the new version first\n  localStorage.setItem('app_version', APP_VERSION);\n\n  // Clear all storage\n  localStorage.clear();\n  sessionStorage.clear();\n\n  // Set the version again after clearing\n  localStorage.setItem('app_version', APP_VERSION);\n\n  // Clear Vuex store if available\n  if (store && store.dispatch) {\n    store.dispatch('logout');\n  }\n\n  // Force reload and redirect to login\n  if (window.location.pathname !== '/login') {\n    window.location.href = '/login';\n  } else {\n    window.location.reload();\n  }\n}\n\n// Configure axios\naxios.defaults.baseURL = 'https://admin.no1ott.com/';\naxios.defaults.withCredentials = true;\nconst app = createApp(App);\n\n// Use Vuex store and router\napp.use(store);\napp.use(router);\napp.mount('#app');","map":{"version":3,"names":["createApp","App","router","store","axios","APP_VERSION","cachedVersion","localStorage","getItem","console","log","setItem","clear","sessionStorage","dispatch","window","location","pathname","href","reload","defaults","baseURL","withCredentials","app","use","mount"],"sources":["D:/OTT/ott_frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport axios from 'axios'\n\n// Import CSS files\nimport './assets/main.css'\n\n// Import Font Awesome\nimport '@fortawesome/fontawesome-free/css/all.min.css'\n\n// ==== APP VERSIONING & CACHE CLEAR LOGIC ====\nconst APP_VERSION = '1.0.11'; // Change this on every new deployment\nconst cachedVersion = localStorage.getItem('app_version');\n\n// Clear cache and logout all users if version is different\nif (cachedVersion !== APP_VERSION) {\n  console.log('App version changed, clearing all data and logging out users');\n  \n  // Store the new version first\n  localStorage.setItem('app_version', APP_VERSION);\n  \n  // Clear all storage\n  localStorage.clear();\n  sessionStorage.clear();\n  \n  // Set the version again after clearing\n  localStorage.setItem('app_version', APP_VERSION);\n  \n  // Clear Vuex store if available\n  if (store && store.dispatch) {\n    store.dispatch('logout');\n  }\n  \n  // Force reload and redirect to login\n  if (window.location.pathname !== '/login') {\n    window.location.href = '/login';\n  } else {\n    window.location.reload();\n  }\n}\n\n// Configure axios\naxios.defaults.baseURL = 'https://admin.no1ott.com/'\naxios.defaults.withCredentials = true\n\nconst app = createApp(App)\n\n// Use Vuex store and router\napp.use(store)\napp.use(router)\n\napp.mount('#app')\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,mBAAmB;;AAE1B;AACA,OAAO,+CAA+C;;AAEtD;AACA,MAAMC,WAAW,GAAG,QAAQ,CAAC,CAAC;AAC9B,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;;AAEzD;AACA,IAAIF,aAAa,KAAKD,WAAW,EAAE;EACjCI,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAC;;EAE3E;EACAH,YAAY,CAACI,OAAO,CAAC,aAAa,EAAEN,WAAW,CAAC;;EAEhD;EACAE,YAAY,CAACK,KAAK,CAAC,CAAC;EACpBC,cAAc,CAACD,KAAK,CAAC,CAAC;;EAEtB;EACAL,YAAY,CAACI,OAAO,CAAC,aAAa,EAAEN,WAAW,CAAC;;EAEhD;EACA,IAAIF,KAAK,IAAIA,KAAK,CAACW,QAAQ,EAAE;IAC3BX,KAAK,CAACW,QAAQ,CAAC,QAAQ,CAAC;EAC1B;;EAEA;EACA,IAAIC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,QAAQ,EAAE;IACzCF,MAAM,CAACC,QAAQ,CAACE,IAAI,GAAG,QAAQ;EACjC,CAAC,MAAM;IACLH,MAAM,CAACC,QAAQ,CAACG,MAAM,CAAC,CAAC;EAC1B;AACF;;AAEA;AACAf,KAAK,CAACgB,QAAQ,CAACC,OAAO,GAAG,2BAA2B;AACpDjB,KAAK,CAACgB,QAAQ,CAACE,eAAe,GAAG,IAAI;AAErC,MAAMC,GAAG,GAAGvB,SAAS,CAACC,GAAG,CAAC;;AAE1B;AACAsB,GAAG,CAACC,GAAG,CAACrB,KAAK,CAAC;AACdoB,GAAG,CAACC,GAAG,CAACtB,MAAM,CAAC;AAEfqB,GAAG,CAACE,KAAK,CAAC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}