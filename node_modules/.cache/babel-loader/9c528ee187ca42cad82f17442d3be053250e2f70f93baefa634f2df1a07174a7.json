{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-[#121212] text-white p-6\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-4xl mx-auto\"\n};\nconst _hoisted_3 = {\n  class: \"bg-white/10 rounded-lg p-6 mb-6\"\n};\nconst _hoisted_4 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\"\n};\nconst _hoisted_5 = {\n  class: \"bg-white/5 p-4 rounded\"\n};\nconst _hoisted_6 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_7 = {\n  class: \"bg-white/5 p-4 rounded\"\n};\nconst _hoisted_8 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_9 = {\n  class: \"flex flex-wrap gap-4\"\n};\nconst _hoisted_10 = {\n  class: \"bg-white/10 rounded-lg p-6\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AdvancedVideoPlayer = _resolveComponent(\"AdvancedVideoPlayer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"h1\", {\n    class: \"text-3xl font-bold mb-6\"\n  }, \"Video Tracking Test\", -1)), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-4\"\n  }, \"Test Video Tracking Functions\", -1)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", {\n    class: \"font-bold mb-2\"\n  }, \"Format View Count\", -1)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", null, \"1500 views: \" + _toDisplayString($setup.formatViews(1500)), 1), _createElementVNode(\"div\", null, \"1500000 views: \" + _toDisplayString($setup.formatViews(1500000)), 1), _createElementVNode(\"div\", null, \"500 views: \" + _toDisplayString($setup.formatViews(500)), 1)])]), _createElementVNode(\"div\", _hoisted_7, [_cache[5] || (_cache[5] = _createElementVNode(\"h3\", {\n    class: \"font-bold mb-2\"\n  }, \"Tracking Status\", -1)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", null, \"Tracking Result: \" + _toDisplayString($setup.trackingResult || 'Not tested yet'), 1), _createElementVNode(\"div\", null, \"Completion Result: \" + _toDisplayString($setup.completionResult || 'Not tested yet'), 1)])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.testTracking && $setup.testTracking(...args)),\n    class: \"bg-[#e50914] hover:bg-[#f40612] text-white px-4 py-2 rounded transition-colors\"\n  }, \" Test View Tracking \"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.testCompletion && $setup.testCompletion(...args)),\n    class: \"bg-[#0071eb] hover:bg-[#0066d4] text-white px-4 py-2 rounded transition-colors\"\n  }, \" Test Completion Tracking \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.testAll && $setup.testAll(...args)),\n    class: \"bg-[#00b849] hover:bg-[#00a041] text-white px-4 py-2 rounded transition-colors\"\n  }, \" Test All Functions \")])]), _createElementVNode(\"div\", _hoisted_10, [_cache[7] || (_cache[7] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-4\"\n  }, \"Test Video Player\", -1)), _cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    class: \"mb-4\"\n  }, \"Use the video player below to test automatic view tracking:\", -1)), $setup.showPlayer ? (_openBlock(), _createBlock(_component_AdvancedVideoPlayer, {\n    key: 0,\n    src: $setup.testVideoUrl,\n    title: $setup.testVideoTitle,\n    \"video-id\": $setup.testVideoId,\n    autoplay: false\n  }, null, 8, [\"src\", \"title\", \"video-id\"])) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.togglePlayer && $setup.togglePlayer(...args)),\n    class: \"mt-4 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded transition-colors\"\n  }, _toDisplayString($setup.showPlayer ? 'Hide Player' : 'Show Player'), 1)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","$setup","formatViews","_hoisted_7","_hoisted_8","trackingResult","completionResult","_hoisted_9","onClick","_cache","args","testTracking","testCompletion","testAll","_hoisted_10","showPlayer","_createBlock","_component_AdvancedVideoPlayer","src","testVideoUrl","title","testVideoTitle","testVideoId","autoplay","togglePlayer"],"sources":["/Users/saisudhakarmanchala/Documents/No1OTT/ott_frontend_mpd/src/views/TestVideoTracking.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-[#121212] text-white p-6\">\r\n    <div class=\"max-w-4xl mx-auto\">\r\n      <h1 class=\"text-3xl font-bold mb-6\">Video Tracking Test</h1>\r\n      \r\n      <div class=\"bg-white/10 rounded-lg p-6 mb-6\">\r\n        <h2 class=\"text-xl font-bold mb-4\">Test Video Tracking Functions</h2>\r\n        \r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <div class=\"bg-white/5 p-4 rounded\">\r\n            <h3 class=\"font-bold mb-2\">Format View Count</h3>\r\n            <div class=\"space-y-2\">\r\n              <div>1500 views: {{ formatViews(1500) }}</div>\r\n              <div>1500000 views: {{ formatViews(1500000) }}</div>\r\n              <div>500 views: {{ formatViews(500) }}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"bg-white/5 p-4 rounded\">\r\n            <h3 class=\"font-bold mb-2\">Tracking Status</h3>\r\n            <div class=\"space-y-2\">\r\n              <div>Tracking Result: {{ trackingResult || 'Not tested yet' }}</div>\r\n              <div>Completion Result: {{ completionResult || 'Not tested yet' }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"flex flex-wrap gap-4\">\r\n          <button \r\n            @click=\"testTracking\"\r\n            class=\"bg-[#e50914] hover:bg-[#f40612] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Test View Tracking\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"testCompletion\"\r\n            class=\"bg-[#0071eb] hover:bg-[#0066d4] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Test Completion Tracking\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"testAll\"\r\n            class=\"bg-[#00b849] hover:bg-[#00a041] text-white px-4 py-2 rounded transition-colors\"\r\n          >\r\n            Test All Functions\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"bg-white/10 rounded-lg p-6\">\r\n        <h2 class=\"text-xl font-bold mb-4\">Test Video Player</h2>\r\n        <p class=\"mb-4\">Use the video player below to test automatic view tracking:</p>\r\n        \r\n        <AdvancedVideoPlayer\r\n          v-if=\"showPlayer\"\r\n          :src=\"testVideoUrl\"\r\n          :title=\"testVideoTitle\"\r\n          :video-id=\"testVideoId\"\r\n          :autoplay=\"false\"\r\n        />\r\n        \r\n        <button \r\n          @click=\"togglePlayer\"\r\n          class=\"mt-4 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded transition-colors\"\r\n        >\r\n          {{ showPlayer ? 'Hide Player' : 'Show Player' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { trackVideoView, trackVideoCompletion, formatViewCount } from '@/utils/videoTracking';\r\nimport AdvancedVideoPlayer from '@/components/AdvancedVideoPlayer.vue';\r\n\r\nexport default {\r\n  name: 'TestVideoTracking',\r\n  components: {\r\n    AdvancedVideoPlayer\r\n  },\r\n  setup() {\r\n    const trackingResult = ref(null);\r\n    const completionResult = ref(null);\r\n    const showPlayer = ref(false);\r\n    \r\n    // Test video data\r\n    const testVideoId = 1;\r\n    const testVideoUrl = 'https://noonenews.s3.ap-south-1.amazonaws.com/videos/hls/7/hls/master.m3u8';\r\n    const testVideoTitle = 'Test Video for Tracking';\r\n    \r\n    const formatViews = (views) => {\r\n      return formatViewCount(views);\r\n    };\r\n    \r\n    const testTracking = async () => {\r\n      try {\r\n        const result = await trackVideoView(testVideoId, { \r\n          watchDuration: 30, \r\n          isCompleted: false \r\n        });\r\n        trackingResult.value = result ? 'Success' : 'No response';\r\n        console.log('Tracking result:', result);\r\n      } catch (error) {\r\n        trackingResult.value = `Error: ${error.message}`;\r\n        console.error('Tracking error:', error);\r\n      }\r\n    };\r\n    \r\n    const testCompletion = async () => {\r\n      try {\r\n        const result = await trackVideoCompletion(testVideoId);\r\n        completionResult.value = result ? 'Success' : 'No response';\r\n        console.log('Completion result:', result);\r\n      } catch (error) {\r\n        completionResult.value = `Error: ${error.message}`;\r\n        console.error('Completion error:', error);\r\n      }\r\n    };\r\n    \r\n    const testAll = async () => {\r\n      await testTracking();\r\n      await testCompletion();\r\n    };\r\n    \r\n    const togglePlayer = () => {\r\n      showPlayer.value = !showPlayer.value;\r\n    };\r\n    \r\n    return {\r\n      trackingResult,\r\n      completionResult,\r\n      showPlayer,\r\n      testVideoId,\r\n      testVideoUrl,\r\n      testVideoTitle,\r\n      formatViews,\r\n      testTracking,\r\n      testCompletion,\r\n      testAll,\r\n      togglePlayer\r\n    };\r\n  }\r\n};\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}