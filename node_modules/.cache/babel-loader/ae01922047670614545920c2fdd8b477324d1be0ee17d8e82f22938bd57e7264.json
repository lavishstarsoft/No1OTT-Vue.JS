{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"fixed inset-0 bg-black/95 z-50 flex flex-col overflow-y-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex justify-between items-center p-6\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"px-6 py-4 border-b border-white/10\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center gap-4\"\n};\nconst _hoisted_5 = {\n  class: \"w-16 h-16 rounded-full bg-gradient-to-r from-[#c30059] to-[#ff4d4d] flex items-center justify-center text-white\"\n};\nconst _hoisted_6 = {\n  class: \"text-2xl font-semibold\"\n};\nconst _hoisted_7 = {\n  class: \"text-xl font-semibold text-white\"\n};\nconst _hoisted_8 = {\n  class: \"text-white/60\"\n};\nconst _hoisted_9 = {\n  class: \"flex-1 px-6 py-4\"\n};\nconst _hoisted_10 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  href: \"#\",\n  class: \"flex items-center gap-4 text-white/80 hover:text-white group\"\n};\nconst _hoisted_12 = {\n  class: \"p-6 space-y-4 pb-24 md:pb-6\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return $props.isOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", {\n    class: \"text-4xl font-bold text-white\"\n  }, [_createTextVNode(\"MENU\"), _createElementVNode(\"span\", {\n    class: \"text-[#ff4d4d]\"\n  }, \".\")], -1)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.close && $options.close(...args)),\n    class: \"text-white/80 hover:text-white\"\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times text-2xl\"\n  }, null, -1)]))]), $options.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString($options.userInitials), 1)]), _createElementVNode(\"div\", null, [_createElementVNode(\"h2\", _hoisted_7, _toDisplayString($options.userName), 1), _createElementVNode(\"p\", _hoisted_8, _toDisplayString($options.user.phone), 1)])])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [$options.user ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/profile\",\n    class: \"flex items-center gap-4 text-white/80 hover:text-white group\",\n    onClick: $options.handleProfileClick\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createElementVNode(\"div\", {\n      class: \"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-user text-xl\"\n    })], -1), _createElementVNode(\"span\", {\n      class: \"text-lg\"\n    }, \"My Profile\", -1)])),\n    _: 1,\n    __: [6]\n  }, 8, [\"onClick\"])) : _createCommentVNode(\"\", true), $options.user ? (_openBlock(), _createElementBlock(\"a\", _hoisted_11, _cache[7] || (_cache[7] = [_createElementVNode(\"div\", {\n    class: \"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-heart text-xl\"\n  })], -1), _createElementVNode(\"span\", {\n    class: \"text-lg\"\n  }, \"My List\", -1)]))) : _createCommentVNode(\"\", true), $options.user ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 2,\n    to: \"/referral\",\n    class: \"flex items-center gap-4 text-white/80 hover:text-white group\",\n    onClick: $options.close\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createElementVNode(\"div\", {\n      class: \"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-users text-xl\"\n    })], -1), _createElementVNode(\"span\", {\n      class: \"text-lg\"\n    }, \"Referral\", -1)])),\n    _: 1,\n    __: [8]\n  }, 8, [\"onClick\"])) : _createCommentVNode(\"\", true), _createVNode(_component_router_link, {\n    to: \"/wallet\",\n    class: \"flex items-center gap-4 text-white/80 hover:text-white group\",\n    onClick: $options.close\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createElementVNode(\"div\", {\n      class: \"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-wallet text-xl\"\n    })], -1), _createElementVNode(\"span\", {\n      class: \"text-lg\"\n    }, \"Wallet\", -1)])),\n    _: 1,\n    __: [9]\n  }, 8, [\"onClick\"]), _cache[10] || (_cache[10] = _createStaticVNode(\"<a href=\\\"#\\\" class=\\\"flex items-center gap-4 text-white/80 hover:text-white group\\\"><div class=\\\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\\\"><i class=\\\"fas fa-headphones text-xl\\\"></i></div><span class=\\\"text-lg\\\">Help</span></a><a href=\\\"#\\\" class=\\\"flex items-center gap-4 text-white/80 hover:text-white group\\\"><div class=\\\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\\\"><i class=\\\"fas fa-gift text-xl\\\"></i></div><span class=\\\"text-lg\\\">Offers</span></a><a href=\\\"#\\\" class=\\\"flex items-center gap-4 text-white/80 hover:text-white group\\\"><div class=\\\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\\\"><i class=\\\"fas fa-file-alt text-xl\\\"></i></div><span class=\\\"text-lg\\\">Terms and Conditions</span></a>\", 3))])]), _createElementVNode(\"div\", _hoisted_12, [$options.user ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.handleLogout && $options.handleLogout(...args)),\n    class: \"w-full py-4 px-6 bg-[#1d1d1d] text-white font-semibold rounded-lg hover:bg-[#2d2d2d] transition-colors\"\n  }, \" Logout \")) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.handleSignIn && $options.handleSignIn(...args)),\n    class: \"w-full py-4 px-6 bg-[#1d1d1d] text-white font-semibold rounded-lg hover:bg-[#2d2d2d] transition-colors\"\n  }, \" Sign In \"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.handleSubscribe && $options.handleSubscribe(...args)),\n    class: \"w-full py-4 px-6 bg-[#ff4d4d] text-white font-semibold rounded-lg hover:opacity-90 transition-opacity\"\n  }, \" Subscribe Now \")], 64)), _cache[11] || (_cache[11] = _createElementVNode(\"p\", {\n    class: \"text-center text-white/40 text-sm\"\n  }, \"Version 0.1.38\", -1))])])) : _createCommentVNode(\"\", true);\n}","map":{"version":3,"names":["class","href","$props","isOpen","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","close","user","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","userInitials","_hoisted_7","userName","_hoisted_8","phone","_hoisted_9","_hoisted_10","_createBlock","_component_router_link","to","handleProfileClick","_hoisted_11","_createVNode","_hoisted_12","handleLogout","_Fragment","key","handleSignIn","handleSubscribe"],"sources":["F:\\ott_tv\\ott\\ott_frontend\\src\\components\\ProfileMenu.vue"],"sourcesContent":["<template>\n  <div \n    v-if=\"isOpen\" \n    class=\"fixed inset-0 bg-black/95 z-50 flex flex-col overflow-y-auto\"\n  >\n    <!-- Header -->\n    <div class=\"flex justify-between items-center p-6\">\n      <h1 class=\"text-4xl font-bold text-white\">MENU<span class=\"text-[#ff4d4d]\">.</span></h1>\n      <button @click=\"close\" class=\"text-white/80 hover:text-white\">\n        <i class=\"fas fa-times text-2xl\"></i>\n      </button>\n    </div>\n\n    <!-- User Profile Section (if logged in) -->\n    <div v-if=\"user\" class=\"px-6 py-4 border-b border-white/10\">\n      <div class=\"flex items-center gap-4\">\n        <div class=\"w-16 h-16 rounded-full bg-gradient-to-r from-[#c30059] to-[#ff4d4d] flex items-center justify-center text-white\">\n          <span class=\"text-2xl font-semibold\">{{ userInitials }}</span>\n        </div>\n        <div>\n          <h2 class=\"text-xl font-semibold text-white\">{{ userName }}</h2>\n          <p class=\"text-white/60\">{{ user.phone }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Menu Items -->\n    <div class=\"flex-1 px-6 py-4\">\n      <div class=\"space-y-6\">\n        <!-- My Profile (if logged in) -->\n        <router-link \n          v-if=\"user\" \n          to=\"/profile\" \n          class=\"flex items-center gap-4 text-white/80 hover:text-white group\"\n          @click=\"handleProfileClick\"\n        >\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-user text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">My Profile</span>\n        </router-link>\n\n        <!-- My List (if logged in) -->\n        <a v-if=\"user\" href=\"#\" class=\"flex items-center gap-4 text-white/80 hover:text-white group\">\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-heart text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">My List</span>\n        </a>\n\n         <!-- My List (if logged in) -->\n         <router-link \n          v-if=\"user\" \n          to=\"/referral\" \n          class=\"flex items-center gap-4 text-white/80 hover:text-white group\"\n          @click=\"close\"\n        >\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-users text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">Referral</span>\n        </router-link>\n\n        <!-- Wallet -->\n        <router-link \n          to=\"/wallet\" \n          class=\"flex items-center gap-4 text-white/80 hover:text-white group\"\n          @click=\"close\"\n        >\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-wallet text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">Wallet</span>\n        </router-link>\n\n        <!-- Help -->\n        <a href=\"#\" class=\"flex items-center gap-4 text-white/80 hover:text-white group\">\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-headphones text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">Help</span>\n        </a>\n\n        <!-- Offers -->\n        <a href=\"#\" class=\"flex items-center gap-4 text-white/80 hover:text-white group\">\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-gift text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">Offers</span>\n        </a>\n\n        <!-- Terms and Conditions -->\n        <a href=\"#\" class=\"flex items-center gap-4 text-white/80 hover:text-white group\">\n          <div class=\"w-8 h-8 flex items-center justify-center text-[#ff4d4d]\">\n            <i class=\"fas fa-file-alt text-xl\"></i>\n          </div>\n          <span class=\"text-lg\">Terms and Conditions</span>\n        </a>\n      </div>\n    </div>\n\n    <!-- Bottom Actions -->\n    <div class=\"p-6 space-y-4 pb-24 md:pb-6\">\n      <template v-if=\"user\">\n        <button \n          @click=\"handleLogout\"\n          class=\"w-full py-4 px-6 bg-[#1d1d1d] text-white font-semibold rounded-lg hover:bg-[#2d2d2d] transition-colors\"\n        >\n          Logout\n        </button>\n      </template>\n      <template v-else>\n        <button \n          @click=\"handleSignIn\"\n          class=\"w-full py-4 px-6 bg-[#1d1d1d] text-white font-semibold rounded-lg hover:bg-[#2d2d2d] transition-colors\"\n        >\n          Sign In\n        </button>\n        <button \n          @click=\"handleSubscribe\"\n          class=\"w-full py-4 px-6 bg-[#ff4d4d] text-white font-semibold rounded-lg hover:opacity-90 transition-opacity\"\n        >\n          Subscribe Now\n        </button>\n      </template>\n      <p class=\"text-center text-white/40 text-sm\">Version 0.1.38</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { handleLogout } from '../utils/auth';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'ProfileMenu',\n  props: {\n    isOpen: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    ...mapGetters(['currentUser']),\n    user() {\n      return this.currentUser;\n    },\n    userInitials() {\n      if (!this.user) return '';\n      const firstName = this.user.first_name || '';\n      const lastName = this.user.last_name || '';\n      return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase() || this.user.phone.slice(0, 2);\n    },\n    userName() {\n      if (!this.user) return '';\n      if (this.user.first_name || this.user.last_name) {\n        return `${this.user.first_name || ''} ${this.user.last_name || ''}`.trim();\n      }\n      return this.user.phone;\n    }\n  },\n  watch: {\n    isOpen(newVal) {\n      if (newVal) {\n        // Refresh store data when menu is opened\n        this.$store.dispatch('initializeStore');\n      }\n    }\n  },\n  methods: {\n    close() {\n      this.$emit('close')\n    },\n    handleProfileClick() {\n      this.close()\n      this.$nextTick(() => {\n        this.$router.push('/profile')\n      })\n    },\n    handleSignIn() {\n      this.$router.push('/login')\n      this.close()\n    },\n    handleSubscribe() {\n      this.$router.push('/plans')\n      this.close()\n    },\n    async handleLogout() {\n      try {\n        this.$emit('loading', true);\n        await handleLogout();\n        this.$store.commit('setUser', null);\n        this.$store.commit('setAuthenticated', false);\n        localStorage.removeItem('hasCompletedRegistration');\n        this.close();\n        this.$router.push('/login');\n      } catch (error) {\n        console.error('Logout failed:', error);\n        alert('Logout failed. Please try again.');\n      } finally {\n        this.$emit('loading', false);\n      }\n    }\n  }\n}\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}