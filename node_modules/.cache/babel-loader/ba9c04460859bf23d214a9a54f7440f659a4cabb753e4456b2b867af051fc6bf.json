{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gradient-to-br from-[#0a0a0a] via-[#1a1a1a] to-[#0f0f0f] text-white\"\n};\nconst _hoisted_2 = {\n  class: \"px-4 py-6\"\n};\nconst _hoisted_3 = {\n  class: \"max-w-7xl mx-auto\"\n};\nconst _hoisted_4 = {\n  class: \"px-4 py-8\"\n};\nconst _hoisted_5 = {\n  class: \"max-w-4xl mx-auto\"\n};\nconst _hoisted_6 = {\n  class: \"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl border border-white/10 p-8 max-w-2xl mx-auto\"\n};\nconst _hoisted_7 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_8 = {\n  class: \"flex gap-3\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"bg-[#0a0a0a]/50 border border-white/10 rounded-xl p-4\"\n};\nconst _hoisted_10 = {\n  class: \"flex items-center gap-3\"\n};\nconst _hoisted_11 = {\n  class: \"font-medium text-white\"\n};\nconst _hoisted_12 = {\n  class: \"text-sm text-white/60\"\n};\nconst _hoisted_13 = {\n  class: \"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4\"\n};\nconst _hoisted_14 = {\n  class: \"flex items-start gap-3\"\n};\nconst _hoisted_15 = [\"disabled\"];\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = {\n  key: 1\n};\nconst _hoisted_18 = {\n  key: 2,\n  class: \"p-4 bg-red-500/10 border border-red-500/30 rounded-xl\"\n};\nconst _hoisted_19 = {\n  class: \"flex items-center gap-2 text-red-400\"\n};\nconst _hoisted_20 = {\n  key: 3,\n  class: \"p-4 bg-green-500/10 border border-green-500/30 rounded-xl\"\n};\nconst _hoisted_21 = {\n  class: \"flex items-center gap-2 text-green-400\"\n};\nconst _hoisted_22 = {\n  key: 0,\n  class: \"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4\"\n};\nconst _hoisted_23 = {\n  class: \"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl border border-white/10 p-6 max-w-md w-full\"\n};\nconst _hoisted_24 = {\n  class: \"flex items-center justify-between mb-4\"\n};\nconst _hoisted_25 = {\n  key: 0,\n  class: \"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-xl\"\n};\nconst _hoisted_26 = {\n  class: \"text-red-400 text-sm\"\n};\nconst _hoisted_27 = {\n  class: \"flex gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"flex items-center gap-3 text-white/80 hover:text-white transition-colors group\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createElementVNode(\"div\", {\n      class: \"w-10 h-10 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-arrow-left text-lg\"\n    })], -1 /* HOISTED */), _createElementVNode(\"span\", {\n      class: \"font-medium\"\n    }, \"Back to Home\", -1 /* HOISTED */)])),\n    _: 1 /* STABLE */,\n    __: [7]\n  })])]), _createCommentVNode(\" Main Content \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"text-center mb-12\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"text-4xl md:text-5xl font-bold mb-4\"\n  }, [_createTextVNode(\" Activate Your \"), _createElementVNode(\"span\", {\n    class: \"text-[#c30059]\"\n  }, \"TV Device\")]), _createElementVNode(\"p\", {\n    class: \"text-lg text-white/70 max-w-2xl mx-auto\"\n  }, \" Enter the activation code displayed on your TV screen to link your device to your account \")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" Activation Form \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-white/80 mb-3\"\n  }, \"Activation Code\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.activationCode = $event),\n    type: \"text\",\n    class: \"flex-1 bg-[#0a0a0a] border border-white/10 rounded-xl h-14 px-4 text-white text-lg font-mono tracking-wider focus:border-[#c30059] focus:outline-none focus:ring-2 focus:ring-[#c30059]/20 transition-all uppercase placeholder-white/40 text-center\",\n    placeholder: \"ENTER CODE\",\n    maxlength: \"8\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $setup.formatCode && $setup.formatCode(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.activationCode]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.openQRScanner && $setup.openQRScanner(...args)),\n    type: \"button\",\n    class: \"px-6 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] text-white font-medium rounded-xl hover:shadow-lg hover:shadow-[#c30059]/25 transition-all duration-300 flex items-center justify-center gap-2\",\n    title: \"Scan QR Code\"\n  }, _cache[8] || (_cache[8] = [_createElementVNode(\"i\", {\n    class: \"fas fa-qrcode text-xl\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"span\", {\n    class: \"hidden sm:inline\"\n  }, \"Scan QR\", -1 /* HOISTED */)]))])]), _createCommentVNode(\" User Info (if logged in) \"), $setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"w-10 h-10 rounded-full bg-gradient-to-r from-[#c30059] to-[#ff6b9d] flex items-center justify-center\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-user text-white\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.user.first_name) + \" \" + _toDisplayString($setup.user.last_name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($setup.user.phone), 1 /* TEXT */)])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Login Prompt (if not logged in) \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_cache[14] || (_cache[14] = _createElementVNode(\"i\", {\n    class: \"fas fa-exclamation-triangle text-amber-400 mt-0.5\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"font-medium text-amber-400 mb-1\"\n  }, \"Login Required\", -1 /* HOISTED */)), _cache[13] || (_cache[13] = _createElementVNode(\"p\", {\n    class: \"text-sm text-amber-300\"\n  }, \" You need to be logged in to activate your device. Please login or create an account. \", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"inline-block mt-3 px-4 py-2 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] text-white text-sm font-medium rounded-lg hover:shadow-lg hover:shadow-[#c30059]/25 transition-all\"\n  }, {\n    default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\" Login to Continue \")])),\n    _: 1 /* STABLE */,\n    __: [11]\n  })])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Activate Button \"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.activateDevice && $setup.activateDevice(...args)),\n    disabled: !$setup.isAuthenticated || !$setup.activationCode || $setup.activationCode.length !== 8 || $setup.isActivating,\n    class: \"w-full py-4 px-6 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] text-white font-bold rounded-xl hover:shadow-lg hover:shadow-[#c30059]/25 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none\"\n  }, [$setup.isActivating ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16, _cache[15] || (_cache[15] = [_createElementVNode(\"i\", {\n    class: \"fas fa-spinner fa-spin mr-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Activating... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_17, _cache[16] || (_cache[16] = [_createElementVNode(\"i\", {\n    class: \"fas fa-tv mr-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Activate Device \")])))], 8 /* PROPS */, _hoisted_15), _createCommentVNode(\" Error Message \"), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_cache[17] || (_cache[17] = _createElementVNode(\"i\", {\n    class: \"fas fa-exclamation-circle\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.errorMessage), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Success Message \"), $setup.successMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_cache[18] || (_cache[18] = _createElementVNode(\"i\", {\n    class: \"fas fa-check-circle\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.successMessage), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Instructions \"), _cache[20] || (_cache[20] = _createStaticVNode(\"<div class=\\\"mt-12 max-w-3xl mx-auto\\\" data-v-646cf246><h2 class=\\\"text-2xl font-bold text-center mb-8\\\" data-v-646cf246>How to Activate</h2><div class=\\\"grid grid-cols-1 md:grid-cols-3 gap-6\\\" data-v-646cf246><div class=\\\"bg-[#1a1a1a]/50 border border-white/10 rounded-2xl p-6 text-center\\\" data-v-646cf246><div class=\\\"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-2xl flex items-center justify-center\\\" data-v-646cf246><span class=\\\"text-2xl font-bold text-white\\\" data-v-646cf246>1</span></div><h3 class=\\\"text-lg font-bold mb-2\\\" data-v-646cf246>Open App on TV</h3><p class=\\\"text-white/60 text-sm\\\" data-v-646cf246> Launch the OTT TV app on your smart TV or streaming device </p></div><div class=\\\"bg-[#1a1a1a]/50 border border-white/10 rounded-2xl p-6 text-center\\\" data-v-646cf246><div class=\\\"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-2xl flex items-center justify-center\\\" data-v-646cf246><span class=\\\"text-2xl font-bold text-white\\\" data-v-646cf246>2</span></div><h3 class=\\\"text-lg font-bold mb-2\\\" data-v-646cf246>Get Activation Code</h3><p class=\\\"text-white/60 text-sm\\\" data-v-646cf246> Note the 8-character code displayed on your TV screen </p></div><div class=\\\"bg-[#1a1a1a]/50 border border-white/10 rounded-2xl p-6 text-center\\\" data-v-646cf246><div class=\\\"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-2xl flex items-center justify-center\\\" data-v-646cf246><span class=\\\"text-2xl font-bold text-white\\\" data-v-646cf246>3</span></div><h3 class=\\\"text-lg font-bold mb-2\\\" data-v-646cf246>Enter Code Here</h3><p class=\\\"text-white/60 text-sm\\\" data-v-646cf246> Type the code above and click Activate Device </p></div></div></div>\", 1))])]), _createCommentVNode(\" QR Scanner Modal \"), $setup.showQRScanner ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_cache[22] || (_cache[22] = _createElementVNode(\"h3\", {\n    class: \"text-xl font-bold text-white\"\n  }, \"Scan QR Code\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $setup.closeQRScanner && $setup.closeQRScanner(...args)),\n    class: \"text-white/60 hover:text-white transition-colors\"\n  }, _cache[21] || (_cache[21] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times text-2xl\"\n  }, null, -1 /* HOISTED */)]))]), _cache[23] || (_cache[23] = _createElementVNode(\"div\", {\n    class: \"mb-4\"\n  }, [_createElementVNode(\"div\", {\n    id: \"qr-reader\",\n    class: \"w-full rounded-xl overflow-hidden\"\n  })], -1 /* HOISTED */)), $setup.qrScannerError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"p\", _hoisted_26, _toDisplayString($setup.qrScannerError), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $setup.closeQRScanner && $setup.closeQRScanner(...args)),\n    class: \"flex-1 py-3 px-4 bg-white/10 text-white font-medium rounded-xl hover:bg-white/20 transition-all\"\n  }, \" Cancel \"), $setup.isScanning ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.stopQRScanner && $setup.stopQRScanner(...args)),\n    class: \"flex-1 py-3 px-4 bg-red-500/20 text-red-400 font-medium rounded-xl hover:bg-red-500/30 transition-all\"\n  }, \" Stop Scanner \")) : _createCommentVNode(\"v-if\", true)])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","_cache","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$setup","activationCode","$event","type","placeholder","maxlength","onInput","args","formatCode","onClick","openQRScanner","title","isAuthenticated","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","user","first_name","last_name","_hoisted_12","phone","_Fragment","key","_hoisted_13","_hoisted_14","activateDevice","disabled","length","isActivating","_hoisted_16","_hoisted_17","errorMessage","_hoisted_18","_hoisted_19","successMessage","_hoisted_20","_hoisted_21","showQRScanner","_hoisted_22","_hoisted_23","_hoisted_24","closeQRScanner","id","qrScannerError","_hoisted_25","_hoisted_26","_hoisted_27","isScanning","stopQRScanner"],"sources":["F:\\ott_tv\\ott\\ott_frontend\\src\\views\\DeviceActivation.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-[#0a0a0a] via-[#1a1a1a] to-[#0f0f0f] text-white\">\r\n    <!-- Header -->\r\n    <div class=\"px-4 py-6\">\r\n      <div class=\"max-w-7xl mx-auto\">\r\n        <router-link to=\"/\" class=\"flex items-center gap-3 text-white/80 hover:text-white transition-colors group\">\r\n          <div class=\"w-10 h-10 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform\">\r\n            <i class=\"fas fa-arrow-left text-lg\"></i>\r\n          </div>\r\n          <span class=\"font-medium\">Back to Home</span>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div class=\"px-4 py-8\">\r\n      <div class=\"max-w-4xl mx-auto\">\r\n        <div class=\"text-center mb-12\">\r\n          <h1 class=\"text-4xl md:text-5xl font-bold mb-4\">\r\n            Activate Your <span class=\"text-[#c30059]\">TV Device</span>\r\n          </h1>\r\n          <p class=\"text-lg text-white/70 max-w-2xl mx-auto\">\r\n            Enter the activation code displayed on your TV screen to link your device to your account\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl border border-white/10 p-8 max-w-2xl mx-auto\">\r\n          <!-- Activation Form -->\r\n          <div class=\"space-y-6\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-white/80 mb-3\">Activation Code</label>\r\n              <div class=\"flex gap-3\">\r\n                <input \r\n                  v-model=\"activationCode\"\r\n                  type=\"text\"\r\n                  class=\"flex-1 bg-[#0a0a0a] border border-white/10 rounded-xl h-14 px-4 text-white text-lg font-mono tracking-wider focus:border-[#c30059] focus:outline-none focus:ring-2 focus:ring-[#c30059]/20 transition-all uppercase placeholder-white/40 text-center\"\r\n                  placeholder=\"ENTER CODE\"\r\n                  maxlength=\"8\"\r\n                  @input=\"formatCode\"\r\n                />\r\n                <button\r\n                  @click=\"openQRScanner\"\r\n                  type=\"button\"\r\n                  class=\"px-6 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] text-white font-medium rounded-xl hover:shadow-lg hover:shadow-[#c30059]/25 transition-all duration-300 flex items-center justify-center gap-2\"\r\n                  title=\"Scan QR Code\"\r\n                >\r\n                  <i class=\"fas fa-qrcode text-xl\"></i>\r\n                  <span class=\"hidden sm:inline\">Scan QR</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- User Info (if logged in) -->\r\n            <div v-if=\"isAuthenticated\" class=\"bg-[#0a0a0a]/50 border border-white/10 rounded-xl p-4\">\r\n              <div class=\"flex items-center gap-3\">\r\n                <div class=\"w-10 h-10 rounded-full bg-gradient-to-r from-[#c30059] to-[#ff6b9d] flex items-center justify-center\">\r\n                  <i class=\"fas fa-user text-white\"></i>\r\n                </div>\r\n                <div>\r\n                  <div class=\"font-medium text-white\">{{ user.first_name }} {{ user.last_name }}</div>\r\n                  <div class=\"text-sm text-white/60\">{{ user.phone }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Login Prompt (if not logged in) -->\r\n            <div v-else class=\"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4\">\r\n              <div class=\"flex items-start gap-3\">\r\n                <i class=\"fas fa-exclamation-triangle text-amber-400 mt-0.5\"></i>\r\n                <div>\r\n                  <div class=\"font-medium text-amber-400 mb-1\">Login Required</div>\r\n                  <p class=\"text-sm text-amber-300\">\r\n                    You need to be logged in to activate your device. Please login or create an account.\r\n                  </p>\r\n                  <router-link \r\n                    to=\"/login\" \r\n                    class=\"inline-block mt-3 px-4 py-2 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] text-white text-sm font-medium rounded-lg hover:shadow-lg hover:shadow-[#c30059]/25 transition-all\"\r\n                  >\r\n                    Login to Continue\r\n                  </router-link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Activate Button -->\r\n            <button \r\n              @click=\"activateDevice\"\r\n              :disabled=\"!isAuthenticated || !activationCode || activationCode.length !== 8 || isActivating\"\r\n              class=\"w-full py-4 px-6 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] text-white font-bold rounded-xl hover:shadow-lg hover:shadow-[#c30059]/25 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none\"\r\n            >\r\n              <span v-if=\"isActivating\">\r\n                <i class=\"fas fa-spinner fa-spin mr-2\"></i>\r\n                Activating...\r\n              </span>\r\n              <span v-else>\r\n                <i class=\"fas fa-tv mr-2\"></i>\r\n                Activate Device\r\n              </span>\r\n            </button>\r\n\r\n            <!-- Error Message -->\r\n            <div v-if=\"errorMessage\" class=\"p-4 bg-red-500/10 border border-red-500/30 rounded-xl\">\r\n              <div class=\"flex items-center gap-2 text-red-400\">\r\n                <i class=\"fas fa-exclamation-circle\"></i>\r\n                <span>{{ errorMessage }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Success Message -->\r\n            <div v-if=\"successMessage\" class=\"p-4 bg-green-500/10 border border-green-500/30 rounded-xl\">\r\n              <div class=\"flex items-center gap-2 text-green-400\">\r\n                <i class=\"fas fa-check-circle\"></i>\r\n                <span>{{ successMessage }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Instructions -->\r\n        <div class=\"mt-12 max-w-3xl mx-auto\">\r\n          <h2 class=\"text-2xl font-bold text-center mb-8\">How to Activate</h2>\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div class=\"bg-[#1a1a1a]/50 border border-white/10 rounded-2xl p-6 text-center\">\r\n              <div class=\"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-2xl flex items-center justify-center\">\r\n                <span class=\"text-2xl font-bold text-white\">1</span>\r\n              </div>\r\n              <h3 class=\"text-lg font-bold mb-2\">Open App on TV</h3>\r\n              <p class=\"text-white/60 text-sm\">\r\n                Launch the OTT TV app on your smart TV or streaming device\r\n              </p>\r\n            </div>\r\n            \r\n            <div class=\"bg-[#1a1a1a]/50 border border-white/10 rounded-2xl p-6 text-center\">\r\n              <div class=\"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-2xl flex items-center justify-center\">\r\n                <span class=\"text-2xl font-bold text-white\">2</span>\r\n              </div>\r\n              <h3 class=\"text-lg font-bold mb-2\">Get Activation Code</h3>\r\n              <p class=\"text-white/60 text-sm\">\r\n                Note the 8-character code displayed on your TV screen\r\n              </p>\r\n            </div>\r\n            \r\n            <div class=\"bg-[#1a1a1a]/50 border border-white/10 rounded-2xl p-6 text-center\">\r\n              <div class=\"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-[#c30059] to-[#ff6b9d] rounded-2xl flex items-center justify-center\">\r\n                <span class=\"text-2xl font-bold text-white\">3</span>\r\n              </div>\r\n              <h3 class=\"text-lg font-bold mb-2\">Enter Code Here</h3>\r\n              <p class=\"text-white/60 text-sm\">\r\n                Type the code above and click Activate Device\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- QR Scanner Modal -->\r\n    <div v-if=\"showQRScanner\" class=\"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4\">\r\n      <div class=\"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl border border-white/10 p-6 max-w-md w-full\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h3 class=\"text-xl font-bold text-white\">Scan QR Code</h3>\r\n          <button\r\n            @click=\"closeQRScanner\"\r\n            class=\"text-white/60 hover:text-white transition-colors\"\r\n          >\r\n            <i class=\"fas fa-times text-2xl\"></i>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"mb-4\">\r\n          <div id=\"qr-reader\" class=\"w-full rounded-xl overflow-hidden\"></div>\r\n        </div>\r\n        \r\n        <div v-if=\"qrScannerError\" class=\"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-xl\">\r\n          <p class=\"text-red-400 text-sm\">{{ qrScannerError }}</p>\r\n        </div>\r\n        \r\n        <div class=\"flex gap-3\">\r\n          <button\r\n            @click=\"closeQRScanner\"\r\n            class=\"flex-1 py-3 px-4 bg-white/10 text-white font-medium rounded-xl hover:bg-white/20 transition-all\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            @click=\"stopQRScanner\"\r\n            v-if=\"isScanning\"\r\n            class=\"flex-1 py-3 px-4 bg-red-500/20 text-red-400 font-medium rounded-xl hover:bg-red-500/30 transition-all\"\r\n          >\r\n            Stop Scanner\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useStore } from 'vuex';\r\nimport { ref, computed, onMounted, onUnmounted, nextTick } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\nimport { Html5Qrcode } from 'html5-qrcode';\r\n\r\nexport default {\r\n  name: 'DeviceActivation',\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    \r\n    const activationCode = ref('');\r\n    const isActivating = ref(false);\r\n    const errorMessage = ref('');\r\n    const successMessage = ref('');\r\n    const showQRScanner = ref(false);\r\n    const isScanning = ref(false);\r\n    const qrScannerError = ref('');\r\n    let html5QrCode = null;\r\n    \r\n    // Computed properties from store\r\n    const isAuthenticated = computed(() => store.getters.isAuthenticated);\r\n    const user = computed(() => store.getters.currentUser);\r\n    const token = computed(() => store.getters.token);\r\n    \r\n    // Format activation code (uppercase, remove spaces)\r\n    const formatCode = () => {\r\n      activationCode.value = activationCode.value\r\n        .toUpperCase()\r\n        .replace(/[^A-Z0-9]/g, '')\r\n        .slice(0, 8);\r\n    };\r\n    \r\n    // Extract activation code from QR code URL or text\r\n    const extractCodeFromQR = (qrData) => {\r\n      try {\r\n        // Check if it's a URL with code parameter\r\n        const url = new URL(qrData);\r\n        const code = url.searchParams.get('code');\r\n        if (code) {\r\n          return code.toUpperCase().replace(/[^A-Z0-9]/g, '').slice(0, 8);\r\n        }\r\n      } catch (e) {\r\n        // Not a URL, might be direct code\r\n      }\r\n      \r\n      // Try to extract 8-character code from the string\r\n      const codeMatch = qrData.match(/[A-Z0-9]{8}/);\r\n      if (codeMatch) {\r\n        return codeMatch[0];\r\n      }\r\n      \r\n      // Return the string itself if it's 8 characters\r\n      const cleaned = qrData.toUpperCase().replace(/[^A-Z0-9]/g, '');\r\n      if (cleaned.length === 8) {\r\n        return cleaned;\r\n      }\r\n      \r\n      return null;\r\n    };\r\n    \r\n    // Open QR Scanner\r\n    const openQRScanner = async () => {\r\n      showQRScanner.value = true;\r\n      qrScannerError.value = '';\r\n      \r\n      // Wait for DOM to update\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n      try {\r\n        const qrCodeSuccessCallback = (decodedText) => {\r\n          console.log('QR Code scanned:', decodedText);\r\n          \r\n          const extractedCode = extractCodeFromQR(decodedText);\r\n          if (extractedCode && extractedCode.length === 8) {\r\n            activationCode.value = extractedCode;\r\n            formatCode();\r\n            stopQRScanner();\r\n            showQRScanner.value = false;\r\n            \r\n            // Show success message\r\n            store.dispatch('showToast', {\r\n              message: 'QR Code scanned successfully!',\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            qrScannerError.value = 'Invalid QR code. Please scan a valid activation code QR.';\r\n          }\r\n        };\r\n        \r\n        const qrCodeErrorCallback = (errorMessage) => {\r\n          // Ignore continuous scanning errors\r\n          if (errorMessage.includes('NotFoundException')) {\r\n            return;\r\n          }\r\n          console.log('QR Code error:', errorMessage);\r\n        };\r\n        \r\n        html5QrCode = new Html5Qrcode(\"qr-reader\");\r\n        \r\n        // Start scanning\r\n        html5QrCode.start(\r\n          { facingMode: \"environment\" }, // Use back camera\r\n          {\r\n            fps: 10,\r\n            qrbox: { width: 250, height: 250 }\r\n          },\r\n          qrCodeSuccessCallback,\r\n          qrCodeErrorCallback\r\n        ).then(() => {\r\n          isScanning.value = true;\r\n        }).catch((err) => {\r\n          console.error('Failed to start QR scanner:', err);\r\n          qrScannerError.value = 'Failed to start camera. Please check camera permissions.';\r\n          showQRScanner.value = false;\r\n        });\r\n      } catch (error) {\r\n        console.error('QR Scanner error:', error);\r\n        qrScannerError.value = 'Failed to initialize QR scanner. Please try again.';\r\n        showQRScanner.value = false;\r\n      }\r\n    };\r\n    \r\n    // Stop QR Scanner\r\n    const stopQRScanner = async () => {\r\n      if (html5QrCode && isScanning.value) {\r\n        try {\r\n          await html5QrCode.stop();\r\n          await html5QrCode.clear();\r\n          html5QrCode = null;\r\n          isScanning.value = false;\r\n        } catch (error) {\r\n          console.error('Error stopping QR scanner:', error);\r\n        }\r\n      }\r\n    };\r\n    \r\n    // Close QR Scanner\r\n    const closeQRScanner = async () => {\r\n      await stopQRScanner();\r\n      showQRScanner.value = false;\r\n      qrScannerError.value = '';\r\n    };\r\n    \r\n    // Activate device\r\n    const activateDevice = async () => {\r\n      if (!isAuthenticated.value || !activationCode.value || activationCode.value.length !== 8) {\r\n        return;\r\n      }\r\n      \r\n      isActivating.value = true;\r\n      errorMessage.value = '';\r\n      successMessage.value = '';\r\n      \r\n      try {\r\n        // Set authorization header\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token.value}`;\r\n        \r\n        // Call activation API\r\n        const response = await axios.post('/users/api/device-activation/', {\r\n          activation_code: activationCode.value,\r\n          device_id: `web_${Date.now()}`, // Generate a temporary device ID\r\n          device_name: 'Web Activation',\r\n          device_type: 'web',\r\n          phone: user.value.phone\r\n        });\r\n        \r\n        if (response.data.status === 'success') {\r\n          successMessage.value = 'Device activated successfully! Your TV should now have access to premium content.';\r\n          \r\n          // Show success toast\r\n          store.dispatch('showToast', {\r\n            message: 'Device activated successfully!',\r\n            type: 'success'\r\n          });\r\n          \r\n          // Redirect to profile after a delay\r\n          setTimeout(() => {\r\n            router.push('/profile');\r\n          }, 3000);\r\n        } else {\r\n          throw new Error(response.data.message || 'Failed to activate device');\r\n        }\r\n      } catch (error) {\r\n        console.error('Activation error:', error);\r\n        errorMessage.value = error.response?.data?.message || 'Failed to activate device. Please try again.';\r\n        \r\n        // Show error toast\r\n        store.dispatch('showToast', {\r\n          message: errorMessage.value,\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        isActivating.value = false;\r\n      }\r\n    };\r\n    \r\n    // Check for code in URL parameters\r\n    onMounted(() => {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      const code = urlParams.get('code');\r\n      if (code) {\r\n        activationCode.value = code;\r\n        formatCode();\r\n      }\r\n    });\r\n    \r\n    // Cleanup on unmount\r\n    onUnmounted(async () => {\r\n      await stopQRScanner();\r\n    });\r\n    \r\n    return {\r\n      activationCode,\r\n      isActivating,\r\n      errorMessage,\r\n      successMessage,\r\n      isAuthenticated,\r\n      user,\r\n      showQRScanner,\r\n      isScanning,\r\n      qrScannerError,\r\n      formatCode,\r\n      activateDevice,\r\n      openQRScanner,\r\n      stopQRScanner,\r\n      closeQRScanner\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* QR Scanner Styles */\r\n#qr-reader {\r\n  min-height: 300px;\r\n}\r\n\r\n#qr-reader__dashboard_section {\r\n  display: none !important;\r\n}\r\n\r\n#qr-reader__camera_selection {\r\n  display: none !important;\r\n}\r\n\r\n/* Override html5-qrcode styles for better appearance */\r\n#qr-reader__scan_region {\r\n  border: 2px solid #c30059 !important;\r\n  border-radius: 12px !important;\r\n}\r\n\r\n#qr-reader__scan_region video {\r\n  border-radius: 12px !important;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 640px) {\r\n  #qr-reader {\r\n    min-height: 250px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}