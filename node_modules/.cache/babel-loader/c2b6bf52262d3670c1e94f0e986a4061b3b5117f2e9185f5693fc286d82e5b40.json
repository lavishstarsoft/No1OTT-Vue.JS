{"ast":null,"code":"import AdvancedVideoPlayer from '@/components/AdvancedVideoPlayer.vue';\nimport AdvertisementPlayer from '@/components/AdvertisementPlayer.vue';\nimport BannerAd from '@/components/BannerAd.vue';\nexport default {\n  name: 'VideoPlayer',\n  components: {\n    AdvancedVideoPlayer,\n    AdvertisementPlayer,\n    BannerAd\n  },\n  data() {\n    return {\n      playerVisible: false,\n      showAds: false,\n      currentVideoId: null,\n      currentAdType: 'pre_roll',\n      user: null,\n      currentStream: {\n        url: '',\n        title: '',\n        type: 'hls',\n        isLive: false,\n        drmConfig: null\n      },\n      // Sample stream URLs (replace with actual URLs in production)\n      hlsStreamUrl: 'https://noonenews.s3.ap-south-1.amazonaws.com/videos/hls/7/hls/master.m3u8',\n      dashStreamUrl: 'https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd',\n      drmStreamUrl: 'https://media.axprod.net/TestVectors/v7-MultiDRM-SingleKey/Manifest.mpd',\n      // Sample DRM configuration (would need to be replaced with actual values)\n      drmConfig: {\n        servers: {\n          'com.widevine.alpha': 'https://drm-widevine-licensing.axtest.net/AcquireLicense',\n          'com.microsoft.playready': 'https://drm-playready-licensing.axtest.net/AcquireLicense'\n        },\n        // For testing with clear key (not actual DRM)\n        clearKeys: {\n          // Key ID : Key (base64)\n          'e4a2359a99d24d5797d10c86da322026': 'cb541084c99731aef4fff74500c12ead'\n        }\n      }\n    };\n  },\n  mounted() {\n    this.loadUserData();\n  },\n  methods: {\n    loadUserData() {\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        this.user = JSON.parse(userData);\n      }\n    },\n    openPlayer(type, url, title, isLive = false, drmConfig = null, videoId = null) {\n      // Set video ID for ads (you might want to get this from your actual video data)\n      this.currentVideoId = videoId || 1; // Replace with actual video ID\n      this.currentAdType = 'pre_roll';\n\n      // Show ads first\n      this.showAds = true;\n\n      // Store stream data for after ads\n      this.currentStream = {\n        url,\n        title,\n        type,\n        isLive,\n        drmConfig,\n        videoId\n      };\n    },\n    onAdsFinished() {\n      this.showAds = false;\n      // Now show the actual video player\n      this.playerVisible = true;\n    },\n    onNoAds() {\n      this.showAds = false;\n      // If no ads, show video player directly\n      this.playerVisible = true;\n    }\n  }\n};","map":{"version":3,"names":["AdvancedVideoPlayer","AdvertisementPlayer","BannerAd","name","components","data","playerVisible","showAds","currentVideoId","currentAdType","user","currentStream","url","title","type","isLive","drmConfig","hlsStreamUrl","dashStreamUrl","drmStreamUrl","servers","clearKeys","mounted","loadUserData","methods","userData","localStorage","getItem","JSON","parse","openPlayer","videoId","onAdsFinished","onNoAds"],"sources":["F:\\OTT\\ott_frontend\\src\\views\\VideoPlayer.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-[#121212] text-white\">\n    <!-- Header -->\n    <header class=\"px-4 py-5 flex items-center justify-between border-b border-white/10\">\n      <div class=\"flex items-center gap-3\">\n        <router-link to=\"/\" class=\"text-[#c30059] font-bold text-2xl\">OTTApp</router-link>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"container mx-auto px-4 py-6\">\n      <div class=\"mb-6\">\n        <h1 class=\"text-2xl font-bold mb-2\">Advanced Video Player</h1>\n        <p class=\"text-white/70\">Featuring HLS, DASH, and DRM support</p>\n      </div>\n      \n      <!-- Banner Advertisement -->\n      <BannerAd \n        v-if=\"user\" \n        :user-id=\"user.id\" \n        position=\"top\"\n        class=\"mb-6\"\n      />\n      \n      <!-- Player Selection Cards -->\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        <!-- HLS Stream Card -->\n        <div class=\"bg-white/5 rounded-lg overflow-hidden hover:bg-white/10 transition-colors\">\n          <div class=\"relative aspect-video bg-black/40\">\n            <img src=\"https://via.placeholder.com/640x360?text=HLS+Stream\" alt=\"HLS Stream\" class=\"w-full h-full object-cover opacity-70\">\n            <button \n              @click=\"openPlayer('hls', hlsStreamUrl, 'HLS Live Stream', true)\"\n              class=\"absolute inset-0 flex items-center justify-center\"\n            >\n              <div class=\"w-16 h-16 bg-[#c30059]/80 rounded-full flex items-center justify-center\">\n                <i class=\"fas fa-play text-white text-xl ml-1\"></i>\n              </div>\n            </button>\n            <div class=\"absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded\">LIVE</div>\n          </div>\n          <div class=\"p-4\">\n            <h3 class=\"font-bold text-lg mb-1\">HLS Live Stream</h3>\n            <p class=\"text-white/60 text-sm mb-2\">Adaptive streaming with HLS</p>\n            <div class=\"text-xs text-white/50 flex items-center\">\n              <i class=\"fas fa-signal mr-1\"></i> Adaptive Bitrate\n            </div>\n          </div>\n        </div>\n        \n        <!-- DASH Stream Card -->\n        <div class=\"bg-white/5 rounded-lg overflow-hidden hover:bg-white/10 transition-colors\">\n          <div class=\"relative aspect-video bg-black/40\">\n            <img src=\"https://via.placeholder.com/640x360?text=DASH+Stream\" alt=\"DASH Stream\" class=\"w-full h-full object-cover opacity-70\">\n            <button \n              @click=\"openPlayer('dash', dashStreamUrl, 'DASH VOD Stream')\"\n              class=\"absolute inset-0 flex items-center justify-center\"\n            >\n              <div class=\"w-16 h-16 bg-[#c30059]/80 rounded-full flex items-center justify-center\">\n                <i class=\"fas fa-play text-white text-xl ml-1\"></i>\n              </div>\n            </button>\n          </div>\n          <div class=\"p-4\">\n            <h3 class=\"font-bold text-lg mb-1\">DASH VOD Stream</h3>\n            <p class=\"text-white/60 text-sm mb-2\">Dynamic Adaptive Streaming over HTTP</p>\n            <div class=\"text-xs text-white/50 flex items-center\">\n              <i class=\"fas fa-film mr-1\"></i> On-Demand Content\n            </div>\n          </div>\n        </div>\n        \n        <!-- DRM Protected Stream Card -->\n        <div class=\"bg-white/5 rounded-lg overflow-hidden hover:bg-white/10 transition-colors\">\n          <div class=\"relative aspect-video bg-black/40\">\n            <img src=\"https://via.placeholder.com/640x360?text=DRM+Protected\" alt=\"DRM Protected\" class=\"w-full h-full object-cover opacity-70\">\n            <button \n              @click=\"openPlayer('dash', drmStreamUrl, 'DRM Protected Content', false, drmConfig)\"\n              class=\"absolute inset-0 flex items-center justify-center\"\n            >\n              <div class=\"w-16 h-16 bg-[#c30059]/80 rounded-full flex items-center justify-center\">\n                <i class=\"fas fa-play text-white text-xl ml-1\"></i>\n              </div>\n            </button>\n            <div class=\"absolute top-2 right-2 bg-yellow-600 text-white text-xs px-2 py-1 rounded flex items-center\">\n              <i class=\"fas fa-lock text-xs mr-1\"></i> DRM\n            </div>\n          </div>\n          <div class=\"p-4\">\n            <h3 class=\"font-bold text-lg mb-1\">DRM Protected Content</h3>\n            <p class=\"text-white/60 text-sm mb-2\">Secure streaming with DRM protection</p>\n            <div class=\"text-xs text-white/50 flex items-center\">\n              <i class=\"fas fa-shield-alt mr-1\"></i> Content Protection\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Information Section -->\n      <div class=\"mt-12 max-w-3xl mx-auto\">\n        <h2 class=\"text-xl font-bold mb-4\">Features and Capabilities</h2>\n        \n        <div class=\"space-y-6\">\n          <div class=\"bg-white/5 p-5 rounded-lg\">\n            <h3 class=\"font-bold mb-2 flex items-center\">\n              <i class=\"fas fa-exchange-alt text-[#c30059] mr-2\"></i> \n              Adaptive Bitrate Streaming\n            </h3>\n            <p class=\"text-white/70\">Automatically adjusts video quality based on available bandwidth and device capabilities. Switch between qualities manually or let the player optimize for your connection.</p>\n          </div>\n          \n          <div class=\"bg-white/5 p-5 rounded-lg\">\n            <h3 class=\"font-bold mb-2 flex items-center\">\n              <i class=\"fas fa-signal text-[#c30059] mr-2\"></i> \n              DASH Support\n            </h3>\n            <p class=\"text-white/70\">Dynamic Adaptive Streaming over HTTP (DASH) provides a standards-based solution for high-quality streaming video delivery, with support for advanced features and content protection.</p>\n          </div>\n          \n          <div class=\"bg-white/5 p-5 rounded-lg\">\n            <h3 class=\"font-bold mb-2 flex items-center\">\n              <i class=\"fas fa-shield-alt text-[#c30059] mr-2\"></i> \n              Digital Rights Management (DRM)\n            </h3>\n            <p class=\"text-white/70\">Supports industry-standard DRM technologies including Widevine, PlayReady, and FairPlay to ensure secure delivery of premium content.</p>\n          </div>\n          \n          <div class=\"bg-white/5 p-5 rounded-lg\">\n            <h3 class=\"font-bold mb-2 flex items-center\">\n              <i class=\"fas fa-broadcast-tower text-[#c30059] mr-2\"></i> \n              Live Streaming\n            </h3>\n            <p class=\"text-white/70\">Low-latency live streaming with dynamic quality adaptation, perfect for live events, sports, and news broadcasts.</p>\n          </div>\n        </div>\n      </div>\n    </main>\n    \n    <!-- Advanced Video Player Modal -->\n    <div \n      v-if=\"playerVisible\" \n      class=\"fixed inset-0 z-50 bg-black flex items-center justify-center\"\n    >\n      <AdvancedVideoPlayer\n        :src=\"currentStream.url\"\n        :title=\"currentStream.title\"\n        :stream-type=\"currentStream.type\"\n        :is-live=\"currentStream.isLive\"\n        :drm-config=\"currentStream.drmConfig\"\n        :autoplay=\"true\"\n        :video-id=\"currentStream.videoId\"\n        @close=\"playerVisible = false\"\n      />\n    </div>\n\n    <!-- Advertisement Player -->\n    <AdvertisementPlayer\n      v-if=\"showAds && user\"\n      :video-id=\"currentVideoId\"\n      :user-id=\"user.id\"\n      :ad-type=\"currentAdType\"\n      @ads-finished=\"onAdsFinished\"\n      @no-ads=\"onNoAds\"\n    />\n  </div>\n</template>\n\n<script>\nimport AdvancedVideoPlayer from '@/components/AdvancedVideoPlayer.vue';\nimport AdvertisementPlayer from '@/components/AdvertisementPlayer.vue';\nimport BannerAd from '@/components/BannerAd.vue';\n\nexport default {\n  name: 'VideoPlayer',\n  components: {\n    AdvancedVideoPlayer,\n    AdvertisementPlayer,\n    BannerAd\n  },\n  data() {\n    return {\n      playerVisible: false,\n      showAds: false,\n      currentVideoId: null,\n      currentAdType: 'pre_roll',\n      user: null,\n      currentStream: {\n        url: '',\n        title: '',\n        type: 'hls',\n        isLive: false,\n        drmConfig: null\n      },\n      \n      // Sample stream URLs (replace with actual URLs in production)\n      hlsStreamUrl: 'https://noonenews.s3.ap-south-1.amazonaws.com/videos/hls/7/hls/master.m3u8',\n      dashStreamUrl: 'https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd',\n      drmStreamUrl: 'https://media.axprod.net/TestVectors/v7-MultiDRM-SingleKey/Manifest.mpd',\n      \n      // Sample DRM configuration (would need to be replaced with actual values)\n      drmConfig: {\n        servers: {\n          'com.widevine.alpha': 'https://drm-widevine-licensing.axtest.net/AcquireLicense',\n          'com.microsoft.playready': 'https://drm-playready-licensing.axtest.net/AcquireLicense'\n        },\n        // For testing with clear key (not actual DRM)\n        clearKeys: {\n          // Key ID : Key (base64)\n          'e4a2359a99d24d5797d10c86da322026': 'cb541084c99731aef4fff74500c12ead'\n        }\n      }\n    };\n  },\n  mounted() {\n    this.loadUserData();\n  },\n  methods: {\n    loadUserData() {\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        this.user = JSON.parse(userData);\n      }\n    },\n\n    openPlayer(type, url, title, isLive = false, drmConfig = null, videoId = null) {\n      // Set video ID for ads (you might want to get this from your actual video data)\n      this.currentVideoId = videoId || 1; // Replace with actual video ID\n      this.currentAdType = 'pre_roll';\n      \n      // Show ads first\n      this.showAds = true;\n      \n      // Store stream data for after ads\n      this.currentStream = {\n        url,\n        title,\n        type,\n        isLive,\n        drmConfig,\n        videoId\n      };\n    },\n\n    onAdsFinished() {\n      this.showAds = false;\n      // Now show the actual video player\n      this.playerVisible = true;\n    },\n\n    onNoAds() {\n      this.showAds = false;\n      // If no ads, show video player directly\n      this.playerVisible = true;\n    }\n  }\n};\n</script> "],"mappings":"AAuKA,OAAOA,mBAAkB,MAAO,sCAAsC;AACtE,OAAOC,mBAAkB,MAAO,sCAAsC;AACtE,OAAOC,QAAO,MAAO,2BAA2B;AAEhD,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,UAAU,EAAE;IACVJ,mBAAmB;IACnBC,mBAAmB;IACnBC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,KAAK;MACpBC,OAAO,EAAE,KAAK;MACdC,cAAc,EAAE,IAAI;MACpBC,aAAa,EAAE,UAAU;MACzBC,IAAI,EAAE,IAAI;MACVC,aAAa,EAAE;QACbC,GAAG,EAAE,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,KAAK;QACXC,MAAM,EAAE,KAAK;QACbC,SAAS,EAAE;MACb,CAAC;MAED;MACAC,YAAY,EAAE,4EAA4E;MAC1FC,aAAa,EAAE,2DAA2D;MAC1EC,YAAY,EAAE,yEAAyE;MAEvF;MACAH,SAAS,EAAE;QACTI,OAAO,EAAE;UACP,oBAAoB,EAAE,0DAA0D;UAChF,yBAAyB,EAAE;QAC7B,CAAC;QACD;QACAC,SAAS,EAAE;UACT;UACA,kCAAkC,EAAE;QACtC;MACF;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACPD,YAAYA,CAAA,EAAG;MACb,MAAME,QAAO,GAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC7C,IAAIF,QAAQ,EAAE;QACZ,IAAI,CAACf,IAAG,GAAIkB,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC;MAClC;IACF,CAAC;IAEDK,UAAUA,CAAChB,IAAI,EAAEF,GAAG,EAAEC,KAAK,EAAEE,MAAK,GAAI,KAAK,EAAEC,SAAQ,GAAI,IAAI,EAAEe,OAAM,GAAI,IAAI,EAAE;MAC7E;MACA,IAAI,CAACvB,cAAa,GAAIuB,OAAM,IAAK,CAAC,EAAE;MACpC,IAAI,CAACtB,aAAY,GAAI,UAAU;;MAE/B;MACA,IAAI,CAACF,OAAM,GAAI,IAAI;;MAEnB;MACA,IAAI,CAACI,aAAY,GAAI;QACnBC,GAAG;QACHC,KAAK;QACLC,IAAI;QACJC,MAAM;QACNC,SAAS;QACTe;MACF,CAAC;IACH,CAAC;IAEDC,aAAaA,CAAA,EAAG;MACd,IAAI,CAACzB,OAAM,GAAI,KAAK;MACpB;MACA,IAAI,CAACD,aAAY,GAAI,IAAI;IAC3B,CAAC;IAED2B,OAAOA,CAAA,EAAG;MACR,IAAI,CAAC1B,OAAM,GAAI,KAAK;MACpB;MACA,IAAI,CAACD,aAAY,GAAI,IAAI;IAC3B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}