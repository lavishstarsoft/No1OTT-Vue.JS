{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-8\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"fixed inset-0 z-50 overflow-y-auto bg-black/90\"\n};\nconst _hoisted_3 = {\n  class: \"min-h-screen px-4 py-6\"\n};\nconst _hoisted_4 = {\n  class: \"relative max-w-7xl mx-auto\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-between mb-6\"\n};\nconst _hoisted_6 = {\n  class: \"text-2xl font-bold text-white\"\n};\nconst _hoisted_7 = {\n  class: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  class: \"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden relative\"\n};\nconst _hoisted_10 = [\"src\", \"alt\"];\nconst _hoisted_11 = {\n  class: \"absolute top-0 left-0 right-0 flex justify-between items-start p-2 bg-gradient-to-b from-black/70 to-transparent\"\n};\nconst _hoisted_12 = {\n  class: \"flex gap-2\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"badge-premium flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\"\n};\nconst _hoisted_14 = {\n  key: 1,\n  class: \"badge-rental flex items-center text-[10px] font-medium px-2 py-1 rounded backdrop-blur-sm\"\n};\nconst _hoisted_15 = {\n  class: \"absolute bottom-2 right-2 bg-black/70 px-2 py-0.5 rounded text-xs text-white\"\n};\nconst _hoisted_16 = {\n  class: \"mt-2\"\n};\nconst _hoisted_17 = {\n  class: \"text-white text-sm font-medium truncate w-full\"\n};\nconst _hoisted_18 = {\n  class: \"text-gray-400 text-xs\"\n};\nconst _hoisted_19 = {\n  class: \"flex items-center justify-between mb-4 pr-4\"\n};\nconst _hoisted_20 = {\n  class: \"text-lg font-medium gradient-text\"\n};\nconst _hoisted_21 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = {\n  class: \"relative\"\n};\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = [\"onScroll\"];\nconst _hoisted_26 = [\"onClick\"];\nconst _hoisted_27 = {\n  class: \"w-[200px] h-[120px] bg-gray-800 rounded-lg overflow-hidden relative\"\n};\nconst _hoisted_28 = [\"src\", \"alt\"];\nconst _hoisted_29 = {\n  class: \"absolute top-2 left-2 flex gap-2\"\n};\nconst _hoisted_30 = {\n  key: 0,\n  class: \"bg-purple-600 text-white text-xs px-2 py-0.5 rounded\"\n};\nconst _hoisted_31 = {\n  class: \"mt-2 w-[200px]\"\n};\nconst _hoisted_32 = {\n  class: \"text-white text-sm font-medium truncate\"\n};\nconst _hoisted_33 = [\"onClick\"];\nconst _hoisted_34 = {\n  class: \"w-[200px] h-[120px] bg-gray-800 rounded-lg overflow-hidden relative\"\n};\nconst _hoisted_35 = [\"src\", \"alt\"];\nconst _hoisted_36 = {\n  class: \"absolute top-0 left-0 right-0 flex justify-between items-start p-2 bg-gradient-to-b from-black/70 to-transparent\"\n};\nconst _hoisted_37 = {\n  class: \"flex gap-2\"\n};\nconst _hoisted_38 = {\n  key: 0,\n  class: \"badge-premium flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\"\n};\nconst _hoisted_39 = {\n  key: 1,\n  class: \"badge-rental flex items-center text-[10px] font-medium px-2 py-1 rounded backdrop-blur-sm\"\n};\nconst _hoisted_40 = {\n  class: \"mt-2 w-[200px]\"\n};\nconst _hoisted_41 = {\n  class: \"text-white text-sm font-medium truncate\"\n};\nconst _hoisted_42 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LiveTVPlayer = _resolveComponent(\"LiveTVPlayer\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [$setup.showViewAllModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h2\", _hoisted_6, _toDisplayString($setup.selectedCategory?.name), 1), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.closeViewAllModal && $options.closeViewAllModal(...args)),\n    class: \"text-white hover:text-gray-300\"\n  }, _cache[1] || (_cache[1] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times text-xl\"\n  }, null, -1)]))]), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categoryVideos[$setup.selectedCategory?.id]?.data, video => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: video.id,\n      class: \"cursor-pointer group\",\n      onClick: $event => $options.playVideo(video)\n    }, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n      src: video.portrait_thumbnail_url || video.thumbnail_url,\n      alt: video.title,\n      class: \"w-full h-full object-cover\"\n    }, null, 8, _hoisted_10), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [video.is_premium ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, _cache[2] || (_cache[2] = [_createElementVNode(\"i\", {\n      class: \"fas fa-crown text-yellow-400\"\n    }, null, -1)]))) : _createCommentVNode(\"\", true), video.video_type === 'rental' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_14, _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n      class: \"fas fa-ticket mr-1\"\n    }, null, -1), _createTextVNode(\" RENTAL \")]))) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_15, _toDisplayString(_ctx.formatDuration(video.duration)), 1), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n      class: \"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/50\"\n    }, [_createElementVNode(\"div\", {\n      class: \"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-play text-white\"\n    })])], -1))]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"h4\", _hoisted_17, _toDisplayString(video.title), 1), _createElementVNode(\"p\", _hoisted_18, _toDisplayString($options.formatViews(video.views_count)) + \" Views\", 1)])], 8, _hoisted_8);\n  }), 128))])])])])) : _createCommentVNode(\"\", true), _createVNode(_component_LiveTVPlayer, {\n    \"is-open\": $setup.isPlayerOpen,\n    \"video-url\": $setup.selectedVideoUrl,\n    \"video-title\": $setup.selectedVideoTitle,\n    \"is-direct-video\": false,\n    onClose: $options.closePlayer\n  }, null, 8, [\"is-open\", \"video-url\", \"video-title\", \"onClose\"]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, category => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: category.id,\n      class: \"mb-8\"\n    }, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h2\", _hoisted_20, _toDisplayString(category.name), 1), _createElementVNode(\"div\", _hoisted_21, [_createVNode(_component_router_link, {\n      to: {\n        name: 'CategoryVideos',\n        params: {\n          id: category.id\n        }\n      },\n      class: \"text-white font-semibold text-sm hover:underline whitespace-nowrap\"\n    }, {\n      default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\" View All \")])),\n      _: 2,\n      __: [5]\n    }, 1032, [\"to\"]), $setup.categoryVideos[category.id]?.pagination?.has_next ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.loadMoreVideos(category.id),\n      class: \"text-sm text-blue-500 hover:text-blue-400\"\n    }, \" View More \", 8, _hoisted_22)) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_23, [_withDirectives(_createElementVNode(\"button\", {\n      onClick: $event => $options.scroll('left', category.id),\n      class: \"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70\"\n    }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n      class: \"fas fa-chevron-left\"\n    }, null, -1)]), 8, _hoisted_24), [[_vShow, $setup.scrollStates[category.id]?.canScrollLeft]]), _createElementVNode(\"div\", {\n      ref_for: true,\n      ref: el => $setup.setContainerRef(el, category.id),\n      class: \"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth\",\n      onScroll: $event => $options.checkScroll(category.id)\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categoryLiveStreams[category.id] || [], stream => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: 'live-' + stream.id,\n        class: \"flex-shrink-0 relative group cursor-pointer\",\n        onClick: $event => $options.playLiveStream(stream)\n      }, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"img\", {\n        src: stream.thumbnail || 'https://via.placeholder.com/200x120',\n        alt: stream.title,\n        class: \"w-full h-full object-cover\"\n      }, null, 8, _hoisted_28), _createElementVNode(\"div\", _hoisted_29, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n        class: \"bg-red-600 text-white text-xs px-2 py-0.5 rounded animate-pulse\"\n      }, \" LIVE \", -1)), stream.is_premium ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, \" PREMIUM \")) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"h4\", _hoisted_32, _toDisplayString(stream.title), 1)])], 8, _hoisted_26);\n    }), 128)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categoryVideos[category.id]?.data || [], video => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: video.id,\n        class: \"flex-shrink-0 relative group cursor-pointer\",\n        onClick: $event => $options.playVideo(video)\n      }, [_createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"img\", {\n        src: video.thumbnail_url || 'https://via.placeholder.com/200x120',\n        alt: video.title,\n        class: \"w-full h-full object-cover\"\n      }, null, 8, _hoisted_35), _createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [video.is_premium ? (_openBlock(), _createElementBlock(\"span\", _hoisted_38, _cache[8] || (_cache[8] = [_createElementVNode(\"i\", {\n        class: \"fas fa-crown text-yellow-400\"\n      }, null, -1)]))) : _createCommentVNode(\"\", true), video.video_type === 'rental' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_39, _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n        class: \"fas fa-ticket mr-1\"\n      }, null, -1), _createTextVNode(\" RENTAL \")]))) : _createCommentVNode(\"\", true)])]), _cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n        class: \"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/50\"\n      }, [_createElementVNode(\"div\", {\n        class: \"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm\"\n      }, [_createElementVNode(\"i\", {\n        class: \"fas fa-play text-white\"\n      })])], -1))]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"h4\", _hoisted_41, _toDisplayString(video.title), 1)])], 8, _hoisted_33);\n    }), 128))], 40, _hoisted_25), _withDirectives(_createElementVNode(\"button\", {\n      onClick: $event => $options.scroll('right', category.id),\n      class: \"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70\"\n    }, _cache[11] || (_cache[11] = [_createElementVNode(\"i\", {\n      class: \"fas fa-chevron-right\"\n    }, null, -1)]), 8, _hoisted_42), [[_vShow, $setup.scrollStates[category.id]?.canScrollRight]])])]);\n  }), 128))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$setup","showViewAllModal","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","selectedCategory","name","onClick","_cache","args","$options","closeViewAllModal","_hoisted_7","_Fragment","_renderList","categoryVideos","id","data","video","key","$event","playVideo","_hoisted_9","src","portrait_thumbnail_url","thumbnail_url","alt","title","_hoisted_11","_hoisted_12","is_premium","_hoisted_13","video_type","_hoisted_14","_hoisted_15","_ctx","formatDuration","duration","_hoisted_16","_hoisted_17","_hoisted_18","formatViews","views_count","_createVNode","_component_LiveTVPlayer","isPlayerOpen","selectedVideoUrl","selectedVideoTitle","onClose","closePlayer","categories","category","_hoisted_19","_hoisted_20","_hoisted_21","_component_router_link","to","params","pagination","has_next","loadMoreVideos","_hoisted_22","_hoisted_23","scroll","scrollStates","canScrollLeft","ref","el","setContainerRef","onScroll","checkScroll","categoryLiveStreams","stream","playLiveStream","_hoisted_27","thumbnail","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_34","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","canScrollRight"],"sources":["F:\\ott_tv\\ott_frontend\\src\\components\\CategorySection.vue"],"sourcesContent":["# Create a new CategorySection component\n<template>\n  <section class=\"mb-8\">\n    <!-- Add ViewAllModal component -->\n    <div v-if=\"showViewAllModal\" class=\"fixed inset-0 z-50 overflow-y-auto bg-black/90\">\n      <div class=\"min-h-screen px-4 py-6\">\n        <div class=\"relative max-w-7xl mx-auto\">\n          <!-- Modal Header -->\n          <div class=\"flex items-center justify-between mb-6\">\n            <h2 class=\"text-2xl font-bold text-white\">{{ selectedCategory?.name }}</h2>\n            <button @click=\"closeViewAllModal\" class=\"text-white hover:text-gray-300\">\n              <i class=\"fas fa-times text-xl\"></i>\n            </button>\n          </div>\n\n          <!-- Videos Grid -->\n          <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n            <div \n              v-for=\"video in categoryVideos[selectedCategory?.id]?.data\" \n              :key=\"video.id\"\n              class=\"cursor-pointer group\"\n              @click=\"playVideo(video)\"\n            >\n              <div class=\"aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden relative\">\n                <img \n                  :src=\"video.portrait_thumbnail_url || video.thumbnail_url\" \n                  :alt=\"video.title\"\n                  class=\"w-full h-full object-cover\"\n                >\n                \n                <!-- Video badges -->\n                <div class=\"absolute top-0 left-0 right-0 flex justify-between items-start p-2 bg-gradient-to-b from-black/70 to-transparent\">\n                  <div class=\"flex gap-2\">\n                    <span \n                      v-if=\"video.is_premium\" \n                      class=\"badge-premium flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\"\n                    >\n                      <i class=\"fas fa-crown text-yellow-400\"></i>\n                    </span>\n                    <span \n                      v-if=\"video.video_type === 'rental'\" \n                      class=\"badge-rental flex items-center text-[10px] font-medium px-2 py-1 rounded backdrop-blur-sm\"\n                    >\n                      <i class=\"fas fa-ticket mr-1\"></i>\n                      RENTAL\n                    </span>\n                  </div>\n                </div>\n                \n                <!-- Duration badge -->\n                <div class=\"absolute bottom-2 right-2 bg-black/70 px-2 py-0.5 rounded text-xs text-white\">\n                  {{ formatDuration(video.duration) }}\n                </div>\n                \n                <!-- Play button overlay -->\n                <div class=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/50\">\n                  <div class=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm\">\n                    <i class=\"fas fa-play text-white\"></i>\n                  </div>\n                </div>\n              </div>\n              <div class=\"mt-2\">\n                <h4 class=\"text-white text-sm font-medium truncate w-full\">{{ video.title }}</h4>\n                <p class=\"text-gray-400 text-xs\">{{ formatViews(video.views_count) }} Views</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add LiveTVPlayer component -->\n    <LiveTVPlayer\n      :is-open=\"isPlayerOpen\"\n      :video-url=\"selectedVideoUrl\"\n      :video-title=\"selectedVideoTitle\"\n      :is-direct-video=\"false\"\n      @close=\"closePlayer\"\n    />\n    \n    <!-- Categories with their videos -->\n    <div v-for=\"category in categories\" :key=\"category.id\" class=\"mb-8\">\n      <div class=\"flex items-center justify-between mb-4 pr-4\">\n        <h2 class=\"text-lg font-medium gradient-text\">{{ category.name }}</h2>\n        <div class=\"flex items-center gap-2\">\n          <router-link\n            :to=\"{ name: 'CategoryVideos', params: { id: category.id }}\"\n            class=\"text-white font-semibold text-sm hover:underline whitespace-nowrap\"\n          >\n            View All\n          </router-link>\n          <button \n            @click=\"loadMoreVideos(category.id)\"\n            v-if=\"categoryVideos[category.id]?.pagination?.has_next\"\n            class=\"text-sm text-blue-500 hover:text-blue-400\"\n          >\n            View More\n          </button>\n        </div>\n      </div>\n      \n      <div class=\"relative\">\n        <button \n          @click=\"scroll('left', category.id)\" \n          class=\"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70\"\n          v-show=\"scrollStates[category.id]?.canScrollLeft\"\n        >\n          <i class=\"fas fa-chevron-left\"></i>\n        </button>\n        \n        <div \n          :ref=\"el => setContainerRef(el, category.id)\"\n          class=\"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth\"\n          @scroll=\"checkScroll(category.id)\"\n        >\n          <!-- Live Streams -->\n          <div \n            v-for=\"stream in categoryLiveStreams[category.id] || []\" \n            :key=\"'live-' + stream.id\"\n            class=\"flex-shrink-0 relative group cursor-pointer\"\n            @click=\"playLiveStream(stream)\"\n          >\n            <div class=\"w-[200px] h-[120px] bg-gray-800 rounded-lg overflow-hidden relative\">\n              <img \n                :src=\"stream.thumbnail || 'https://via.placeholder.com/200x120'\" \n                :alt=\"stream.title\"\n                class=\"w-full h-full object-cover\"\n              >\n              \n              <!-- Live Stream Badge -->\n              <div class=\"absolute top-2 left-2 flex gap-2\">\n                <span class=\"bg-red-600 text-white text-xs px-2 py-0.5 rounded animate-pulse\">\n                  LIVE\n                </span>\n                <span v-if=\"stream.is_premium\" class=\"bg-purple-600 text-white text-xs px-2 py-0.5 rounded\">\n                  PREMIUM\n                </span>\n              </div>\n            </div>\n            <div class=\"mt-2 w-[200px]\">\n              <h4 class=\"text-white text-sm font-medium truncate\">{{ stream.title }}</h4>\n            </div>\n          </div>\n\n          <!-- Regular Videos -->\n          <div \n            v-for=\"video in categoryVideos[category.id]?.data || []\" \n            :key=\"video.id\"\n            class=\"flex-shrink-0 relative group cursor-pointer\"\n            @click=\"playVideo(video)\"\n          >\n            <div class=\"w-[200px] h-[120px] bg-gray-800 rounded-lg overflow-hidden relative\">\n              <img \n                :src=\"video.thumbnail_url || 'https://via.placeholder.com/200x120'\" \n                :alt=\"video.title\"\n                class=\"w-full h-full object-cover\"\n              >\n              \n              <!-- Video badges -->\n              <div class=\"absolute top-0 left-0 right-0 flex justify-between items-start p-2 bg-gradient-to-b from-black/70 to-transparent\">\n                <div class=\"flex gap-2\">\n                  <span \n                    v-if=\"video.is_premium\" \n                    class=\"badge-premium flex items-center justify-center w-6 h-6 rounded-full backdrop-blur-sm\"\n                  >\n                    <i class=\"fas fa-crown text-yellow-400\"></i>\n                  </span>\n                  <span \n                    v-if=\"video.video_type === 'rental'\" \n                    class=\"badge-rental flex items-center text-[10px] font-medium px-2 py-1 rounded backdrop-blur-sm\"\n                  >\n                    <i class=\"fas fa-ticket mr-1\"></i>\n                    RENTAL\n                  </span>\n                </div>\n              </div>\n              \n              <!-- Play button overlay -->\n              <div class=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/50\">\n                <div class=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm\">\n                  <i class=\"fas fa-play text-white\"></i>\n                </div>\n              </div>\n            </div>\n            <!-- Video title and views -->\n            <div class=\"mt-2 w-[200px]\">\n              <h4 class=\"text-white text-sm font-medium truncate\">{{ video.title }}</h4>\n            </div>\n          </div>\n        </div>\n        \n        <button \n          @click=\"scroll('right', category.id)\" \n          class=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full hover:bg-black/70\"\n          v-show=\"scrollStates[category.id]?.canScrollRight\"\n        >\n          <i class=\"fas fa-chevron-right\"></i>\n        </button>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { ref, reactive } from 'vue'\nimport LiveTVPlayer from './LiveTVPlayer.vue'\n\n// API బేస్ URL ని కాన్స్టెంట్‌గా డిఫైన్ చేయడం\nconst API_BASE_URL = 'https://ott.no1news.in'\n\nexport default {\n  name: 'CategorySection',\n  components: {\n    LiveTVPlayer\n  },\n  props: {\n    title: {\n      type: String,\n      default: 'Categories'\n    }\n  },\n  setup() {\n    const categories = ref([])\n    const categoryVideos = reactive({})\n    const categoryLiveStreams = reactive({})\n    const scrollStates = reactive({})\n    const containerRefs = reactive({})\n    const isPlayerOpen = ref(false)\n    const selectedVideoUrl = ref('')\n    const selectedVideoTitle = ref('')\n    const pollingInterval = ref(null)\n    const showViewAllModal = ref(false)\n    const selectedCategory = ref(null)\n\n    const setContainerRef = (el, categoryId) => {\n      if (el) {\n        containerRefs[categoryId] = el\n      }\n    }\n\n    return {\n      categories,\n      categoryVideos,\n      categoryLiveStreams,\n      scrollStates,\n      containerRefs,\n      setContainerRef,\n      isPlayerOpen,\n      selectedVideoUrl,\n      selectedVideoTitle,\n      pollingInterval,\n      showViewAllModal,\n      selectedCategory\n    }\n  },\n  mounted() {\n    this.fetchCategories()\n    // Start polling for updates every 5 seconds\n    this.startPolling()\n  },\n  beforeUnmount() {\n    // Clean up polling when component is destroyed\n    this.stopPolling()\n  },\n  methods: {\n    startPolling() {\n      this.pollingInterval = setInterval(() => {\n        if (this.categories.length > 0) {\n          this.categories.forEach(category => {\n            this.fetchLiveStreams(category.id)\n          })\n        }\n      }, 5000)\n    },\n    stopPolling() {\n      if (this.pollingInterval) {\n        clearInterval(this.pollingInterval)\n        this.pollingInterval = null\n      }\n    },\n    async fetchCategories() {\n      try {\n        const response = await axios.get(`${API_BASE_URL}/api/frontend/categories/`)\n        if (response.data.status === 'success') {\n          this.categories = response.data.data\n          // Initialize scroll states for each category\n          this.categories.forEach(category => {\n            this.scrollStates[category.id] = {\n              canScrollLeft: false,\n              canScrollRight: true\n            }\n            // Fetch videos for each category\n            this.fetchCategoryVideos(category.id)\n            this.fetchLiveStreams(category.id)\n          })\n        }\n      } catch (error) {\n        console.error('Error fetching categories:', error)\n      }\n    },\n    capitalizeText(text) {\n      if (!text) return '';\n      // Split by spaces and special characters\n      return text.split(/[\\s-]+/).map(word => {\n        // Don't change case for special words\n        const specialWords = ['HD', 'UHD', '4K', 'TV', 'II', 'III', 'IV', 'SPY'];\n        if (specialWords.includes(word.toUpperCase())) {\n          return word.toUpperCase();\n        }\n        // Don't change case for articles and conjunctions in middle of title\n        const minorWords = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'in', 'to', 'on', 'at', 'by', 'of'];\n        if (minorWords.includes(word.toLowerCase())) {\n          return word.toLowerCase();\n        }\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n      }).join(' ');\n    },\n    async fetchCategoryVideos(categoryId, page = 1) {\n      try {\n        const response = await axios.get(`${API_BASE_URL}/api/videos/category/${categoryId}/?page=${page}&page_size=10`)\n        if (response.data.status === 'success') {\n          console.log('API Response Videos:', response.data.data.map(video => ({\n            id: video.id,\n            video_url: video.video_url,\n            promo_url: video.promo_video_url,\n            hls_url: video.promo_hls_url\n          })));\n\n          const processedVideos = response.data.data.map(video => ({\n            ...video,\n            title: this.capitalizeText(video.title),\n            description: this.capitalizeText(video.description),\n            is_live: false\n          }));\n\n          if (page === 1) {\n            this.categoryVideos[categoryId] = {\n              ...response.data,\n              data: processedVideos\n            }\n          } else {\n            this.categoryVideos[categoryId] = {\n              ...response.data,\n              data: [...(this.categoryVideos[categoryId]?.data || []), ...processedVideos]\n            }\n          }\n        }\n      } catch (error) {\n        console.error(`Error fetching videos for category ${categoryId}:`, error)\n      }\n    },\n    async fetchLiveStreams(categoryId) {\n      try {\n        const response = await axios.get(`${API_BASE_URL}/api/live-streams/by_category/?category_id=${categoryId}`)\n        const streams = response.data.map(stream => ({\n          ...stream,\n          title: this.capitalizeText(stream.title),\n          description: this.capitalizeText(stream.description),\n          is_live: true\n        }))\n        this.categoryLiveStreams[categoryId] = streams.sort((a, b) => a.order - b.order)\n      } catch (error) {\n        console.error(`Error fetching live streams for category ${categoryId}:`, error)\n      }\n    },\n    async loadMoreVideos(categoryId) {\n      const currentPage = this.categoryVideos[categoryId]?.pagination?.current_page || 1\n      if (this.categoryVideos[categoryId]?.pagination?.has_next) {\n        await this.fetchCategoryVideos(categoryId, currentPage + 1)\n      }\n    },\n    scroll(direction, categoryId) {\n      const container = this.containerRefs[categoryId]\n      if (!container) return\n      \n      const scrollAmount = 300\n      if (direction === 'left') {\n        container.scrollLeft -= scrollAmount\n      } else {\n        container.scrollLeft += scrollAmount\n      }\n    },\n    checkScroll(categoryId) {\n      const container = this.containerRefs[categoryId]\n      if (!container) return\n      \n      this.scrollStates[categoryId] = {\n        canScrollLeft: container.scrollLeft > 0,\n        canScrollRight: container.scrollLeft < (container.scrollWidth - container.clientWidth)\n      }\n    },\n    playVideo(video) {\n      // For regular videos, navigate to MovieDetails\n      if (!video.live_url) {\n        // Log the video URL we are using\n        console.log('Playing video with URL:', {\n          id: video.id,\n          video_url: video.video_url,\n          is_hls: video.video_url?.includes('.m3u8')\n        });\n\n        // Only use HLS URL\n        const videoUrl = video.video_url;\n        \n        // Check if it's a valid HLS URL\n        if (!videoUrl || !videoUrl.includes('.m3u8')) {\n          console.error('Invalid or missing HLS URL:', video);\n          return;\n        }\n\n        this.$router.push({\n          name: 'MovieDetails',\n          params: { \n            id: video.id,\n            videoUrl: videoUrl,\n            videoType: 'hls'\n          }\n        });\n      }\n    },\n    playLiveStream(stream) {\n      if (stream.live_url) {\n        this.selectedVideoUrl = stream.live_url;\n        this.selectedVideoTitle = stream.title;\n        this.isPlayerOpen = true;\n      }\n    },\n    closePlayer() {\n      this.isPlayerOpen = false\n      this.selectedVideoUrl = ''\n      this.selectedVideoTitle = ''\n    },\n    isNewVideo(createdAt) {\n      const videoDate = new Date(createdAt)\n      const now = new Date()\n      const diffDays = Math.ceil((now - videoDate) / (1000 * 60 * 60 * 24))\n      return diffDays <= 7 // 7 days or newer\n    },\n    formatViews(views) {\n      if (views >= 1000000) {\n        return `${(views / 1000000).toFixed(1)}M`\n      } else if (views >= 1000) {\n        return `${(views / 1000).toFixed(1)}K`\n      }\n      return views.toString()\n    },\n    showAllVideos(category) {\n      this.selectedCategory = category;\n      this.showViewAllModal = true;\n      // Fetch all videos for this category if not already loaded\n      this.fetchCategoryVideos(category.id, 1, 100);\n    },\n    closeViewAllModal() {\n      this.showViewAllModal = false;\n      this.selectedCategory = null;\n    },\n  }\n}\n</script>\n\n<style scoped>\n.scrollbar-hide {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;\n}\n\n/* Add these new styles */\n.grid {\n  display: grid;\n  gap: 1rem;\n}\n\n/* Title styles */\n.truncate {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n}\n\n@media (min-width: 640px) {\n  .grid {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n}\n\n@media (min-width: 768px) {\n  .grid {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n}\n\n@media (min-width: 1024px) {\n  .grid {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n}\n\n/* Modal animation */\n.modal-enter-active,\n.modal-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-enter-from,\n.modal-leave-to {\n  opacity: 0;\n}\n\n.badge-new {\n  background: rgba(220, 38, 38, 0.8);\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.badge-premium {\n  background: rgba(195, 0, 89, 0.8); /* Changed to pink color */\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.badge-rental {\n  background: rgba(234, 179, 8, 0.8);\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}